var f1=Object.defineProperty;var h1=(i,e,t)=>e in i?f1(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var de=(i,e,t)=>h1(i,typeof e!="symbol"?e+"":e,t);function d1(i,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in i)){const o=Object.getOwnPropertyDescriptor(n,a);o&&Object.defineProperty(i,a,o.get?o:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function MT(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Im={exports:{}},Du={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tE;function p1(){if(tE)return Du;tE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:i,type:n,key:c,ref:a!==void 0?a:null,props:o}}return Du.Fragment=e,Du.jsx=t,Du.jsxs=t,Du}var nE;function m1(){return nE||(nE=1,Im.exports=p1()),Im.exports}var Ie=m1(),Mm={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rE;function g1(){if(rE)return Ne;rE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function T(x){return x===null||typeof x!="object"?null:(x=E&&x[E]||x["@@iterator"],typeof x=="function"?x:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,U={};function I(x,ee,fe){this.props=x,this.context=ee,this.refs=U,this.updater=fe||A}I.prototype.isReactComponent={},I.prototype.setState=function(x,ee){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,ee,"setState")},I.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function Q(){}Q.prototype=I.prototype;function W(x,ee,fe){this.props=x,this.context=ee,this.refs=U,this.updater=fe||A}var K=W.prototype=new Q;K.constructor=W,N(K,I.prototype),K.isPureReactComponent=!0;var ae=Array.isArray,ie={H:null,A:null,T:null,S:null,V:null},ce=Object.prototype.hasOwnProperty;function M(x,ee,fe,le,Ee,Le){return fe=Le.ref,{$$typeof:i,type:x,key:ee,ref:fe!==void 0?fe:null,props:Le}}function D(x,ee){return M(x.type,ee,void 0,void 0,void 0,x.props)}function R(x){return typeof x=="object"&&x!==null&&x.$$typeof===i}function O(x){var ee={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(fe){return ee[fe]})}var P=/\/+/g;function V(x,ee){return typeof x=="object"&&x!==null&&x.key!=null?O(""+x.key):ee.toString(36)}function C(){}function Re(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(C,C):(x.status="pending",x.then(function(ee){x.status==="pending"&&(x.status="fulfilled",x.value=ee)},function(ee){x.status==="pending"&&(x.status="rejected",x.reason=ee)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function we(x,ee,fe,le,Ee){var Le=typeof x;(Le==="undefined"||Le==="boolean")&&(x=null);var Me=!1;if(x===null)Me=!0;else switch(Le){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(x.$$typeof){case i:case e:Me=!0;break;case v:return Me=x._init,we(Me(x._payload),ee,fe,le,Ee)}}if(Me)return Ee=Ee(x),Me=le===""?"."+V(x,0):le,ae(Ee)?(fe="",Me!=null&&(fe=Me.replace(P,"$&/")+"/"),we(Ee,ee,fe,"",function(mr){return mr})):Ee!=null&&(R(Ee)&&(Ee=D(Ee,fe+(Ee.key==null||x&&x.key===Ee.key?"":(""+Ee.key).replace(P,"$&/")+"/")+Me)),ee.push(Ee)),1;Me=0;var qt=le===""?".":le+":";if(ae(x))for(var ft=0;ft<x.length;ft++)le=x[ft],Le=qt+V(le,ft),Me+=we(le,ee,fe,Le,Ee);else if(ft=T(x),typeof ft=="function")for(x=ft.call(x),ft=0;!(le=x.next()).done;)le=le.value,Le=qt+V(le,ft++),Me+=we(le,ee,fe,Le,Ee);else if(Le==="object"){if(typeof x.then=="function")return we(Re(x),ee,fe,le,Ee);throw ee=String(x),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Me}function H(x,ee,fe){if(x==null)return x;var le=[],Ee=0;return we(x,le,"","",function(Le){return ee.call(fe,Le,Ee++)}),le}function J(x){if(x._status===-1){var ee=x._result;ee=ee(),ee.then(function(fe){(x._status===0||x._status===-1)&&(x._status=1,x._result=fe)},function(fe){(x._status===0||x._status===-1)&&(x._status=2,x._result=fe)}),x._status===-1&&(x._status=0,x._result=ee)}if(x._status===1)return x._result.default;throw x._result}var se=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function Te(){}return Ne.Children={map:H,forEach:function(x,ee,fe){H(x,function(){ee.apply(this,arguments)},fe)},count:function(x){var ee=0;return H(x,function(){ee++}),ee},toArray:function(x){return H(x,function(ee){return ee})||[]},only:function(x){if(!R(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Ne.Component=I,Ne.Fragment=t,Ne.Profiler=a,Ne.PureComponent=W,Ne.StrictMode=n,Ne.Suspense=p,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ie,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(x){return ie.H.useMemoCache(x)}},Ne.cache=function(x){return function(){return x.apply(null,arguments)}},Ne.cloneElement=function(x,ee,fe){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var le=N({},x.props),Ee=x.key,Le=void 0;if(ee!=null)for(Me in ee.ref!==void 0&&(Le=void 0),ee.key!==void 0&&(Ee=""+ee.key),ee)!ce.call(ee,Me)||Me==="key"||Me==="__self"||Me==="__source"||Me==="ref"&&ee.ref===void 0||(le[Me]=ee[Me]);var Me=arguments.length-2;if(Me===1)le.children=fe;else if(1<Me){for(var qt=Array(Me),ft=0;ft<Me;ft++)qt[ft]=arguments[ft+2];le.children=qt}return M(x.type,Ee,void 0,void 0,Le,le)},Ne.createContext=function(x){return x={$$typeof:c,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:o,_context:x},x},Ne.createElement=function(x,ee,fe){var le,Ee={},Le=null;if(ee!=null)for(le in ee.key!==void 0&&(Le=""+ee.key),ee)ce.call(ee,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(Ee[le]=ee[le]);var Me=arguments.length-2;if(Me===1)Ee.children=fe;else if(1<Me){for(var qt=Array(Me),ft=0;ft<Me;ft++)qt[ft]=arguments[ft+2];Ee.children=qt}if(x&&x.defaultProps)for(le in Me=x.defaultProps,Me)Ee[le]===void 0&&(Ee[le]=Me[le]);return M(x,Le,void 0,void 0,null,Ee)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(x){return{$$typeof:h,render:x}},Ne.isValidElement=R,Ne.lazy=function(x){return{$$typeof:v,_payload:{_status:-1,_result:x},_init:J}},Ne.memo=function(x,ee){return{$$typeof:g,type:x,compare:ee===void 0?null:ee}},Ne.startTransition=function(x){var ee=ie.T,fe={};ie.T=fe;try{var le=x(),Ee=ie.S;Ee!==null&&Ee(fe,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Te,se)}catch(Le){se(Le)}finally{ie.T=ee}},Ne.unstable_useCacheRefresh=function(){return ie.H.useCacheRefresh()},Ne.use=function(x){return ie.H.use(x)},Ne.useActionState=function(x,ee,fe){return ie.H.useActionState(x,ee,fe)},Ne.useCallback=function(x,ee){return ie.H.useCallback(x,ee)},Ne.useContext=function(x){return ie.H.useContext(x)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(x,ee){return ie.H.useDeferredValue(x,ee)},Ne.useEffect=function(x,ee,fe){var le=ie.H;if(typeof fe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(x,ee)},Ne.useId=function(){return ie.H.useId()},Ne.useImperativeHandle=function(x,ee,fe){return ie.H.useImperativeHandle(x,ee,fe)},Ne.useInsertionEffect=function(x,ee){return ie.H.useInsertionEffect(x,ee)},Ne.useLayoutEffect=function(x,ee){return ie.H.useLayoutEffect(x,ee)},Ne.useMemo=function(x,ee){return ie.H.useMemo(x,ee)},Ne.useOptimistic=function(x,ee){return ie.H.useOptimistic(x,ee)},Ne.useReducer=function(x,ee,fe){return ie.H.useReducer(x,ee,fe)},Ne.useRef=function(x){return ie.H.useRef(x)},Ne.useState=function(x){return ie.H.useState(x)},Ne.useSyncExternalStore=function(x,ee,fe){return ie.H.useSyncExternalStore(x,ee,fe)},Ne.useTransition=function(){return ie.H.useTransition()},Ne.version="19.1.0",Ne}var iE;function Vg(){return iE||(iE=1,Mm.exports=g1()),Mm.exports}var oe=Vg();const $=MT(oe),OT=d1({__proto__:null,default:$},[oe]);var Om={exports:{}},Au={},km={exports:{}},Nm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aE;function y1(){return aE||(aE=1,function(i){function e(H,J){var se=H.length;H.push(J);e:for(;0<se;){var Te=se-1>>>1,x=H[Te];if(0<a(x,J))H[Te]=J,H[se]=x,se=Te;else break e}}function t(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var J=H[0],se=H.pop();if(se!==J){H[0]=se;e:for(var Te=0,x=H.length,ee=x>>>1;Te<ee;){var fe=2*(Te+1)-1,le=H[fe],Ee=fe+1,Le=H[Ee];if(0>a(le,se))Ee<x&&0>a(Le,le)?(H[Te]=Le,H[Ee]=se,Te=Ee):(H[Te]=le,H[fe]=se,Te=fe);else if(Ee<x&&0>a(Le,se))H[Te]=Le,H[Ee]=se,Te=Ee;else break e}}return J}function a(H,J){var se=H.sortIndex-J.sortIndex;return se!==0?se:H.id-J.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;i.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();i.unstable_now=function(){return c.now()-h}}var p=[],g=[],v=1,E=null,T=3,A=!1,N=!1,U=!1,I=!1,Q=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function ae(H){for(var J=t(g);J!==null;){if(J.callback===null)n(g);else if(J.startTime<=H)n(g),J.sortIndex=J.expirationTime,e(p,J);else break;J=t(g)}}function ie(H){if(U=!1,ae(H),!N)if(t(p)!==null)N=!0,ce||(ce=!0,V());else{var J=t(g);J!==null&&we(ie,J.startTime-H)}}var ce=!1,M=-1,D=5,R=-1;function O(){return I?!0:!(i.unstable_now()-R<D)}function P(){if(I=!1,ce){var H=i.unstable_now();R=H;var J=!0;try{e:{N=!1,U&&(U=!1,W(M),M=-1),A=!0;var se=T;try{t:{for(ae(H),E=t(p);E!==null&&!(E.expirationTime>H&&O());){var Te=E.callback;if(typeof Te=="function"){E.callback=null,T=E.priorityLevel;var x=Te(E.expirationTime<=H);if(H=i.unstable_now(),typeof x=="function"){E.callback=x,ae(H),J=!0;break t}E===t(p)&&n(p),ae(H)}else n(p);E=t(p)}if(E!==null)J=!0;else{var ee=t(g);ee!==null&&we(ie,ee.startTime-H),J=!1}}break e}finally{E=null,T=se,A=!1}J=void 0}}finally{J?V():ce=!1}}}var V;if(typeof K=="function")V=function(){K(P)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Re=C.port2;C.port1.onmessage=P,V=function(){Re.postMessage(null)}}else V=function(){Q(P,0)};function we(H,J){M=Q(function(){H(i.unstable_now())},J)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(H){H.callback=null},i.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<H?Math.floor(1e3/H):5},i.unstable_getCurrentPriorityLevel=function(){return T},i.unstable_next=function(H){switch(T){case 1:case 2:case 3:var J=3;break;default:J=T}var se=T;T=J;try{return H()}finally{T=se}},i.unstable_requestPaint=function(){I=!0},i.unstable_runWithPriority=function(H,J){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var se=T;T=H;try{return J()}finally{T=se}},i.unstable_scheduleCallback=function(H,J,se){var Te=i.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Te+se:Te):se=Te,H){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=se+x,H={id:v++,callback:J,priorityLevel:H,startTime:se,expirationTime:x,sortIndex:-1},se>Te?(H.sortIndex=se,e(g,H),t(p)===null&&H===t(g)&&(U?(W(M),M=-1):U=!0,we(ie,se-Te))):(H.sortIndex=x,e(p,H),N||A||(N=!0,ce||(ce=!0,V()))),H},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(H){var J=T;return function(){var se=T;T=J;try{return H.apply(this,arguments)}finally{T=se}}}}(Nm)),Nm}var sE;function v1(){return sE||(sE=1,km.exports=y1()),km.exports}var xm={exports:{}},cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oE;function _1(){if(oE)return cn;oE=1;var i=Vg();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(p,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:p,containerInfo:g,implementation:v}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,cn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return o(p,g,null,v)},cn.flushSync=function(p){var g=c.T,v=n.p;try{if(c.T=null,n.p=2,p)return p()}finally{c.T=g,n.p=v,n.d.f()}},cn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,n.d.C(p,g))},cn.prefetchDNS=function(p){typeof p=="string"&&n.d.D(p)},cn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,E=h(v,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?n.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:T,fetchPriority:A}):v==="script"&&n.d.X(p,{crossOrigin:E,integrity:T,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},cn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=h(g.as,g.crossOrigin);n.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&n.d.M(p)},cn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=h(v,g.crossOrigin);n.d.L(p,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},cn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=h(g.as,g.crossOrigin);n.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else n.d.m(p)},cn.requestFormReset=function(p){n.d.r(p)},cn.unstable_batchedUpdates=function(p,g){return p(g)},cn.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},cn.useFormStatus=function(){return c.H.useHostTransitionStatus()},cn.version="19.1.0",cn}var lE;function kT(){if(lE)return xm.exports;lE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),xm.exports=_1(),xm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uE;function E1(){if(uE)return Au;uE=1;var i=v1(),e=Vg(),t=kT();function n(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function c(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function h(r){if(o(r)!==r)throw Error(n(188))}function p(r){var s=r.alternate;if(!s){if(s=o(r),s===null)throw Error(n(188));return s!==r?null:r}for(var l=r,u=s;;){var d=l.return;if(d===null)break;var m=d.alternate;if(m===null){if(u=d.return,u!==null){l=u;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===l)return h(d),r;if(m===u)return h(d),s;m=m.sibling}throw Error(n(188))}if(l.return!==u.return)l=d,u=m;else{for(var w=!1,b=d.child;b;){if(b===l){w=!0,l=d,u=m;break}if(b===u){w=!0,u=d,l=m;break}b=b.sibling}if(!w){for(b=m.child;b;){if(b===l){w=!0,l=m,u=d;break}if(b===u){w=!0,u=m,l=d;break}b=b.sibling}if(!w)throw Error(n(189))}}if(l.alternate!==u)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?r:s}function g(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=g(r),s!==null)return s;r=r.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),W=Symbol.for("react.consumer"),K=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function V(r){return r===null||typeof r!="object"?null:(r=P&&r[P]||r["@@iterator"],typeof r=="function"?r:null)}var C=Symbol.for("react.client.reference");function Re(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===C?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case N:return"Fragment";case I:return"Profiler";case U:return"StrictMode";case ie:return"Suspense";case ce:return"SuspenseList";case R:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case A:return"Portal";case K:return(r.displayName||"Context")+".Provider";case W:return(r._context.displayName||"Context")+".Consumer";case ae:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case M:return s=r.displayName||null,s!==null?s:Re(r.type)||"Memo";case D:s=r._payload,r=r._init;try{return Re(r(s))}catch{}}return null}var we=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},Te=[],x=-1;function ee(r){return{current:r}}function fe(r){0>x||(r.current=Te[x],Te[x]=null,x--)}function le(r,s){x++,Te[x]=r.current,r.current=s}var Ee=ee(null),Le=ee(null),Me=ee(null),qt=ee(null);function ft(r,s){switch(le(Me,s),le(Le,r),le(Ee,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?I0(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=I0(s),r=M0(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}fe(Ee),le(Ee,r)}function mr(){fe(Ee),fe(Le),fe(Me)}function Ni(r){r.memoizedState!==null&&le(qt,r);var s=Ee.current,l=M0(s,r.type);s!==l&&(le(Le,r),le(Ee,l))}function Gr(r){Le.current===r&&(fe(Ee),fe(Le)),qt.current===r&&(fe(qt),Eu._currentValue=se)}var Va=Object.prototype.hasOwnProperty,La=i.unstable_scheduleCallback,Ua=i.unstable_cancelCallback,yl=i.unstable_shouldYield,_c=i.unstable_requestPaint,Bn=i.unstable_now,Id=i.unstable_getCurrentPriorityLevel,vl=i.unstable_ImmediatePriority,zs=i.unstable_UserBlockingPriority,Ba=i.unstable_NormalPriority,Md=i.unstable_LowPriority,Ys=i.unstable_IdlePriority,_l=i.log,Ec=i.unstable_setDisableYieldValue,Et=null,tt=null;function Cn(r){if(typeof _l=="function"&&Ec(r),tt&&typeof tt.setStrictMode=="function")try{tt.setStrictMode(Et,r)}catch{}}var ln=Math.clz32?Math.clz32:Ha,wc=Math.log,Od=Math.LN2;function Ha(r){return r>>>=0,r===0?32:31-(wc(r)/Od|0)|0}var za=256,Ya=4194304;function rr(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Fs(r,s,l){var u=r.pendingLanes;if(u===0)return 0;var d=0,m=r.suspendedLanes,w=r.pingedLanes;r=r.warmLanes;var b=u&134217727;return b!==0?(u=b&~m,u!==0?d=rr(u):(w&=b,w!==0?d=rr(w):l||(l=b&~r,l!==0&&(d=rr(l))))):(b=u&~m,b!==0?d=rr(b):w!==0?d=rr(w):l||(l=u&~r,l!==0&&(d=rr(l)))),d===0?0:s!==0&&s!==d&&(s&m)===0&&(m=d&-d,l=s&-s,m>=l||m===32&&(l&4194048)!==0)?s:d}function Fa(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function El(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wl(){var r=za;return za<<=1,(za&4194048)===0&&(za=256),r}function Tl(){var r=Ya;return Ya<<=1,(Ya&62914560)===0&&(Ya=4194304),r}function Qr(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function Kr(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function bl(r,s,l,u,d,m){var w=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var b=r.entanglements,k=r.expirationTimes,F=r.hiddenUpdates;for(l=w&~l;0<l;){var X=31-ln(l),te=1<<X;b[X]=0,k[X]=-1;var q=F[X];if(q!==null)for(F[X]=null,X=0;X<q.length;X++){var j=q[X];j!==null&&(j.lane&=-536870913)}l&=~te}u!==0&&gr(r,u,0),m!==0&&d===0&&r.tag!==0&&(r.suspendedLanes|=m&~(w&~s))}function gr(r,s,l){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-ln(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|l&4194090}function Sl(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var u=31-ln(l),d=1<<u;d&s|r[u]&s&&(r[u]|=s),l&=~d}}function xi(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function qs(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Pi(){var r=J.p;return r!==0?r:(r=window.event,r===void 0?32:W0(r.type))}function Tc(r,s){var l=J.p;try{return J.p=r,s()}finally{J.p=l}}var pt=Math.random().toString(36).slice(2),Vt="__reactFiber$"+pt,Mt="__reactProps$"+pt,Hn="__reactContainer$"+pt,Dl="__reactEvents$"+pt,kd="__reactListeners$"+pt,Vi="__reactHandles$"+pt,bc="__reactResources$"+pt,qa="__reactMarker$"+pt;function Li(r){delete r[Vt],delete r[Mt],delete r[Dl],delete r[kd],delete r[Vi]}function Wr(r){var s=r[Vt];if(s)return s;for(var l=r.parentNode;l;){if(s=l[Hn]||l[Vt]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=x0(r);r!==null;){if(l=r[Vt])return l;r=x0(r)}return s}r=l,l=r.parentNode}return null}function yr(r){if(r=r[Vt]||r[Hn]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function vr(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(n(33))}function gn(r){var s=r[bc];return s||(s=r[bc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function St(r){r[qa]=!0}var Al=new Set,js={};function ir(r,s){Xr(r,s),Xr(r+"Capture",s)}function Xr(r,s){for(js[r]=s,r=0;r<s.length;r++)Al.add(s[r])}var Sc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dc={},ja={};function Ac(r){return Va.call(ja,r)?!0:Va.call(Dc,r)?!1:Sc.test(r)?ja[r]=!0:(Dc[r]=!0,!1)}function Ui(r,s,l){if(Ac(s))if(l===null)r.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+l)}}function _r(r,s,l){if(l===null)r.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+l)}}function Zt(r,s,l,u){if(u===null)r.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(s,l,""+u)}}var Ga,Rc;function $r(r){if(Ga===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);Ga=s&&s[1]||"",Rc=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ga+r+Rc}var Gs=!1;function Qs(r,s){if(!r||Gs)return"";Gs=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(j){var q=j}Reflect.construct(r,[],te)}else{try{te.call()}catch(j){q=j}r.call(te.prototype)}}else{try{throw Error()}catch(j){q=j}(te=r())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(j){if(j&&q&&typeof j.stack=="string")return[j.stack,q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),w=m[0],b=m[1];if(w&&b){var k=w.split(`
`),F=b.split(`
`);for(d=u=0;u<k.length&&!k[u].includes("DetermineComponentFrameRoot");)u++;for(;d<F.length&&!F[d].includes("DetermineComponentFrameRoot");)d++;if(u===k.length||d===F.length)for(u=k.length-1,d=F.length-1;1<=u&&0<=d&&k[u]!==F[d];)d--;for(;1<=u&&0<=d;u--,d--)if(k[u]!==F[d]){if(u!==1||d!==1)do if(u--,d--,0>d||k[u]!==F[d]){var X=`
`+k[u].replace(" at new "," at ");return r.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",r.displayName)),X}while(1<=u&&0<=d);break}}}finally{Gs=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?$r(l):""}function Rl(r){switch(r.tag){case 26:case 27:case 5:return $r(r.type);case 16:return $r("Lazy");case 13:return $r("Suspense");case 19:return $r("SuspenseList");case 0:case 15:return Qs(r.type,!1);case 11:return Qs(r.type.render,!1);case 1:return Qs(r.type,!0);case 31:return $r("Activity");default:return""}}function Ks(r){try{var s="";do s+=Rl(r),r=r.return;while(r);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function yn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Cl(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Nd(r){var s=Cl(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,m=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(w){u=""+w,m.call(this,w)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(w){u=""+w},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Ws(r){r._valueTracker||(r._valueTracker=Nd(r))}function Il(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),u="";return r&&(u=Cl(r)?r.checked?"true":"false":r.value),r=u,r!==l?(s.setValue(r),!0):!1}function Qa(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var xd=/[\n"\\]/g;function Ot(r){return r.replace(xd,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function In(r,s,l,u,d,m,w,b){r.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?r.type=w:r.removeAttribute("type"),s!=null?w==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+yn(s)):r.value!==""+yn(s)&&(r.value=""+yn(s)):w!=="submit"&&w!=="reset"||r.removeAttribute("value"),s!=null?Bi(r,w,yn(s)):l!=null?Bi(r,w,yn(l)):u!=null&&r.removeAttribute("value"),d==null&&m!=null&&(r.defaultChecked=!!m),d!=null&&(r.checked=d&&typeof d!="function"&&typeof d!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?r.name=""+yn(b):r.removeAttribute("name")}function Ka(r,s,l,u,d,m,w,b){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(r.type=m),s!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||s!=null))return;l=l!=null?""+yn(l):"",s=s!=null?""+yn(s):l,b||s===r.value||(r.value=s),r.defaultValue=s}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=b?r.checked:!!u,r.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.name=w)}function Bi(r,s,l){s==="number"&&Qa(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function Zr(r,s,l,u){if(r=r.options,s){s={};for(var d=0;d<l.length;d++)s["$"+l[d]]=!0;for(l=0;l<r.length;l++)d=s.hasOwnProperty("$"+r[l].value),r[l].selected!==d&&(r[l].selected=d),d&&u&&(r[l].defaultSelected=!0)}else{for(l=""+yn(l),s=null,d=0;d<r.length;d++){if(r[d].value===l){r[d].selected=!0,u&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function st(r,s,l){if(s!=null&&(s=""+yn(s),s!==r.value&&(r.value=s),l==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=l!=null?""+yn(l):""}function Wa(r,s,l,u){if(s==null){if(u!=null){if(l!=null)throw Error(n(92));if(we(u)){if(1<u.length)throw Error(n(93));u=u[0]}l=u}l==null&&(l=""),s=l}l=yn(s),r.defaultValue=l,u=r.textContent,u===l&&u!==""&&u!==null&&(r.value=u)}function zn(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var Xa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cc(r,s,l){var u=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,l):typeof l!="number"||l===0||Xa.has(s)?s==="float"?r.cssFloat=l:r[s]=(""+l).trim():r[s]=l+"px"}function Ml(r,s,l){if(s!=null&&typeof s!="object")throw Error(n(62));if(r=r.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var d in s)u=s[d],s.hasOwnProperty(d)&&l[d]!==u&&Cc(r,d,u)}else for(var m in s)s.hasOwnProperty(m)&&Cc(r,m,s[m])}function Ol(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xs(r){return Vd.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Jr=null;function Yn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ei=null,ti=null;function kl(r){var s=yr(r);if(s&&(r=s.stateNode)){var l=r[Mt]||null;e:switch(r=s.stateNode,s.type){case"input":if(In(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ot(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var u=l[s];if(u!==r&&u.form===r.form){var d=u[Mt]||null;if(!d)throw Error(n(90));In(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<l.length;s++)u=l[s],u.form===r.form&&Il(u)}break e;case"textarea":st(r,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&Zr(r,!!l.multiple,s,!1)}}}var Er=!1;function Ic(r,s,l){if(Er)return r(s,l);Er=!0;try{var u=r(s);return u}finally{if(Er=!1,(ei!==null||ti!==null)&&(bf(),ei&&(s=ei,r=ti,ti=ei=null,kl(s),r)))for(s=0;s<r.length;s++)kl(r[s])}}function $a(r,s){var l=r.stateNode;if(l===null)return null;var u=l[Mt]||null;if(u===null)return null;l=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(n(231,s,typeof l));return l}var ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fn=!1;if(ar)try{var Za={};Object.defineProperty(Za,"passive",{get:function(){Fn=!0}}),window.addEventListener("test",Za,Za),window.removeEventListener("test",Za,Za)}catch{Fn=!1}var wr=null,Hi=null,ni=null;function Nl(){if(ni)return ni;var r,s=Hi,l=s.length,u,d="value"in wr?wr.value:wr.textContent,m=d.length;for(r=0;r<l&&s[r]===d[r];r++);var w=l-r;for(u=1;u<=w&&s[l-u]===d[m-u];u++);return ni=d.slice(r,1<u?1-u:void 0)}function Tr(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function br(){return!0}function xl(){return!1}function jt(r){function s(l,u,d,m,w){this._reactName=l,this._targetInst=d,this.type=u,this.nativeEvent=m,this.target=w,this.currentTarget=null;for(var b in r)r.hasOwnProperty(b)&&(l=r[b],this[b]=l?l(m):m[b]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?br:xl,this.isPropagationStopped=xl,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=br)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=br)},persist:function(){},isPersistent:br}),s}var Ze={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$s=jt(Ze),Ja=v({},Ze,{view:0,detail:0}),Mc=jt(Ja),Zs,Js,Sr,es=v({},Ja,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rs,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Sr&&(Sr&&r.type==="mousemove"?(Zs=r.screenX-Sr.screenX,Js=r.screenY-Sr.screenY):Js=Zs=0,Sr=r),Zs)},movementY:function(r){return"movementY"in r?r.movementY:Js}}),qn=jt(es),Oc=v({},es,{dataTransfer:0}),Ld=jt(Oc),ts=v({},Ja,{relatedTarget:0}),eo=jt(ts),Pl=v({},Ze,{animationName:0,elapsedTime:0,pseudoElement:0}),to=jt(Pl),kc=v({},Ze,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),no=jt(kc),Ud=v({},Ze,{data:0}),Vl=jt(Ud),ns={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ll(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=xc[r])?!!s[r]:!1}function rs(){return Ll}var Pc=v({},Ja,{key:function(r){if(r.key){var s=ns[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Tr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Nc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rs,charCode:function(r){return r.type==="keypress"?Tr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Tr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),ro=jt(Pc),Vc=v({},es,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ul=jt(Vc),ri=v({},Ja,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rs}),Lc=jt(ri),Uc=v({},Ze,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bc=jt(Uc),Hc=v({},es,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),io=jt(Hc),vn=v({},Ze,{newState:0,oldState:0}),zc=jt(vn),Yc=[9,13,27,32],Dr=ar&&"CompositionEvent"in window,f=null;ar&&"documentMode"in document&&(f=document.documentMode);var y=ar&&"TextEvent"in window&&!f,_=ar&&(!Dr||f&&8<f&&11>=f),S=" ",z=!1;function G(r,s){switch(r){case"keyup":return Yc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ue(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Fe=!1;function Lt(r,s){switch(r){case"compositionend":return ue(s);case"keypress":return s.which!==32?null:(z=!0,S);case"textInput":return r=s.data,r===S&&z?null:r;default:return null}}function qe(r,s){if(Fe)return r==="compositionend"||!Dr&&G(r,s)?(r=Nl(),ni=Hi=wr=null,Fe=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _&&s.locale!=="ko"?null:s.data;default:return null}}var Gt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ut(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Gt[r.type]:s==="textarea"}function ii(r,s,l,u){ei?ti?ti.push(u):ti=[u]:ei=u,s=If(s,"onChange"),0<s.length&&(l=new $s("onChange","change",null,l,u),r.push({event:l,listeners:s}))}var Jt=null,Ar=null;function Bl(r){S0(r,0)}function Fc(r){var s=vr(r);if(Il(s))return r}function jy(r,s){if(r==="change")return s}var Gy=!1;if(ar){var Bd;if(ar){var Hd="oninput"in document;if(!Hd){var Qy=document.createElement("div");Qy.setAttribute("oninput","return;"),Hd=typeof Qy.oninput=="function"}Bd=Hd}else Bd=!1;Gy=Bd&&(!document.documentMode||9<document.documentMode)}function Ky(){Jt&&(Jt.detachEvent("onpropertychange",Wy),Ar=Jt=null)}function Wy(r){if(r.propertyName==="value"&&Fc(Ar)){var s=[];ii(s,Ar,r,Yn(r)),Ic(Bl,s)}}function zD(r,s,l){r==="focusin"?(Ky(),Jt=s,Ar=l,Jt.attachEvent("onpropertychange",Wy)):r==="focusout"&&Ky()}function YD(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Fc(Ar)}function FD(r,s){if(r==="click")return Fc(s)}function qD(r,s){if(r==="input"||r==="change")return Fc(s)}function jD(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Mn=typeof Object.is=="function"?Object.is:jD;function Hl(r,s){if(Mn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),u=Object.keys(s);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var d=l[u];if(!Va.call(s,d)||!Mn(r[d],s[d]))return!1}return!0}function Xy(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function $y(r,s){var l=Xy(r);r=0;for(var u;l;){if(l.nodeType===3){if(u=r+l.textContent.length,r<=s&&u>=s)return{node:l,offset:s-r};r=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Xy(l)}}function Zy(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Zy(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Jy(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Qa(r.document);s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=Qa(r.document)}return s}function zd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var GD=ar&&"documentMode"in document&&11>=document.documentMode,ao=null,Yd=null,zl=null,Fd=!1;function ev(r,s,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Fd||ao==null||ao!==Qa(u)||(u=ao,"selectionStart"in u&&zd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),zl&&Hl(zl,u)||(zl=u,u=If(Yd,"onSelect"),0<u.length&&(s=new $s("onSelect","select",null,s,l),r.push({event:s,listeners:u}),s.target=ao)))}function is(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var so={animationend:is("Animation","AnimationEnd"),animationiteration:is("Animation","AnimationIteration"),animationstart:is("Animation","AnimationStart"),transitionrun:is("Transition","TransitionRun"),transitionstart:is("Transition","TransitionStart"),transitioncancel:is("Transition","TransitionCancel"),transitionend:is("Transition","TransitionEnd")},qd={},tv={};ar&&(tv=document.createElement("div").style,"AnimationEvent"in window||(delete so.animationend.animation,delete so.animationiteration.animation,delete so.animationstart.animation),"TransitionEvent"in window||delete so.transitionend.transition);function as(r){if(qd[r])return qd[r];if(!so[r])return r;var s=so[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in tv)return qd[r]=s[l];return r}var nv=as("animationend"),rv=as("animationiteration"),iv=as("animationstart"),QD=as("transitionrun"),KD=as("transitionstart"),WD=as("transitioncancel"),av=as("transitionend"),sv=new Map,jd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jd.push("scrollEnd");function sr(r,s){sv.set(r,s),ir(s,[r])}var ov=new WeakMap;function jn(r,s){if(typeof r=="object"&&r!==null){var l=ov.get(r);return l!==void 0?l:(s={value:r,source:s,stack:Ks(s)},ov.set(r,s),s)}return{value:r,source:s,stack:Ks(s)}}var Gn=[],oo=0,Gd=0;function qc(){for(var r=oo,s=Gd=oo=0;s<r;){var l=Gn[s];Gn[s++]=null;var u=Gn[s];Gn[s++]=null;var d=Gn[s];Gn[s++]=null;var m=Gn[s];if(Gn[s++]=null,u!==null&&d!==null){var w=u.pending;w===null?d.next=d:(d.next=w.next,w.next=d),u.pending=d}m!==0&&lv(l,d,m)}}function jc(r,s,l,u){Gn[oo++]=r,Gn[oo++]=s,Gn[oo++]=l,Gn[oo++]=u,Gd|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Qd(r,s,l,u){return jc(r,s,l,u),Gc(r)}function lo(r,s){return jc(r,null,null,s),Gc(r)}function lv(r,s,l){r.lanes|=l;var u=r.alternate;u!==null&&(u.lanes|=l);for(var d=!1,m=r.return;m!==null;)m.childLanes|=l,u=m.alternate,u!==null&&(u.childLanes|=l),m.tag===22&&(r=m.stateNode,r===null||r._visibility&1||(d=!0)),r=m,m=m.return;return r.tag===3?(m=r.stateNode,d&&s!==null&&(d=31-ln(l),r=m.hiddenUpdates,u=r[d],u===null?r[d]=[s]:u.push(s),s.lane=l|536870912),m):null}function Gc(r){if(50<hu)throw hu=0,Jp=null,Error(n(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var uo={};function XD(r,s,l,u){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(r,s,l,u){return new XD(r,s,l,u)}function Kd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ai(r,s){var l=r.alternate;return l===null?(l=On(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function uv(r,s){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,s=l.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Qc(r,s,l,u,d,m){var w=0;if(u=r,typeof r=="function")Kd(r)&&(w=1);else if(typeof r=="string")w=ZA(r,l,Ee.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case R:return r=On(31,l,s,d),r.elementType=R,r.lanes=m,r;case N:return ss(l.children,d,m,s);case U:w=8,d|=24;break;case I:return r=On(12,l,s,d|2),r.elementType=I,r.lanes=m,r;case ie:return r=On(13,l,s,d),r.elementType=ie,r.lanes=m,r;case ce:return r=On(19,l,s,d),r.elementType=ce,r.lanes=m,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case Q:case K:w=10;break e;case W:w=9;break e;case ae:w=11;break e;case M:w=14;break e;case D:w=16,u=null;break e}w=29,l=Error(n(130,r===null?"null":typeof r,"")),u=null}return s=On(w,l,s,d),s.elementType=r,s.type=u,s.lanes=m,s}function ss(r,s,l,u){return r=On(7,r,u,s),r.lanes=l,r}function Wd(r,s,l){return r=On(6,r,null,s),r.lanes=l,r}function Xd(r,s,l){return s=On(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var co=[],fo=0,Kc=null,Wc=0,Qn=[],Kn=0,os=null,si=1,oi="";function ls(r,s){co[fo++]=Wc,co[fo++]=Kc,Kc=r,Wc=s}function cv(r,s,l){Qn[Kn++]=si,Qn[Kn++]=oi,Qn[Kn++]=os,os=r;var u=si;r=oi;var d=32-ln(u)-1;u&=~(1<<d),l+=1;var m=32-ln(s)+d;if(30<m){var w=d-d%5;m=(u&(1<<w)-1).toString(32),u>>=w,d-=w,si=1<<32-ln(s)+d|l<<d|u,oi=m+r}else si=1<<m|l<<d|u,oi=r}function $d(r){r.return!==null&&(ls(r,1),cv(r,1,0))}function Zd(r){for(;r===Kc;)Kc=co[--fo],co[fo]=null,Wc=co[--fo],co[fo]=null;for(;r===os;)os=Qn[--Kn],Qn[Kn]=null,oi=Qn[--Kn],Qn[Kn]=null,si=Qn[--Kn],Qn[Kn]=null}var _n=null,wt=null,Xe=!1,us=null,Rr=!1,Jd=Error(n(519));function cs(r){var s=Error(n(418,""));throw ql(jn(s,r)),Jd}function fv(r){var s=r.stateNode,l=r.type,u=r.memoizedProps;switch(s[Vt]=r,s[Mt]=u,l){case"dialog":He("cancel",s),He("close",s);break;case"iframe":case"object":case"embed":He("load",s);break;case"video":case"audio":for(l=0;l<pu.length;l++)He(pu[l],s);break;case"source":He("error",s);break;case"img":case"image":case"link":He("error",s),He("load",s);break;case"details":He("toggle",s);break;case"input":He("invalid",s),Ka(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ws(s);break;case"select":He("invalid",s);break;case"textarea":He("invalid",s),Wa(s,u.value,u.defaultValue,u.children),Ws(s)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||u.suppressHydrationWarning===!0||C0(s.textContent,l)?(u.popover!=null&&(He("beforetoggle",s),He("toggle",s)),u.onScroll!=null&&He("scroll",s),u.onScrollEnd!=null&&He("scrollend",s),u.onClick!=null&&(s.onclick=Mf),s=!0):s=!1,s||cs(r)}function hv(r){for(_n=r.return;_n;)switch(_n.tag){case 5:case 13:Rr=!1;return;case 27:case 3:Rr=!0;return;default:_n=_n.return}}function Yl(r){if(r!==_n)return!1;if(!Xe)return hv(r),Xe=!0,!1;var s=r.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||mm(r.type,r.memoizedProps)),l=!l),l&&wt&&cs(r),hv(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(l=r.data,l==="/$"){if(s===0){wt=lr(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;r=r.nextSibling}wt=null}}else s===27?(s=wt,na(r.type)?(r=_m,_m=null,wt=r):wt=s):wt=_n?lr(r.stateNode.nextSibling):null;return!0}function Fl(){wt=_n=null,Xe=!1}function dv(){var r=us;return r!==null&&(Sn===null?Sn=r:Sn.push.apply(Sn,r),us=null),r}function ql(r){us===null?us=[r]:us.push(r)}var ep=ee(null),fs=null,li=null;function zi(r,s,l){le(ep,s._currentValue),s._currentValue=l}function ui(r){r._currentValue=ep.current,fe(ep)}function tp(r,s,l){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===l)break;r=r.return}}function np(r,s,l,u){var d=r.child;for(d!==null&&(d.return=r);d!==null;){var m=d.dependencies;if(m!==null){var w=d.child;m=m.firstContext;e:for(;m!==null;){var b=m;m=d;for(var k=0;k<s.length;k++)if(b.context===s[k]){m.lanes|=l,b=m.alternate,b!==null&&(b.lanes|=l),tp(m.return,l,r),u||(w=null);break e}m=b.next}}else if(d.tag===18){if(w=d.return,w===null)throw Error(n(341));w.lanes|=l,m=w.alternate,m!==null&&(m.lanes|=l),tp(w,l,r),w=null}else w=d.child;if(w!==null)w.return=d;else for(w=d;w!==null;){if(w===r){w=null;break}if(d=w.sibling,d!==null){d.return=w.return,w=d;break}w=w.return}d=w}}function jl(r,s,l,u){r=null;for(var d=s,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var w=d.alternate;if(w===null)throw Error(n(387));if(w=w.memoizedProps,w!==null){var b=d.type;Mn(d.pendingProps.value,w.value)||(r!==null?r.push(b):r=[b])}}else if(d===qt.current){if(w=d.alternate,w===null)throw Error(n(387));w.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(r!==null?r.push(Eu):r=[Eu])}d=d.return}r!==null&&np(s,r,l,u),s.flags|=262144}function Xc(r){for(r=r.firstContext;r!==null;){if(!Mn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function hs(r){fs=r,li=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function un(r){return pv(fs,r)}function $c(r,s){return fs===null&&hs(r),pv(r,s)}function pv(r,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},li===null){if(r===null)throw Error(n(308));li=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else li=li.next=s;return l}var $D=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(l,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(l){return l()})}},ZD=i.unstable_scheduleCallback,JD=i.unstable_NormalPriority,Bt={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rp(){return{controller:new $D,data:new Map,refCount:0}}function Gl(r){r.refCount--,r.refCount===0&&ZD(JD,function(){r.controller.abort()})}var Ql=null,ip=0,ho=0,po=null;function eA(r,s){if(Ql===null){var l=Ql=[];ip=0,ho=sm(),po={status:"pending",value:void 0,then:function(u){l.push(u)}}}return ip++,s.then(mv,mv),s}function mv(){if(--ip===0&&Ql!==null){po!==null&&(po.status="fulfilled");var r=Ql;Ql=null,ho=0,po=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function tA(r,s){var l=[],u={status:"pending",value:null,reason:null,then:function(d){l.push(d)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var d=0;d<l.length;d++)(0,l[d])(s)},function(d){for(u.status="rejected",u.reason=d,d=0;d<l.length;d++)(0,l[d])(void 0)}),u}var gv=H.S;H.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&eA(r,s),gv!==null&&gv(r,s)};var ds=ee(null);function ap(){var r=ds.current;return r!==null?r:ht.pooledCache}function Zc(r,s){s===null?le(ds,ds.current):le(ds,s.pool)}function yv(){var r=ap();return r===null?null:{parent:Bt._currentValue,pool:r}}var Kl=Error(n(460)),vv=Error(n(474)),Jc=Error(n(542)),sp={then:function(){}};function _v(r){return r=r.status,r==="fulfilled"||r==="rejected"}function ef(){}function Ev(r,s,l){switch(l=r[l],l===void 0?r.push(s):l!==s&&(s.then(ef,ef),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Tv(r),r;default:if(typeof s.status=="string")s.then(ef,ef);else{if(r=ht,r!==null&&100<r.shellSuspendCounter)throw Error(n(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=u}},function(u){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Tv(r),r}throw Wl=s,Kl}}var Wl=null;function wv(){if(Wl===null)throw Error(n(459));var r=Wl;return Wl=null,r}function Tv(r){if(r===Kl||r===Jc)throw Error(n(483))}var Yi=!1;function op(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lp(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Fi(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function qi(r,s,l){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(nt&2)!==0){var d=u.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),u.pending=s,s=Gc(r),lv(r,null,l),s}return jc(r,u,s,l),Gc(r)}function Xl(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var u=s.lanes;u&=r.pendingLanes,l|=u,s.lanes=l,Sl(r,l)}}function up(r,s){var l=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var d=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var w={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?d=m=w:m=m.next=w,l=l.next}while(l!==null);m===null?d=m=s:m=m.next=s}else d=m=s;l={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}var cp=!1;function $l(){if(cp){var r=po;if(r!==null)throw r}}function Zl(r,s,l,u){cp=!1;var d=r.updateQueue;Yi=!1;var m=d.firstBaseUpdate,w=d.lastBaseUpdate,b=d.shared.pending;if(b!==null){d.shared.pending=null;var k=b,F=k.next;k.next=null,w===null?m=F:w.next=F,w=k;var X=r.alternate;X!==null&&(X=X.updateQueue,b=X.lastBaseUpdate,b!==w&&(b===null?X.firstBaseUpdate=F:b.next=F,X.lastBaseUpdate=k))}if(m!==null){var te=d.baseState;w=0,X=F=k=null,b=m;do{var q=b.lane&-536870913,j=q!==b.lane;if(j?(je&q)===q:(u&q)===q){q!==0&&q===ho&&(cp=!0),X!==null&&(X=X.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Ce=r,be=b;q=s;var ut=l;switch(be.tag){case 1:if(Ce=be.payload,typeof Ce=="function"){te=Ce.call(ut,te,q);break e}te=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=be.payload,q=typeof Ce=="function"?Ce.call(ut,te,q):Ce,q==null)break e;te=v({},te,q);break e;case 2:Yi=!0}}q=b.callback,q!==null&&(r.flags|=64,j&&(r.flags|=8192),j=d.callbacks,j===null?d.callbacks=[q]:j.push(q))}else j={lane:q,tag:b.tag,payload:b.payload,callback:b.callback,next:null},X===null?(F=X=j,k=te):X=X.next=j,w|=q;if(b=b.next,b===null){if(b=d.shared.pending,b===null)break;j=b,b=j.next,j.next=null,d.lastBaseUpdate=j,d.shared.pending=null}}while(!0);X===null&&(k=te),d.baseState=k,d.firstBaseUpdate=F,d.lastBaseUpdate=X,m===null&&(d.shared.lanes=0),Zi|=w,r.lanes=w,r.memoizedState=te}}function bv(r,s){if(typeof r!="function")throw Error(n(191,r));r.call(s)}function Sv(r,s){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)bv(l[r],s)}var mo=ee(null),tf=ee(0);function Dv(r,s){r=gi,le(tf,r),le(mo,s),gi=r|s.baseLanes}function fp(){le(tf,gi),le(mo,mo.current)}function hp(){gi=tf.current,fe(mo),fe(tf)}var ji=0,xe=null,ot=null,kt=null,nf=!1,go=!1,ps=!1,rf=0,Jl=0,yo=null,nA=0;function Dt(){throw Error(n(321))}function dp(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!Mn(r[l],s[l]))return!1;return!0}function pp(r,s,l,u,d,m){return ji=m,xe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,H.H=r===null||r.memoizedState===null?l_:u_,ps=!1,m=l(u,d),ps=!1,go&&(m=Rv(s,l,u,d)),Av(r),m}function Av(r){H.H=cf;var s=ot!==null&&ot.next!==null;if(ji=0,kt=ot=xe=null,nf=!1,Jl=0,yo=null,s)throw Error(n(300));r===null||Qt||(r=r.dependencies,r!==null&&Xc(r)&&(Qt=!0))}function Rv(r,s,l,u){xe=r;var d=0;do{if(go&&(yo=null),Jl=0,go=!1,25<=d)throw Error(n(301));if(d+=1,kt=ot=null,r.updateQueue!=null){var m=r.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}H.H=uA,m=s(l,u)}while(go);return m}function rA(){var r=H.H,s=r.useState()[0];return s=typeof s.then=="function"?eu(s):s,r=r.useState()[0],(ot!==null?ot.memoizedState:null)!==r&&(xe.flags|=1024),s}function mp(){var r=rf!==0;return rf=0,r}function gp(r,s,l){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~l}function yp(r){if(nf){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}nf=!1}ji=0,kt=ot=xe=null,go=!1,Jl=rf=0,yo=null}function Tn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?xe.memoizedState=kt=r:kt=kt.next=r,kt}function Nt(){if(ot===null){var r=xe.alternate;r=r!==null?r.memoizedState:null}else r=ot.next;var s=kt===null?xe.memoizedState:kt.next;if(s!==null)kt=s,ot=r;else{if(r===null)throw xe.alternate===null?Error(n(467)):Error(n(310));ot=r,r={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},kt===null?xe.memoizedState=kt=r:kt=kt.next=r}return kt}function vp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function eu(r){var s=Jl;return Jl+=1,yo===null&&(yo=[]),r=Ev(yo,r,s),s=xe,(kt===null?s.memoizedState:kt.next)===null&&(s=s.alternate,H.H=s===null||s.memoizedState===null?l_:u_),r}function af(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return eu(r);if(r.$$typeof===K)return un(r)}throw Error(n(438,String(r)))}function _p(r){var s=null,l=xe.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var u=xe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=vp(),xe.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(r),u=0;u<r;u++)l[u]=O;return s.index++,l}function ci(r,s){return typeof s=="function"?s(r):s}function sf(r){var s=Nt();return Ep(s,ot,r)}function Ep(r,s,l){var u=r.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=l;var d=r.baseQueue,m=u.pending;if(m!==null){if(d!==null){var w=d.next;d.next=m.next,m.next=w}s.baseQueue=d=m,u.pending=null}if(m=r.baseState,d===null)r.memoizedState=m;else{s=d.next;var b=w=null,k=null,F=s,X=!1;do{var te=F.lane&-536870913;if(te!==F.lane?(je&te)===te:(ji&te)===te){var q=F.revertLane;if(q===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),te===ho&&(X=!0);else if((ji&q)===q){F=F.next,q===ho&&(X=!0);continue}else te={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},k===null?(b=k=te,w=m):k=k.next=te,xe.lanes|=q,Zi|=q;te=F.action,ps&&l(m,te),m=F.hasEagerState?F.eagerState:l(m,te)}else q={lane:te,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},k===null?(b=k=q,w=m):k=k.next=q,xe.lanes|=te,Zi|=te;F=F.next}while(F!==null&&F!==s);if(k===null?w=m:k.next=b,!Mn(m,r.memoizedState)&&(Qt=!0,X&&(l=po,l!==null)))throw l;r.memoizedState=m,r.baseState=w,r.baseQueue=k,u.lastRenderedState=m}return d===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function wp(r){var s=Nt(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var u=l.dispatch,d=l.pending,m=s.memoizedState;if(d!==null){l.pending=null;var w=d=d.next;do m=r(m,w.action),w=w.next;while(w!==d);Mn(m,s.memoizedState)||(Qt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),l.lastRenderedState=m}return[m,u]}function Cv(r,s,l){var u=xe,d=Nt(),m=Xe;if(m){if(l===void 0)throw Error(n(407));l=l()}else l=s();var w=!Mn((ot||d).memoizedState,l);w&&(d.memoizedState=l,Qt=!0),d=d.queue;var b=Ov.bind(null,u,d,r);if(tu(2048,8,b,[r]),d.getSnapshot!==s||w||kt!==null&&kt.memoizedState.tag&1){if(u.flags|=2048,vo(9,of(),Mv.bind(null,u,d,l,s),null),ht===null)throw Error(n(349));m||(ji&124)!==0||Iv(u,s,l)}return l}function Iv(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=xe.updateQueue,s===null?(s=vp(),xe.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function Mv(r,s,l,u){s.value=l,s.getSnapshot=u,kv(s)&&Nv(r)}function Ov(r,s,l){return l(function(){kv(s)&&Nv(r)})}function kv(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!Mn(r,l)}catch{return!0}}function Nv(r){var s=lo(r,2);s!==null&&Vn(s,r,2)}function Tp(r){var s=Tn();if(typeof r=="function"){var l=r;if(r=l(),ps){Cn(!0);try{l()}finally{Cn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:r},s}function xv(r,s,l,u){return r.baseState=l,Ep(r,ot,typeof u=="function"?u:ci)}function iA(r,s,l,u,d){if(uf(r))throw Error(n(485));if(r=s.action,r!==null){var m={payload:d,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){m.listeners.push(w)}};H.T!==null?l(!0):m.isTransition=!1,u(m),l=s.pending,l===null?(m.next=s.pending=m,Pv(s,m)):(m.next=l.next,s.pending=l.next=m)}}function Pv(r,s){var l=s.action,u=s.payload,d=r.state;if(s.isTransition){var m=H.T,w={};H.T=w;try{var b=l(d,u),k=H.S;k!==null&&k(w,b),Vv(r,s,b)}catch(F){bp(r,s,F)}finally{H.T=m}}else try{m=l(d,u),Vv(r,s,m)}catch(F){bp(r,s,F)}}function Vv(r,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){Lv(r,s,u)},function(u){return bp(r,s,u)}):Lv(r,s,l)}function Lv(r,s,l){s.status="fulfilled",s.value=l,Uv(s),r.state=l,s=r.pending,s!==null&&(l=s.next,l===s?r.pending=null:(l=l.next,s.next=l,Pv(r,l)))}function bp(r,s,l){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=l,Uv(s),s=s.next;while(s!==u)}r.action=null}function Uv(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function Bv(r,s){return s}function Hv(r,s){if(Xe){var l=ht.formState;if(l!==null){e:{var u=xe;if(Xe){if(wt){t:{for(var d=wt,m=Rr;d.nodeType!==8;){if(!m){d=null;break t}if(d=lr(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){wt=lr(d.nextSibling),u=d.data==="F!";break e}}cs(u)}u=!1}u&&(s=l[0])}}return l=Tn(),l.memoizedState=l.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bv,lastRenderedState:s},l.queue=u,l=a_.bind(null,xe,u),u.dispatch=l,u=Tp(!1),m=Cp.bind(null,xe,!1,u.queue),u=Tn(),d={state:s,dispatch:null,action:r,pending:null},u.queue=d,l=iA.bind(null,xe,d,m,l),d.dispatch=l,u.memoizedState=r,[s,l,!1]}function zv(r){var s=Nt();return Yv(s,ot,r)}function Yv(r,s,l){if(s=Ep(r,s,Bv)[0],r=sf(ci)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=eu(s)}catch(w){throw w===Kl?Jc:w}else u=s;s=Nt();var d=s.queue,m=d.dispatch;return l!==s.memoizedState&&(xe.flags|=2048,vo(9,of(),aA.bind(null,d,l),null)),[u,m,r]}function aA(r,s){r.action=s}function Fv(r){var s=Nt(),l=ot;if(l!==null)return Yv(s,l,r);Nt(),s=s.memoizedState,l=Nt();var u=l.queue.dispatch;return l.memoizedState=r,[s,u,!1]}function vo(r,s,l,u){return r={tag:r,create:l,deps:u,inst:s,next:null},s=xe.updateQueue,s===null&&(s=vp(),xe.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=r.next=r:(u=l.next,l.next=r,r.next=u,s.lastEffect=r),r}function of(){return{destroy:void 0,resource:void 0}}function qv(){return Nt().memoizedState}function lf(r,s,l,u){var d=Tn();u=u===void 0?null:u,xe.flags|=r,d.memoizedState=vo(1|s,of(),l,u)}function tu(r,s,l,u){var d=Nt();u=u===void 0?null:u;var m=d.memoizedState.inst;ot!==null&&u!==null&&dp(u,ot.memoizedState.deps)?d.memoizedState=vo(s,m,l,u):(xe.flags|=r,d.memoizedState=vo(1|s,m,l,u))}function jv(r,s){lf(8390656,8,r,s)}function Gv(r,s){tu(2048,8,r,s)}function Qv(r,s){return tu(4,2,r,s)}function Kv(r,s){return tu(4,4,r,s)}function Wv(r,s){if(typeof s=="function"){r=r();var l=s(r);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Xv(r,s,l){l=l!=null?l.concat([r]):null,tu(4,4,Wv.bind(null,s,r),l)}function Sp(){}function $v(r,s){var l=Nt();s=s===void 0?null:s;var u=l.memoizedState;return s!==null&&dp(s,u[1])?u[0]:(l.memoizedState=[r,s],r)}function Zv(r,s){var l=Nt();s=s===void 0?null:s;var u=l.memoizedState;if(s!==null&&dp(s,u[1]))return u[0];if(u=r(),ps){Cn(!0);try{r()}finally{Cn(!1)}}return l.memoizedState=[u,s],u}function Dp(r,s,l){return l===void 0||(ji&1073741824)!==0?r.memoizedState=s:(r.memoizedState=l,r=t0(),xe.lanes|=r,Zi|=r,l)}function Jv(r,s,l,u){return Mn(l,s)?l:mo.current!==null?(r=Dp(r,l,u),Mn(r,s)||(Qt=!0),r):(ji&42)===0?(Qt=!0,r.memoizedState=l):(r=t0(),xe.lanes|=r,Zi|=r,s)}function e_(r,s,l,u,d){var m=J.p;J.p=m!==0&&8>m?m:8;var w=H.T,b={};H.T=b,Cp(r,!1,s,l);try{var k=d(),F=H.S;if(F!==null&&F(b,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var X=tA(k,u);nu(r,s,X,Pn(r))}else nu(r,s,u,Pn(r))}catch(te){nu(r,s,{then:function(){},status:"rejected",reason:te},Pn())}finally{J.p=m,H.T=w}}function sA(){}function Ap(r,s,l,u){if(r.tag!==5)throw Error(n(476));var d=t_(r).queue;e_(r,d,s,se,l===null?sA:function(){return n_(r),l(u)})}function t_(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:se},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:l},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function n_(r){var s=t_(r).next.queue;nu(r,s,{},Pn())}function Rp(){return un(Eu)}function r_(){return Nt().memoizedState}function i_(){return Nt().memoizedState}function oA(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var l=Pn();r=Fi(l);var u=qi(s,r,l);u!==null&&(Vn(u,s,l),Xl(u,s,l)),s={cache:rp()},r.payload=s;return}s=s.return}}function lA(r,s,l){var u=Pn();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},uf(r)?s_(s,l):(l=Qd(r,s,l,u),l!==null&&(Vn(l,r,u),o_(l,s,u)))}function a_(r,s,l){var u=Pn();nu(r,s,l,u)}function nu(r,s,l,u){var d={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(uf(r))s_(s,d);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var w=s.lastRenderedState,b=m(w,l);if(d.hasEagerState=!0,d.eagerState=b,Mn(b,w))return jc(r,s,d,0),ht===null&&qc(),!1}catch{}finally{}if(l=Qd(r,s,d,u),l!==null)return Vn(l,r,u),o_(l,s,u),!0}return!1}function Cp(r,s,l,u){if(u={lane:2,revertLane:sm(),action:u,hasEagerState:!1,eagerState:null,next:null},uf(r)){if(s)throw Error(n(479))}else s=Qd(r,l,u,2),s!==null&&Vn(s,r,2)}function uf(r){var s=r.alternate;return r===xe||s!==null&&s===xe}function s_(r,s){go=nf=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function o_(r,s,l){if((l&4194048)!==0){var u=s.lanes;u&=r.pendingLanes,l|=u,s.lanes=l,Sl(r,l)}}var cf={readContext:un,use:af,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useLayoutEffect:Dt,useInsertionEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useSyncExternalStore:Dt,useId:Dt,useHostTransitionStatus:Dt,useFormState:Dt,useActionState:Dt,useOptimistic:Dt,useMemoCache:Dt,useCacheRefresh:Dt},l_={readContext:un,use:af,useCallback:function(r,s){return Tn().memoizedState=[r,s===void 0?null:s],r},useContext:un,useEffect:jv,useImperativeHandle:function(r,s,l){l=l!=null?l.concat([r]):null,lf(4194308,4,Wv.bind(null,s,r),l)},useLayoutEffect:function(r,s){return lf(4194308,4,r,s)},useInsertionEffect:function(r,s){lf(4,2,r,s)},useMemo:function(r,s){var l=Tn();s=s===void 0?null:s;var u=r();if(ps){Cn(!0);try{r()}finally{Cn(!1)}}return l.memoizedState=[u,s],u},useReducer:function(r,s,l){var u=Tn();if(l!==void 0){var d=l(s);if(ps){Cn(!0);try{l(s)}finally{Cn(!1)}}}else d=s;return u.memoizedState=u.baseState=d,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:d},u.queue=r,r=r.dispatch=lA.bind(null,xe,r),[u.memoizedState,r]},useRef:function(r){var s=Tn();return r={current:r},s.memoizedState=r},useState:function(r){r=Tp(r);var s=r.queue,l=a_.bind(null,xe,s);return s.dispatch=l,[r.memoizedState,l]},useDebugValue:Sp,useDeferredValue:function(r,s){var l=Tn();return Dp(l,r,s)},useTransition:function(){var r=Tp(!1);return r=e_.bind(null,xe,r.queue,!0,!1),Tn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,l){var u=xe,d=Tn();if(Xe){if(l===void 0)throw Error(n(407));l=l()}else{if(l=s(),ht===null)throw Error(n(349));(je&124)!==0||Iv(u,s,l)}d.memoizedState=l;var m={value:l,getSnapshot:s};return d.queue=m,jv(Ov.bind(null,u,m,r),[r]),u.flags|=2048,vo(9,of(),Mv.bind(null,u,m,l,s),null),l},useId:function(){var r=Tn(),s=ht.identifierPrefix;if(Xe){var l=oi,u=si;l=(u&~(1<<32-ln(u)-1)).toString(32)+l,s="«"+s+"R"+l,l=rf++,0<l&&(s+="H"+l.toString(32)),s+="»"}else l=nA++,s="«"+s+"r"+l.toString(32)+"»";return r.memoizedState=s},useHostTransitionStatus:Rp,useFormState:Hv,useActionState:Hv,useOptimistic:function(r){var s=Tn();s.memoizedState=s.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Cp.bind(null,xe,!0,l),l.dispatch=s,[r,s]},useMemoCache:_p,useCacheRefresh:function(){return Tn().memoizedState=oA.bind(null,xe)}},u_={readContext:un,use:af,useCallback:$v,useContext:un,useEffect:Gv,useImperativeHandle:Xv,useInsertionEffect:Qv,useLayoutEffect:Kv,useMemo:Zv,useReducer:sf,useRef:qv,useState:function(){return sf(ci)},useDebugValue:Sp,useDeferredValue:function(r,s){var l=Nt();return Jv(l,ot.memoizedState,r,s)},useTransition:function(){var r=sf(ci)[0],s=Nt().memoizedState;return[typeof r=="boolean"?r:eu(r),s]},useSyncExternalStore:Cv,useId:r_,useHostTransitionStatus:Rp,useFormState:zv,useActionState:zv,useOptimistic:function(r,s){var l=Nt();return xv(l,ot,r,s)},useMemoCache:_p,useCacheRefresh:i_},uA={readContext:un,use:af,useCallback:$v,useContext:un,useEffect:Gv,useImperativeHandle:Xv,useInsertionEffect:Qv,useLayoutEffect:Kv,useMemo:Zv,useReducer:wp,useRef:qv,useState:function(){return wp(ci)},useDebugValue:Sp,useDeferredValue:function(r,s){var l=Nt();return ot===null?Dp(l,r,s):Jv(l,ot.memoizedState,r,s)},useTransition:function(){var r=wp(ci)[0],s=Nt().memoizedState;return[typeof r=="boolean"?r:eu(r),s]},useSyncExternalStore:Cv,useId:r_,useHostTransitionStatus:Rp,useFormState:Fv,useActionState:Fv,useOptimistic:function(r,s){var l=Nt();return ot!==null?xv(l,ot,r,s):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:_p,useCacheRefresh:i_},_o=null,ru=0;function ff(r){var s=ru;return ru+=1,_o===null&&(_o=[]),Ev(_o,r,s)}function iu(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function hf(r,s){throw s.$$typeof===E?Error(n(525)):(r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function c_(r){var s=r._init;return s(r._payload)}function f_(r){function s(B,L){if(r){var Y=B.deletions;Y===null?(B.deletions=[L],B.flags|=16):Y.push(L)}}function l(B,L){if(!r)return null;for(;L!==null;)s(B,L),L=L.sibling;return null}function u(B){for(var L=new Map;B!==null;)B.key!==null?L.set(B.key,B):L.set(B.index,B),B=B.sibling;return L}function d(B,L){return B=ai(B,L),B.index=0,B.sibling=null,B}function m(B,L,Y){return B.index=Y,r?(Y=B.alternate,Y!==null?(Y=Y.index,Y<L?(B.flags|=67108866,L):Y):(B.flags|=67108866,L)):(B.flags|=1048576,L)}function w(B){return r&&B.alternate===null&&(B.flags|=67108866),B}function b(B,L,Y,Z){return L===null||L.tag!==6?(L=Wd(Y,B.mode,Z),L.return=B,L):(L=d(L,Y),L.return=B,L)}function k(B,L,Y,Z){var me=Y.type;return me===N?X(B,L,Y.props.children,Z,Y.key):L!==null&&(L.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===D&&c_(me)===L.type)?(L=d(L,Y.props),iu(L,Y),L.return=B,L):(L=Qc(Y.type,Y.key,Y.props,null,B.mode,Z),iu(L,Y),L.return=B,L)}function F(B,L,Y,Z){return L===null||L.tag!==4||L.stateNode.containerInfo!==Y.containerInfo||L.stateNode.implementation!==Y.implementation?(L=Xd(Y,B.mode,Z),L.return=B,L):(L=d(L,Y.children||[]),L.return=B,L)}function X(B,L,Y,Z,me){return L===null||L.tag!==7?(L=ss(Y,B.mode,Z,me),L.return=B,L):(L=d(L,Y),L.return=B,L)}function te(B,L,Y){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Wd(""+L,B.mode,Y),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case T:return Y=Qc(L.type,L.key,L.props,null,B.mode,Y),iu(Y,L),Y.return=B,Y;case A:return L=Xd(L,B.mode,Y),L.return=B,L;case D:var Z=L._init;return L=Z(L._payload),te(B,L,Y)}if(we(L)||V(L))return L=ss(L,B.mode,Y,null),L.return=B,L;if(typeof L.then=="function")return te(B,ff(L),Y);if(L.$$typeof===K)return te(B,$c(B,L),Y);hf(B,L)}return null}function q(B,L,Y,Z){var me=L!==null?L.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return me!==null?null:b(B,L,""+Y,Z);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case T:return Y.key===me?k(B,L,Y,Z):null;case A:return Y.key===me?F(B,L,Y,Z):null;case D:return me=Y._init,Y=me(Y._payload),q(B,L,Y,Z)}if(we(Y)||V(Y))return me!==null?null:X(B,L,Y,Z,null);if(typeof Y.then=="function")return q(B,L,ff(Y),Z);if(Y.$$typeof===K)return q(B,L,$c(B,Y),Z);hf(B,Y)}return null}function j(B,L,Y,Z,me){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return B=B.get(Y)||null,b(L,B,""+Z,me);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case T:return B=B.get(Z.key===null?Y:Z.key)||null,k(L,B,Z,me);case A:return B=B.get(Z.key===null?Y:Z.key)||null,F(L,B,Z,me);case D:var Ue=Z._init;return Z=Ue(Z._payload),j(B,L,Y,Z,me)}if(we(Z)||V(Z))return B=B.get(Y)||null,X(L,B,Z,me,null);if(typeof Z.then=="function")return j(B,L,Y,ff(Z),me);if(Z.$$typeof===K)return j(B,L,Y,$c(L,Z),me);hf(L,Z)}return null}function Ce(B,L,Y,Z){for(var me=null,Ue=null,ve=L,Se=L=0,Wt=null;ve!==null&&Se<Y.length;Se++){ve.index>Se?(Wt=ve,ve=null):Wt=ve.sibling;var We=q(B,ve,Y[Se],Z);if(We===null){ve===null&&(ve=Wt);break}r&&ve&&We.alternate===null&&s(B,ve),L=m(We,L,Se),Ue===null?me=We:Ue.sibling=We,Ue=We,ve=Wt}if(Se===Y.length)return l(B,ve),Xe&&ls(B,Se),me;if(ve===null){for(;Se<Y.length;Se++)ve=te(B,Y[Se],Z),ve!==null&&(L=m(ve,L,Se),Ue===null?me=ve:Ue.sibling=ve,Ue=ve);return Xe&&ls(B,Se),me}for(ve=u(ve);Se<Y.length;Se++)Wt=j(ve,B,Se,Y[Se],Z),Wt!==null&&(r&&Wt.alternate!==null&&ve.delete(Wt.key===null?Se:Wt.key),L=m(Wt,L,Se),Ue===null?me=Wt:Ue.sibling=Wt,Ue=Wt);return r&&ve.forEach(function(oa){return s(B,oa)}),Xe&&ls(B,Se),me}function be(B,L,Y,Z){if(Y==null)throw Error(n(151));for(var me=null,Ue=null,ve=L,Se=L=0,Wt=null,We=Y.next();ve!==null&&!We.done;Se++,We=Y.next()){ve.index>Se?(Wt=ve,ve=null):Wt=ve.sibling;var oa=q(B,ve,We.value,Z);if(oa===null){ve===null&&(ve=Wt);break}r&&ve&&oa.alternate===null&&s(B,ve),L=m(oa,L,Se),Ue===null?me=oa:Ue.sibling=oa,Ue=oa,ve=Wt}if(We.done)return l(B,ve),Xe&&ls(B,Se),me;if(ve===null){for(;!We.done;Se++,We=Y.next())We=te(B,We.value,Z),We!==null&&(L=m(We,L,Se),Ue===null?me=We:Ue.sibling=We,Ue=We);return Xe&&ls(B,Se),me}for(ve=u(ve);!We.done;Se++,We=Y.next())We=j(ve,B,Se,We.value,Z),We!==null&&(r&&We.alternate!==null&&ve.delete(We.key===null?Se:We.key),L=m(We,L,Se),Ue===null?me=We:Ue.sibling=We,Ue=We);return r&&ve.forEach(function(c1){return s(B,c1)}),Xe&&ls(B,Se),me}function ut(B,L,Y,Z){if(typeof Y=="object"&&Y!==null&&Y.type===N&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case T:e:{for(var me=Y.key;L!==null;){if(L.key===me){if(me=Y.type,me===N){if(L.tag===7){l(B,L.sibling),Z=d(L,Y.props.children),Z.return=B,B=Z;break e}}else if(L.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===D&&c_(me)===L.type){l(B,L.sibling),Z=d(L,Y.props),iu(Z,Y),Z.return=B,B=Z;break e}l(B,L);break}else s(B,L);L=L.sibling}Y.type===N?(Z=ss(Y.props.children,B.mode,Z,Y.key),Z.return=B,B=Z):(Z=Qc(Y.type,Y.key,Y.props,null,B.mode,Z),iu(Z,Y),Z.return=B,B=Z)}return w(B);case A:e:{for(me=Y.key;L!==null;){if(L.key===me)if(L.tag===4&&L.stateNode.containerInfo===Y.containerInfo&&L.stateNode.implementation===Y.implementation){l(B,L.sibling),Z=d(L,Y.children||[]),Z.return=B,B=Z;break e}else{l(B,L);break}else s(B,L);L=L.sibling}Z=Xd(Y,B.mode,Z),Z.return=B,B=Z}return w(B);case D:return me=Y._init,Y=me(Y._payload),ut(B,L,Y,Z)}if(we(Y))return Ce(B,L,Y,Z);if(V(Y)){if(me=V(Y),typeof me!="function")throw Error(n(150));return Y=me.call(Y),be(B,L,Y,Z)}if(typeof Y.then=="function")return ut(B,L,ff(Y),Z);if(Y.$$typeof===K)return ut(B,L,$c(B,Y),Z);hf(B,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,L!==null&&L.tag===6?(l(B,L.sibling),Z=d(L,Y),Z.return=B,B=Z):(l(B,L),Z=Wd(Y,B.mode,Z),Z.return=B,B=Z),w(B)):l(B,L)}return function(B,L,Y,Z){try{ru=0;var me=ut(B,L,Y,Z);return _o=null,me}catch(ve){if(ve===Kl||ve===Jc)throw ve;var Ue=On(29,ve,null,B.mode);return Ue.lanes=Z,Ue.return=B,Ue}finally{}}}var Eo=f_(!0),h_=f_(!1),Wn=ee(null),Cr=null;function Gi(r){var s=r.alternate;le(Ht,Ht.current&1),le(Wn,r),Cr===null&&(s===null||mo.current!==null||s.memoizedState!==null)&&(Cr=r)}function d_(r){if(r.tag===22){if(le(Ht,Ht.current),le(Wn,r),Cr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Cr=r)}}else Qi()}function Qi(){le(Ht,Ht.current),le(Wn,Wn.current)}function fi(r){fe(Wn),Cr===r&&(Cr=null),fe(Ht)}var Ht=ee(0);function df(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||vm(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Ip(r,s,l,u){s=r.memoizedState,l=l(u,s),l=l==null?s:v({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Mp={enqueueSetState:function(r,s,l){r=r._reactInternals;var u=Pn(),d=Fi(u);d.payload=s,l!=null&&(d.callback=l),s=qi(r,d,u),s!==null&&(Vn(s,r,u),Xl(s,r,u))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var u=Pn(),d=Fi(u);d.tag=1,d.payload=s,l!=null&&(d.callback=l),s=qi(r,d,u),s!==null&&(Vn(s,r,u),Xl(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=Pn(),u=Fi(l);u.tag=2,s!=null&&(u.callback=s),s=qi(r,u,l),s!==null&&(Vn(s,r,l),Xl(s,r,l))}};function p_(r,s,l,u,d,m,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,m,w):s.prototype&&s.prototype.isPureReactComponent?!Hl(l,u)||!Hl(d,m):!0}function m_(r,s,l,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,u),s.state!==r&&Mp.enqueueReplaceState(s,s.state,null)}function ms(r,s){var l=s;if("ref"in s){l={};for(var u in s)u!=="ref"&&(l[u]=s[u])}if(r=r.defaultProps){l===s&&(l=v({},l));for(var d in r)l[d]===void 0&&(l[d]=r[d])}return l}var pf=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function g_(r){pf(r)}function y_(r){console.error(r)}function v_(r){pf(r)}function mf(r,s){try{var l=r.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function __(r,s,l){try{var u=r.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Op(r,s,l){return l=Fi(l),l.tag=3,l.payload={element:null},l.callback=function(){mf(r,s)},l}function E_(r){return r=Fi(r),r.tag=3,r}function w_(r,s,l,u){var d=l.type.getDerivedStateFromError;if(typeof d=="function"){var m=u.value;r.payload=function(){return d(m)},r.callback=function(){__(s,l,u)}}var w=l.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(r.callback=function(){__(s,l,u),typeof d!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var b=u.stack;this.componentDidCatch(u.value,{componentStack:b!==null?b:""})})}function cA(r,s,l,u,d){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=l.alternate,s!==null&&jl(s,l,d,!0),l=Wn.current,l!==null){switch(l.tag){case 13:return Cr===null?tm():l.alternate===null&&Tt===0&&(Tt=3),l.flags&=-257,l.flags|=65536,l.lanes=d,u===sp?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([u]):s.add(u),rm(r,u,d)),!1;case 22:return l.flags|=65536,u===sp?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([u]):l.add(u)),rm(r,u,d)),!1}throw Error(n(435,l.tag))}return rm(r,u,d),tm(),!1}if(Xe)return s=Wn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,u!==Jd&&(r=Error(n(422),{cause:u}),ql(jn(r,l)))):(u!==Jd&&(s=Error(n(423),{cause:u}),ql(jn(s,l))),r=r.current.alternate,r.flags|=65536,d&=-d,r.lanes|=d,u=jn(u,l),d=Op(r.stateNode,u,d),up(r,d),Tt!==4&&(Tt=2)),!1;var m=Error(n(520),{cause:u});if(m=jn(m,l),fu===null?fu=[m]:fu.push(m),Tt!==4&&(Tt=2),s===null)return!0;u=jn(u,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,r=d&-d,l.lanes|=r,r=Op(l.stateNode,u,r),up(l,r),!1;case 1:if(s=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ji===null||!Ji.has(m))))return l.flags|=65536,d&=-d,l.lanes|=d,d=E_(d),w_(d,r,l,u),up(l,d),!1}l=l.return}while(l!==null);return!1}var T_=Error(n(461)),Qt=!1;function en(r,s,l,u){s.child=r===null?h_(s,null,l,u):Eo(s,r.child,l,u)}function b_(r,s,l,u,d){l=l.render;var m=s.ref;if("ref"in u){var w={};for(var b in u)b!=="ref"&&(w[b]=u[b])}else w=u;return hs(s),u=pp(r,s,l,w,m,d),b=mp(),r!==null&&!Qt?(gp(r,s,d),hi(r,s,d)):(Xe&&b&&$d(s),s.flags|=1,en(r,s,u,d),s.child)}function S_(r,s,l,u,d){if(r===null){var m=l.type;return typeof m=="function"&&!Kd(m)&&m.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=m,D_(r,s,m,u,d)):(r=Qc(l.type,null,u,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(m=r.child,!Bp(r,d)){var w=m.memoizedProps;if(l=l.compare,l=l!==null?l:Hl,l(w,u)&&r.ref===s.ref)return hi(r,s,d)}return s.flags|=1,r=ai(m,u),r.ref=s.ref,r.return=s,s.child=r}function D_(r,s,l,u,d){if(r!==null){var m=r.memoizedProps;if(Hl(m,u)&&r.ref===s.ref)if(Qt=!1,s.pendingProps=u=m,Bp(r,d))(r.flags&131072)!==0&&(Qt=!0);else return s.lanes=r.lanes,hi(r,s,d)}return kp(r,s,l,u,d)}function A_(r,s,l){var u=s.pendingProps,d=u.children,m=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=m!==null?m.baseLanes|l:l,r!==null){for(d=s.child=r.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;s.childLanes=m&~u}else s.childLanes=0,s.child=null;return R_(r,s,u,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Zc(s,m!==null?m.cachePool:null),m!==null?Dv(s,m):fp(),d_(s);else return s.lanes=s.childLanes=536870912,R_(r,s,m!==null?m.baseLanes|l:l,l)}else m!==null?(Zc(s,m.cachePool),Dv(s,m),Qi(),s.memoizedState=null):(r!==null&&Zc(s,null),fp(),Qi());return en(r,s,d,l),s.child}function R_(r,s,l,u){var d=ap();return d=d===null?null:{parent:Bt._currentValue,pool:d},s.memoizedState={baseLanes:l,cachePool:d},r!==null&&Zc(s,null),fp(),d_(s),r!==null&&jl(r,s,u,!0),null}function gf(r,s){var l=s.ref;if(l===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(n(284));(r===null||r.ref!==l)&&(s.flags|=4194816)}}function kp(r,s,l,u,d){return hs(s),l=pp(r,s,l,u,void 0,d),u=mp(),r!==null&&!Qt?(gp(r,s,d),hi(r,s,d)):(Xe&&u&&$d(s),s.flags|=1,en(r,s,l,d),s.child)}function C_(r,s,l,u,d,m){return hs(s),s.updateQueue=null,l=Rv(s,u,l,d),Av(r),u=mp(),r!==null&&!Qt?(gp(r,s,m),hi(r,s,m)):(Xe&&u&&$d(s),s.flags|=1,en(r,s,l,m),s.child)}function I_(r,s,l,u,d){if(hs(s),s.stateNode===null){var m=uo,w=l.contextType;typeof w=="object"&&w!==null&&(m=un(w)),m=new l(u,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Mp,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=u,m.state=s.memoizedState,m.refs={},op(s),w=l.contextType,m.context=typeof w=="object"&&w!==null?un(w):uo,m.state=s.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(Ip(s,l,w,u),m.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(w=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),w!==m.state&&Mp.enqueueReplaceState(m,m.state,null),Zl(s,u,m,d),$l(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){m=s.stateNode;var b=s.memoizedProps,k=ms(l,b);m.props=k;var F=m.context,X=l.contextType;w=uo,typeof X=="object"&&X!==null&&(w=un(X));var te=l.getDerivedStateFromProps;X=typeof te=="function"||typeof m.getSnapshotBeforeUpdate=="function",b=s.pendingProps!==b,X||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b||F!==w)&&m_(s,m,u,w),Yi=!1;var q=s.memoizedState;m.state=q,Zl(s,u,m,d),$l(),F=s.memoizedState,b||q!==F||Yi?(typeof te=="function"&&(Ip(s,l,te,u),F=s.memoizedState),(k=Yi||p_(s,l,k,u,q,F,w))?(X||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=F),m.props=u,m.state=F,m.context=w,u=k):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{m=s.stateNode,lp(r,s),w=s.memoizedProps,X=ms(l,w),m.props=X,te=s.pendingProps,q=m.context,F=l.contextType,k=uo,typeof F=="object"&&F!==null&&(k=un(F)),b=l.getDerivedStateFromProps,(F=typeof b=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w!==te||q!==k)&&m_(s,m,u,k),Yi=!1,q=s.memoizedState,m.state=q,Zl(s,u,m,d),$l();var j=s.memoizedState;w!==te||q!==j||Yi||r!==null&&r.dependencies!==null&&Xc(r.dependencies)?(typeof b=="function"&&(Ip(s,l,b,u),j=s.memoizedState),(X=Yi||p_(s,l,X,u,q,j,k)||r!==null&&r.dependencies!==null&&Xc(r.dependencies))?(F||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,j,k),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,j,k)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||w===r.memoizedProps&&q===r.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&q===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=j),m.props=u,m.state=j,m.context=k,u=X):(typeof m.componentDidUpdate!="function"||w===r.memoizedProps&&q===r.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&q===r.memoizedState||(s.flags|=1024),u=!1)}return m=u,gf(r,s),u=(s.flags&128)!==0,m||u?(m=s.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,r!==null&&u?(s.child=Eo(s,r.child,null,d),s.child=Eo(s,null,l,d)):en(r,s,l,d),s.memoizedState=m.state,r=s.child):r=hi(r,s,d),r}function M_(r,s,l,u){return Fl(),s.flags|=256,en(r,s,l,u),s.child}var Np={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xp(r){return{baseLanes:r,cachePool:yv()}}function Pp(r,s,l){return r=r!==null?r.childLanes&~l:0,s&&(r|=Xn),r}function O_(r,s,l){var u=s.pendingProps,d=!1,m=(s.flags&128)!==0,w;if((w=m)||(w=r!==null&&r.memoizedState===null?!1:(Ht.current&2)!==0),w&&(d=!0,s.flags&=-129),w=(s.flags&32)!==0,s.flags&=-33,r===null){if(Xe){if(d?Gi(s):Qi(),Xe){var b=wt,k;if(k=b){e:{for(k=b,b=Rr;k.nodeType!==8;){if(!b){b=null;break e}if(k=lr(k.nextSibling),k===null){b=null;break e}}b=k}b!==null?(s.memoizedState={dehydrated:b,treeContext:os!==null?{id:si,overflow:oi}:null,retryLane:536870912,hydrationErrors:null},k=On(18,null,null,0),k.stateNode=b,k.return=s,s.child=k,_n=s,wt=null,k=!0):k=!1}k||cs(s)}if(b=s.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return vm(b)?s.lanes=32:s.lanes=536870912,null;fi(s)}return b=u.children,u=u.fallback,d?(Qi(),d=s.mode,b=yf({mode:"hidden",children:b},d),u=ss(u,d,l,null),b.return=s,u.return=s,b.sibling=u,s.child=b,d=s.child,d.memoizedState=xp(l),d.childLanes=Pp(r,w,l),s.memoizedState=Np,u):(Gi(s),Vp(s,b))}if(k=r.memoizedState,k!==null&&(b=k.dehydrated,b!==null)){if(m)s.flags&256?(Gi(s),s.flags&=-257,s=Lp(r,s,l)):s.memoizedState!==null?(Qi(),s.child=r.child,s.flags|=128,s=null):(Qi(),d=u.fallback,b=s.mode,u=yf({mode:"visible",children:u.children},b),d=ss(d,b,l,null),d.flags|=2,u.return=s,d.return=s,u.sibling=d,s.child=u,Eo(s,r.child,null,l),u=s.child,u.memoizedState=xp(l),u.childLanes=Pp(r,w,l),s.memoizedState=Np,s=d);else if(Gi(s),vm(b)){if(w=b.nextSibling&&b.nextSibling.dataset,w)var F=w.dgst;w=F,u=Error(n(419)),u.stack="",u.digest=w,ql({value:u,source:null,stack:null}),s=Lp(r,s,l)}else if(Qt||jl(r,s,l,!1),w=(l&r.childLanes)!==0,Qt||w){if(w=ht,w!==null&&(u=l&-l,u=(u&42)!==0?1:xi(u),u=(u&(w.suspendedLanes|l))!==0?0:u,u!==0&&u!==k.retryLane))throw k.retryLane=u,lo(r,u),Vn(w,r,u),T_;b.data==="$?"||tm(),s=Lp(r,s,l)}else b.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=k.treeContext,wt=lr(b.nextSibling),_n=s,Xe=!0,us=null,Rr=!1,r!==null&&(Qn[Kn++]=si,Qn[Kn++]=oi,Qn[Kn++]=os,si=r.id,oi=r.overflow,os=s),s=Vp(s,u.children),s.flags|=4096);return s}return d?(Qi(),d=u.fallback,b=s.mode,k=r.child,F=k.sibling,u=ai(k,{mode:"hidden",children:u.children}),u.subtreeFlags=k.subtreeFlags&65011712,F!==null?d=ai(F,d):(d=ss(d,b,l,null),d.flags|=2),d.return=s,u.return=s,u.sibling=d,s.child=u,u=d,d=s.child,b=r.child.memoizedState,b===null?b=xp(l):(k=b.cachePool,k!==null?(F=Bt._currentValue,k=k.parent!==F?{parent:F,pool:F}:k):k=yv(),b={baseLanes:b.baseLanes|l,cachePool:k}),d.memoizedState=b,d.childLanes=Pp(r,w,l),s.memoizedState=Np,u):(Gi(s),l=r.child,r=l.sibling,l=ai(l,{mode:"visible",children:u.children}),l.return=s,l.sibling=null,r!==null&&(w=s.deletions,w===null?(s.deletions=[r],s.flags|=16):w.push(r)),s.child=l,s.memoizedState=null,l)}function Vp(r,s){return s=yf({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function yf(r,s){return r=On(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Lp(r,s,l){return Eo(s,r.child,null,l),r=Vp(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function k_(r,s,l){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),tp(r.return,s,l)}function Up(r,s,l,u,d){var m=r.memoizedState;m===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:d}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=l,m.tailMode=d)}function N_(r,s,l){var u=s.pendingProps,d=u.revealOrder,m=u.tail;if(en(r,s,u.children,l),u=Ht.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&k_(r,l,s);else if(r.tag===19)k_(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(le(Ht,u),d){case"forwards":for(l=s.child,d=null;l!==null;)r=l.alternate,r!==null&&df(r)===null&&(d=l),l=l.sibling;l=d,l===null?(d=s.child,s.child=null):(d=l.sibling,l.sibling=null),Up(s,!1,d,l,m);break;case"backwards":for(l=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&df(r)===null){s.child=d;break}r=d.sibling,d.sibling=l,l=d,d=r}Up(s,!0,l,null,m);break;case"together":Up(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function hi(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),Zi|=s.lanes,(l&s.childLanes)===0)if(r!==null){if(jl(r,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,l=ai(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=ai(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function Bp(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Xc(r)))}function fA(r,s,l){switch(s.tag){case 3:ft(s,s.stateNode.containerInfo),zi(s,Bt,r.memoizedState.cache),Fl();break;case 27:case 5:Ni(s);break;case 4:ft(s,s.stateNode.containerInfo);break;case 10:zi(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Gi(s),s.flags|=128,null):(l&s.child.childLanes)!==0?O_(r,s,l):(Gi(s),r=hi(r,s,l),r!==null?r.sibling:null);Gi(s);break;case 19:var d=(r.flags&128)!==0;if(u=(l&s.childLanes)!==0,u||(jl(r,s,l,!1),u=(l&s.childLanes)!==0),d){if(u)return N_(r,s,l);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),le(Ht,Ht.current),u)break;return null;case 22:case 23:return s.lanes=0,A_(r,s,l);case 24:zi(s,Bt,r.memoizedState.cache)}return hi(r,s,l)}function x_(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps)Qt=!0;else{if(!Bp(r,l)&&(s.flags&128)===0)return Qt=!1,fA(r,s,l);Qt=(r.flags&131072)!==0}else Qt=!1,Xe&&(s.flags&1048576)!==0&&cv(s,Wc,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var u=s.elementType,d=u._init;if(u=d(u._payload),s.type=u,typeof u=="function")Kd(u)?(r=ms(u,r),s.tag=1,s=I_(null,s,u,r,l)):(s.tag=0,s=kp(null,s,u,r,l));else{if(u!=null){if(d=u.$$typeof,d===ae){s.tag=11,s=b_(null,s,u,r,l);break e}else if(d===M){s.tag=14,s=S_(null,s,u,r,l);break e}}throw s=Re(u)||u,Error(n(306,s,""))}}return s;case 0:return kp(r,s,s.type,s.pendingProps,l);case 1:return u=s.type,d=ms(u,s.pendingProps),I_(r,s,u,d,l);case 3:e:{if(ft(s,s.stateNode.containerInfo),r===null)throw Error(n(387));u=s.pendingProps;var m=s.memoizedState;d=m.element,lp(r,s),Zl(s,u,null,l);var w=s.memoizedState;if(u=w.cache,zi(s,Bt,u),u!==m.cache&&np(s,[Bt],l,!0),$l(),u=w.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:w.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=M_(r,s,u,l);break e}else if(u!==d){d=jn(Error(n(424)),s),ql(d),s=M_(r,s,u,l);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(wt=lr(r.firstChild),_n=s,Xe=!0,us=null,Rr=!0,l=h_(s,null,u,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Fl(),u===d){s=hi(r,s,l);break e}en(r,s,u,l)}s=s.child}return s;case 26:return gf(r,s),r===null?(l=U0(s.type,null,s.pendingProps,null))?s.memoizedState=l:Xe||(l=s.type,r=s.pendingProps,u=Of(Me.current).createElement(l),u[Vt]=s,u[Mt]=r,nn(u,l,r),St(u),s.stateNode=u):s.memoizedState=U0(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Ni(s),r===null&&Xe&&(u=s.stateNode=P0(s.type,s.pendingProps,Me.current),_n=s,Rr=!0,d=wt,na(s.type)?(_m=d,wt=lr(u.firstChild)):wt=d),en(r,s,s.pendingProps.children,l),gf(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Xe&&((d=u=wt)&&(u=BA(u,s.type,s.pendingProps,Rr),u!==null?(s.stateNode=u,_n=s,wt=lr(u.firstChild),Rr=!1,d=!0):d=!1),d||cs(s)),Ni(s),d=s.type,m=s.pendingProps,w=r!==null?r.memoizedProps:null,u=m.children,mm(d,m)?u=null:w!==null&&mm(d,w)&&(s.flags|=32),s.memoizedState!==null&&(d=pp(r,s,rA,null,null,l),Eu._currentValue=d),gf(r,s),en(r,s,u,l),s.child;case 6:return r===null&&Xe&&((r=l=wt)&&(l=HA(l,s.pendingProps,Rr),l!==null?(s.stateNode=l,_n=s,wt=null,r=!0):r=!1),r||cs(s)),null;case 13:return O_(r,s,l);case 4:return ft(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=Eo(s,null,u,l):en(r,s,u,l),s.child;case 11:return b_(r,s,s.type,s.pendingProps,l);case 7:return en(r,s,s.pendingProps,l),s.child;case 8:return en(r,s,s.pendingProps.children,l),s.child;case 12:return en(r,s,s.pendingProps.children,l),s.child;case 10:return u=s.pendingProps,zi(s,s.type,u.value),en(r,s,u.children,l),s.child;case 9:return d=s.type._context,u=s.pendingProps.children,hs(s),d=un(d),u=u(d),s.flags|=1,en(r,s,u,l),s.child;case 14:return S_(r,s,s.type,s.pendingProps,l);case 15:return D_(r,s,s.type,s.pendingProps,l);case 19:return N_(r,s,l);case 31:return u=s.pendingProps,l=s.mode,u={mode:u.mode,children:u.children},r===null?(l=yf(u,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=ai(r.child,u),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return A_(r,s,l);case 24:return hs(s),u=un(Bt),r===null?(d=ap(),d===null&&(d=ht,m=rp(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=l),d=m),s.memoizedState={parent:u,cache:d},op(s),zi(s,Bt,d)):((r.lanes&l)!==0&&(lp(r,s),Zl(s,null,null,l),$l()),d=r.memoizedState,m=s.memoizedState,d.parent!==u?(d={parent:u,cache:u},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),zi(s,Bt,u)):(u=m.cache,zi(s,Bt,u),u!==d.cache&&np(s,[Bt],l,!0))),en(r,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(n(156,s.tag))}function di(r){r.flags|=4}function P_(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!F0(s)){if(s=Wn.current,s!==null&&((je&4194048)===je?Cr!==null:(je&62914560)!==je&&(je&536870912)===0||s!==Cr))throw Wl=sp,vv;r.flags|=8192}}function vf(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Tl():536870912,r.lanes|=s,So|=s)}function au(r,s){if(!Xe)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function yt(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,u=0;if(s)for(var d=r.child;d!==null;)l|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)l|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=u,r.childLanes=l,s}function hA(r,s,l){var u=s.pendingProps;switch(Zd(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(s),null;case 1:return yt(s),null;case 3:return l=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),ui(Bt),mr(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(Yl(s)?di(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,dv())),yt(s),null;case 26:return l=s.memoizedState,r===null?(di(s),l!==null?(yt(s),P_(s,l)):(yt(s),s.flags&=-16777217)):l?l!==r.memoizedState?(di(s),yt(s),P_(s,l)):(yt(s),s.flags&=-16777217):(r.memoizedProps!==u&&di(s),yt(s),s.flags&=-16777217),null;case 27:Gr(s),l=Me.current;var d=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&di(s);else{if(!u){if(s.stateNode===null)throw Error(n(166));return yt(s),null}r=Ee.current,Yl(s)?fv(s):(r=P0(d,u,l),s.stateNode=r,di(s))}return yt(s),null;case 5:if(Gr(s),l=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&di(s);else{if(!u){if(s.stateNode===null)throw Error(n(166));return yt(s),null}if(r=Ee.current,Yl(s))fv(s);else{switch(d=Of(Me.current),r){case 1:r=d.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:r=d.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":r=d.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":r=d.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":r=d.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?d.createElement(l,{is:u.is}):d.createElement(l)}}r[Vt]=s,r[Mt]=u;e:for(d=s.child;d!==null;){if(d.tag===5||d.tag===6)r.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break e;for(;d.sibling===null;){if(d.return===null||d.return===s)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}s.stateNode=r;e:switch(nn(r,l,u),l){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&di(s)}}return yt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&di(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(n(166));if(r=Me.current,Yl(s)){if(r=s.stateNode,l=s.memoizedProps,u=null,d=_n,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}r[Vt]=s,r=!!(r.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||C0(r.nodeValue,l)),r||cs(s)}else r=Of(r).createTextNode(u),r[Vt]=s,s.stateNode=r}return yt(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(d=Yl(s),u!==null&&u.dehydrated!==null){if(r===null){if(!d)throw Error(n(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(317));d[Vt]=s}else Fl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;yt(s),d=!1}else d=dv(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(fi(s),s):(fi(s),null)}if(fi(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=u!==null,r=r!==null&&r.memoizedState!==null,l){u=s.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==d&&(u.flags|=2048)}return l!==r&&l&&(s.child.flags|=8192),vf(s,s.updateQueue),yt(s),null;case 4:return mr(),r===null&&cm(s.stateNode.containerInfo),yt(s),null;case 10:return ui(s.type),yt(s),null;case 19:if(fe(Ht),d=s.memoizedState,d===null)return yt(s),null;if(u=(s.flags&128)!==0,m=d.rendering,m===null)if(u)au(d,!1);else{if(Tt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(m=df(r),m!==null){for(s.flags|=128,au(d,!1),r=m.updateQueue,s.updateQueue=r,vf(s,r),s.subtreeFlags=0,r=l,l=s.child;l!==null;)uv(l,r),l=l.sibling;return le(Ht,Ht.current&1|2),s.child}r=r.sibling}d.tail!==null&&Bn()>wf&&(s.flags|=128,u=!0,au(d,!1),s.lanes=4194304)}else{if(!u)if(r=df(m),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,vf(s,r),au(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!Xe)return yt(s),null}else 2*Bn()-d.renderingStartTime>wf&&l!==536870912&&(s.flags|=128,u=!0,au(d,!1),s.lanes=4194304);d.isBackwards?(m.sibling=s.child,s.child=m):(r=d.last,r!==null?r.sibling=m:s.child=m,d.last=m)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=Bn(),s.sibling=null,r=Ht.current,le(Ht,u?r&1|2:r&1),s):(yt(s),null);case 22:case 23:return fi(s),hp(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(l&536870912)!==0&&(s.flags&128)===0&&(yt(s),s.subtreeFlags&6&&(s.flags|=8192)):yt(s),l=s.updateQueue,l!==null&&vf(s,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==l&&(s.flags|=2048),r!==null&&fe(ds),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ui(Bt),yt(s),null;case 25:return null;case 30:return null}throw Error(n(156,s.tag))}function dA(r,s){switch(Zd(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return ui(Bt),mr(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Gr(s),null;case 13:if(fi(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));Fl()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return fe(Ht),null;case 4:return mr(),null;case 10:return ui(s.type),null;case 22:case 23:return fi(s),hp(),r!==null&&fe(ds),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return ui(Bt),null;case 25:return null;default:return null}}function V_(r,s){switch(Zd(s),s.tag){case 3:ui(Bt),mr();break;case 26:case 27:case 5:Gr(s);break;case 4:mr();break;case 13:fi(s);break;case 19:fe(Ht);break;case 10:ui(s.type);break;case 22:case 23:fi(s),hp(),r!==null&&fe(ds);break;case 24:ui(Bt)}}function su(r,s){try{var l=s.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var d=u.next;l=d;do{if((l.tag&r)===r){u=void 0;var m=l.create,w=l.inst;u=m(),w.destroy=u}l=l.next}while(l!==d)}}catch(b){ct(s,s.return,b)}}function Ki(r,s,l){try{var u=s.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var m=d.next;u=m;do{if((u.tag&r)===r){var w=u.inst,b=w.destroy;if(b!==void 0){w.destroy=void 0,d=s;var k=l,F=b;try{F()}catch(X){ct(d,k,X)}}}u=u.next}while(u!==m)}}catch(X){ct(s,s.return,X)}}function L_(r){var s=r.updateQueue;if(s!==null){var l=r.stateNode;try{Sv(s,l)}catch(u){ct(r,r.return,u)}}}function U_(r,s,l){l.props=ms(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(u){ct(r,s,u)}}function ou(r,s){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof l=="function"?r.refCleanup=l(u):l.current=u}}catch(d){ct(r,s,d)}}function Ir(r,s){var l=r.ref,u=r.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(d){ct(r,s,d)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(d){ct(r,s,d)}else l.current=null}function B_(r){var s=r.type,l=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(d){ct(r,r.return,d)}}function Hp(r,s,l){try{var u=r.stateNode;xA(u,r.type,l,s),u[Mt]=s}catch(d){ct(r,r.return,d)}}function H_(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&na(r.type)||r.tag===4}function zp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||H_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&na(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Yp(r,s,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(r),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Mf));else if(u!==4&&(u===27&&na(r.type)&&(l=r.stateNode,s=null),r=r.child,r!==null))for(Yp(r,s,l),r=r.sibling;r!==null;)Yp(r,s,l),r=r.sibling}function _f(r,s,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(u!==4&&(u===27&&na(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(_f(r,s,l),r=r.sibling;r!==null;)_f(r,s,l),r=r.sibling}function z_(r){var s=r.stateNode,l=r.memoizedProps;try{for(var u=r.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);nn(s,u,l),s[Vt]=r,s[Mt]=l}catch(m){ct(r,r.return,m)}}var pi=!1,At=!1,Fp=!1,Y_=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function pA(r,s){if(r=r.containerInfo,dm=Lf,r=Jy(r),zd(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var d=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var w=0,b=-1,k=-1,F=0,X=0,te=r,q=null;t:for(;;){for(var j;te!==l||d!==0&&te.nodeType!==3||(b=w+d),te!==m||u!==0&&te.nodeType!==3||(k=w+u),te.nodeType===3&&(w+=te.nodeValue.length),(j=te.firstChild)!==null;)q=te,te=j;for(;;){if(te===r)break t;if(q===l&&++F===d&&(b=w),q===m&&++X===u&&(k=w),(j=te.nextSibling)!==null)break;te=q,q=te.parentNode}te=j}l=b===-1||k===-1?null:{start:b,end:k}}else l=null}l=l||{start:0,end:0}}else l=null;for(pm={focusedElem:r,selectionRange:l},Lf=!1,Kt=s;Kt!==null;)if(s=Kt,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,Kt=r;else for(;Kt!==null;){switch(s=Kt,m=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&m!==null){r=void 0,l=s,d=m.memoizedProps,m=m.memoizedState,u=l.stateNode;try{var Ce=ms(l.type,d,l.elementType===l.type);r=u.getSnapshotBeforeUpdate(Ce,m),u.__reactInternalSnapshotBeforeUpdate=r}catch(be){ct(l,l.return,be)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,l=r.nodeType,l===9)ym(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":ym(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(n(163))}if(r=s.sibling,r!==null){r.return=s.return,Kt=r;break}Kt=s.return}}function F_(r,s,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Wi(r,l),u&4&&su(5,l);break;case 1:if(Wi(r,l),u&4)if(r=l.stateNode,s===null)try{r.componentDidMount()}catch(w){ct(l,l.return,w)}else{var d=ms(l.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(d,s,r.__reactInternalSnapshotBeforeUpdate)}catch(w){ct(l,l.return,w)}}u&64&&L_(l),u&512&&ou(l,l.return);break;case 3:if(Wi(r,l),u&64&&(r=l.updateQueue,r!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Sv(r,s)}catch(w){ct(l,l.return,w)}}break;case 27:s===null&&u&4&&z_(l);case 26:case 5:Wi(r,l),s===null&&u&4&&B_(l),u&512&&ou(l,l.return);break;case 12:Wi(r,l);break;case 13:Wi(r,l),u&4&&G_(r,l),u&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=bA.bind(null,l),zA(r,l))));break;case 22:if(u=l.memoizedState!==null||pi,!u){s=s!==null&&s.memoizedState!==null||At,d=pi;var m=At;pi=u,(At=s)&&!m?Xi(r,l,(l.subtreeFlags&8772)!==0):Wi(r,l),pi=d,At=m}break;case 30:break;default:Wi(r,l)}}function q_(r){var s=r.alternate;s!==null&&(r.alternate=null,q_(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Li(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var mt=null,bn=!1;function mi(r,s,l){for(l=l.child;l!==null;)j_(r,s,l),l=l.sibling}function j_(r,s,l){if(tt&&typeof tt.onCommitFiberUnmount=="function")try{tt.onCommitFiberUnmount(Et,l)}catch{}switch(l.tag){case 26:At||Ir(l,s),mi(r,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:At||Ir(l,s);var u=mt,d=bn;na(l.type)&&(mt=l.stateNode,bn=!1),mi(r,s,l),gu(l.stateNode),mt=u,bn=d;break;case 5:At||Ir(l,s);case 6:if(u=mt,d=bn,mt=null,mi(r,s,l),mt=u,bn=d,mt!==null)if(bn)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(l.stateNode)}catch(m){ct(l,s,m)}else try{mt.removeChild(l.stateNode)}catch(m){ct(l,s,m)}break;case 18:mt!==null&&(bn?(r=mt,N0(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),Su(r)):N0(mt,l.stateNode));break;case 4:u=mt,d=bn,mt=l.stateNode.containerInfo,bn=!0,mi(r,s,l),mt=u,bn=d;break;case 0:case 11:case 14:case 15:At||Ki(2,l,s),At||Ki(4,l,s),mi(r,s,l);break;case 1:At||(Ir(l,s),u=l.stateNode,typeof u.componentWillUnmount=="function"&&U_(l,s,u)),mi(r,s,l);break;case 21:mi(r,s,l);break;case 22:At=(u=At)||l.memoizedState!==null,mi(r,s,l),At=u;break;default:mi(r,s,l)}}function G_(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Su(r)}catch(l){ct(s,s.return,l)}}function mA(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new Y_),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new Y_),s;default:throw Error(n(435,r.tag))}}function qp(r,s){var l=mA(r);s.forEach(function(u){var d=SA.bind(null,r,u);l.has(u)||(l.add(u),u.then(d,d))})}function kn(r,s){var l=s.deletions;if(l!==null)for(var u=0;u<l.length;u++){var d=l[u],m=r,w=s,b=w;e:for(;b!==null;){switch(b.tag){case 27:if(na(b.type)){mt=b.stateNode,bn=!1;break e}break;case 5:mt=b.stateNode,bn=!1;break e;case 3:case 4:mt=b.stateNode.containerInfo,bn=!0;break e}b=b.return}if(mt===null)throw Error(n(160));j_(m,w,d),mt=null,bn=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Q_(s,r),s=s.sibling}var or=null;function Q_(r,s){var l=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:kn(s,r),Nn(r),u&4&&(Ki(3,r,r.return),su(3,r),Ki(5,r,r.return));break;case 1:kn(s,r),Nn(r),u&512&&(At||l===null||Ir(l,l.return)),u&64&&pi&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var d=or;if(kn(s,r),Nn(r),u&512&&(At||l===null||Ir(l,l.return)),u&4){var m=l!==null?l.memoizedState:null;if(u=r.memoizedState,l===null)if(u===null)if(r.stateNode===null){e:{u=r.type,l=r.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":m=d.getElementsByTagName("title")[0],(!m||m[qa]||m[Vt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(u),d.head.insertBefore(m,d.querySelector("head > title"))),nn(m,u,l),m[Vt]=r,St(m),u=m;break e;case"link":var w=z0("link","href",d).get(u+(l.href||""));if(w){for(var b=0;b<w.length;b++)if(m=w[b],m.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){w.splice(b,1);break t}}m=d.createElement(u),nn(m,u,l),d.head.appendChild(m);break;case"meta":if(w=z0("meta","content",d).get(u+(l.content||""))){for(b=0;b<w.length;b++)if(m=w[b],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){w.splice(b,1);break t}}m=d.createElement(u),nn(m,u,l),d.head.appendChild(m);break;default:throw Error(n(468,u))}m[Vt]=r,St(m),u=m}r.stateNode=u}else Y0(d,r.type,r.stateNode);else r.stateNode=H0(d,u,r.memoizedProps);else m!==u?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,u===null?Y0(d,r.type,r.stateNode):H0(d,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Hp(r,r.memoizedProps,l.memoizedProps)}break;case 27:kn(s,r),Nn(r),u&512&&(At||l===null||Ir(l,l.return)),l!==null&&u&4&&Hp(r,r.memoizedProps,l.memoizedProps);break;case 5:if(kn(s,r),Nn(r),u&512&&(At||l===null||Ir(l,l.return)),r.flags&32){d=r.stateNode;try{zn(d,"")}catch(j){ct(r,r.return,j)}}u&4&&r.stateNode!=null&&(d=r.memoizedProps,Hp(r,d,l!==null?l.memoizedProps:d)),u&1024&&(Fp=!0);break;case 6:if(kn(s,r),Nn(r),u&4){if(r.stateNode===null)throw Error(n(162));u=r.memoizedProps,l=r.stateNode;try{l.nodeValue=u}catch(j){ct(r,r.return,j)}}break;case 3:if(xf=null,d=or,or=kf(s.containerInfo),kn(s,r),or=d,Nn(r),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Su(s.containerInfo)}catch(j){ct(r,r.return,j)}Fp&&(Fp=!1,K_(r));break;case 4:u=or,or=kf(r.stateNode.containerInfo),kn(s,r),Nn(r),or=u;break;case 12:kn(s,r),Nn(r);break;case 13:kn(s,r),Nn(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Xp=Bn()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,qp(r,u)));break;case 22:d=r.memoizedState!==null;var k=l!==null&&l.memoizedState!==null,F=pi,X=At;if(pi=F||d,At=X||k,kn(s,r),At=X,pi=F,Nn(r),u&8192)e:for(s=r.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(l===null||k||pi||At||gs(r)),l=null,s=r;;){if(s.tag===5||s.tag===26){if(l===null){k=l=s;try{if(m=k.stateNode,d)w=m.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{b=k.stateNode;var te=k.memoizedProps.style,q=te!=null&&te.hasOwnProperty("display")?te.display:null;b.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(j){ct(k,k.return,j)}}}else if(s.tag===6){if(l===null){k=s;try{k.stateNode.nodeValue=d?"":k.memoizedProps}catch(j){ct(k,k.return,j)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,qp(r,l))));break;case 19:kn(s,r),Nn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,qp(r,u)));break;case 30:break;case 21:break;default:kn(s,r),Nn(r)}}function Nn(r){var s=r.flags;if(s&2){try{for(var l,u=r.return;u!==null;){if(H_(u)){l=u;break}u=u.return}if(l==null)throw Error(n(160));switch(l.tag){case 27:var d=l.stateNode,m=zp(r);_f(r,m,d);break;case 5:var w=l.stateNode;l.flags&32&&(zn(w,""),l.flags&=-33);var b=zp(r);_f(r,b,w);break;case 3:case 4:var k=l.stateNode.containerInfo,F=zp(r);Yp(r,F,k);break;default:throw Error(n(161))}}catch(X){ct(r,r.return,X)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function K_(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;K_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Wi(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)F_(r,s.alternate,s),s=s.sibling}function gs(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Ki(4,s,s.return),gs(s);break;case 1:Ir(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&U_(s,s.return,l),gs(s);break;case 27:gu(s.stateNode);case 26:case 5:Ir(s,s.return),gs(s);break;case 22:s.memoizedState===null&&gs(s);break;case 30:gs(s);break;default:gs(s)}r=r.sibling}}function Xi(r,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,d=r,m=s,w=m.flags;switch(m.tag){case 0:case 11:case 15:Xi(d,m,l),su(4,m);break;case 1:if(Xi(d,m,l),u=m,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(F){ct(u,u.return,F)}if(u=m,d=u.updateQueue,d!==null){var b=u.stateNode;try{var k=d.shared.hiddenCallbacks;if(k!==null)for(d.shared.hiddenCallbacks=null,d=0;d<k.length;d++)bv(k[d],b)}catch(F){ct(u,u.return,F)}}l&&w&64&&L_(m),ou(m,m.return);break;case 27:z_(m);case 26:case 5:Xi(d,m,l),l&&u===null&&w&4&&B_(m),ou(m,m.return);break;case 12:Xi(d,m,l);break;case 13:Xi(d,m,l),l&&w&4&&G_(d,m);break;case 22:m.memoizedState===null&&Xi(d,m,l),ou(m,m.return);break;case 30:break;default:Xi(d,m,l)}s=s.sibling}}function jp(r,s){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&Gl(l))}function Gp(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Gl(r))}function Mr(r,s,l,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)W_(r,s,l,u),s=s.sibling}function W_(r,s,l,u){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Mr(r,s,l,u),d&2048&&su(9,s);break;case 1:Mr(r,s,l,u);break;case 3:Mr(r,s,l,u),d&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Gl(r)));break;case 12:if(d&2048){Mr(r,s,l,u),r=s.stateNode;try{var m=s.memoizedProps,w=m.id,b=m.onPostCommit;typeof b=="function"&&b(w,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(k){ct(s,s.return,k)}}else Mr(r,s,l,u);break;case 13:Mr(r,s,l,u);break;case 23:break;case 22:m=s.stateNode,w=s.alternate,s.memoizedState!==null?m._visibility&2?Mr(r,s,l,u):lu(r,s):m._visibility&2?Mr(r,s,l,u):(m._visibility|=2,wo(r,s,l,u,(s.subtreeFlags&10256)!==0)),d&2048&&jp(w,s);break;case 24:Mr(r,s,l,u),d&2048&&Gp(s.alternate,s);break;default:Mr(r,s,l,u)}}function wo(r,s,l,u,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var m=r,w=s,b=l,k=u,F=w.flags;switch(w.tag){case 0:case 11:case 15:wo(m,w,b,k,d),su(8,w);break;case 23:break;case 22:var X=w.stateNode;w.memoizedState!==null?X._visibility&2?wo(m,w,b,k,d):lu(m,w):(X._visibility|=2,wo(m,w,b,k,d)),d&&F&2048&&jp(w.alternate,w);break;case 24:wo(m,w,b,k,d),d&&F&2048&&Gp(w.alternate,w);break;default:wo(m,w,b,k,d)}s=s.sibling}}function lu(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=r,u=s,d=u.flags;switch(u.tag){case 22:lu(l,u),d&2048&&jp(u.alternate,u);break;case 24:lu(l,u),d&2048&&Gp(u.alternate,u);break;default:lu(l,u)}s=s.sibling}}var uu=8192;function To(r){if(r.subtreeFlags&uu)for(r=r.child;r!==null;)X_(r),r=r.sibling}function X_(r){switch(r.tag){case 26:To(r),r.flags&uu&&r.memoizedState!==null&&e1(or,r.memoizedState,r.memoizedProps);break;case 5:To(r);break;case 3:case 4:var s=or;or=kf(r.stateNode.containerInfo),To(r),or=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=uu,uu=16777216,To(r),uu=s):To(r));break;default:To(r)}}function $_(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function cu(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];Kt=u,J_(u,r)}$_(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Z_(r),r=r.sibling}function Z_(r){switch(r.tag){case 0:case 11:case 15:cu(r),r.flags&2048&&Ki(9,r,r.return);break;case 3:cu(r);break;case 12:cu(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Ef(r)):cu(r);break;default:cu(r)}}function Ef(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];Kt=u,J_(u,r)}$_(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Ki(8,s,s.return),Ef(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Ef(s));break;default:Ef(s)}r=r.sibling}}function J_(r,s){for(;Kt!==null;){var l=Kt;switch(l.tag){case 0:case 11:case 15:Ki(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Gl(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Kt=u;else e:for(l=r;Kt!==null;){u=Kt;var d=u.sibling,m=u.return;if(q_(u),u===l){Kt=null;break e}if(d!==null){d.return=m,Kt=d;break e}Kt=m}}}var gA={getCacheForType:function(r){var s=un(Bt),l=s.data.get(r);return l===void 0&&(l=r(),s.data.set(r,l)),l}},yA=typeof WeakMap=="function"?WeakMap:Map,nt=0,ht=null,Be=null,je=0,rt=0,xn=null,$i=!1,bo=!1,Qp=!1,gi=0,Tt=0,Zi=0,ys=0,Kp=0,Xn=0,So=0,fu=null,Sn=null,Wp=!1,Xp=0,wf=1/0,Tf=null,Ji=null,tn=0,ea=null,Do=null,Ao=0,$p=0,Zp=null,e0=null,hu=0,Jp=null;function Pn(){if((nt&2)!==0&&je!==0)return je&-je;if(H.T!==null){var r=ho;return r!==0?r:sm()}return Pi()}function t0(){Xn===0&&(Xn=(je&536870912)===0||Xe?wl():536870912);var r=Wn.current;return r!==null&&(r.flags|=32),Xn}function Vn(r,s,l){(r===ht&&(rt===2||rt===9)||r.cancelPendingCommit!==null)&&(Ro(r,0),ta(r,je,Xn,!1)),Kr(r,l),((nt&2)===0||r!==ht)&&(r===ht&&((nt&2)===0&&(ys|=l),Tt===4&&ta(r,je,Xn,!1)),Or(r))}function n0(r,s,l){if((nt&6)!==0)throw Error(n(327));var u=!l&&(s&124)===0&&(s&r.expiredLanes)===0||Fa(r,s),d=u?EA(r,s):nm(r,s,!0),m=u;do{if(d===0){bo&&!u&&ta(r,s,0,!1);break}else{if(l=r.current.alternate,m&&!vA(l)){d=nm(r,s,!1),m=!1;continue}if(d===2){if(m=s,r.errorRecoveryDisabledLanes&m)var w=0;else w=r.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){s=w;e:{var b=r;d=fu;var k=b.current.memoizedState.isDehydrated;if(k&&(Ro(b,w).flags|=256),w=nm(b,w,!1),w!==2){if(Qp&&!k){b.errorRecoveryDisabledLanes|=m,ys|=m,d=4;break e}m=Sn,Sn=d,m!==null&&(Sn===null?Sn=m:Sn.push.apply(Sn,m))}d=w}if(m=!1,d!==2)continue}}if(d===1){Ro(r,0),ta(r,s,0,!0);break}e:{switch(u=r,m=d,m){case 0:case 1:throw Error(n(345));case 4:if((s&4194048)!==s)break;case 6:ta(u,s,Xn,!$i);break e;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((s&62914560)===s&&(d=Xp+300-Bn(),10<d)){if(ta(u,s,Xn,!$i),Fs(u,0,!0)!==0)break e;u.timeoutHandle=O0(r0.bind(null,u,l,Sn,Tf,Wp,s,Xn,ys,So,$i,m,2,-0,0),d);break e}r0(u,l,Sn,Tf,Wp,s,Xn,ys,So,$i,m,0,-0,0)}}break}while(!0);Or(r)}function r0(r,s,l,u,d,m,w,b,k,F,X,te,q,j){if(r.timeoutHandle=-1,te=s.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(_u={stylesheets:null,count:0,unsuspend:JA},X_(s),te=t1(),te!==null)){r.cancelPendingCommit=te(c0.bind(null,r,s,m,l,u,d,w,b,k,X,1,q,j)),ta(r,m,w,!F);return}c0(r,s,m,l,u,d,w,b,k)}function vA(r){for(var s=r;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var d=l[u],m=d.getSnapshot;d=d.value;try{if(!Mn(m(),d))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ta(r,s,l,u){s&=~Kp,s&=~ys,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var d=s;0<d;){var m=31-ln(d),w=1<<m;u[m]=-1,d&=~w}l!==0&&gr(r,l,s)}function bf(){return(nt&6)===0?(du(0),!1):!0}function em(){if(Be!==null){if(rt===0)var r=Be.return;else r=Be,li=fs=null,yp(r),_o=null,ru=0,r=Be;for(;r!==null;)V_(r.alternate,r),r=r.return;Be=null}}function Ro(r,s){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,VA(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),em(),ht=r,Be=l=ai(r.current,null),je=s,rt=0,xn=null,$i=!1,bo=Fa(r,s),Qp=!1,So=Xn=Kp=ys=Zi=Tt=0,Sn=fu=null,Wp=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var d=31-ln(u),m=1<<d;s|=r[d],u&=~m}return gi=s,qc(),l}function i0(r,s){xe=null,H.H=cf,s===Kl||s===Jc?(s=wv(),rt=3):s===vv?(s=wv(),rt=4):rt=s===T_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,xn=s,Be===null&&(Tt=1,mf(r,jn(s,r.current)))}function a0(){var r=H.H;return H.H=cf,r===null?cf:r}function s0(){var r=H.A;return H.A=gA,r}function tm(){Tt=4,$i||(je&4194048)!==je&&Wn.current!==null||(bo=!0),(Zi&134217727)===0&&(ys&134217727)===0||ht===null||ta(ht,je,Xn,!1)}function nm(r,s,l){var u=nt;nt|=2;var d=a0(),m=s0();(ht!==r||je!==s)&&(Tf=null,Ro(r,s)),s=!1;var w=Tt;e:do try{if(rt!==0&&Be!==null){var b=Be,k=xn;switch(rt){case 8:em(),w=6;break e;case 3:case 2:case 9:case 6:Wn.current===null&&(s=!0);var F=rt;if(rt=0,xn=null,Co(r,b,k,F),l&&bo){w=0;break e}break;default:F=rt,rt=0,xn=null,Co(r,b,k,F)}}_A(),w=Tt;break}catch(X){i0(r,X)}while(!0);return s&&r.shellSuspendCounter++,li=fs=null,nt=u,H.H=d,H.A=m,Be===null&&(ht=null,je=0,qc()),w}function _A(){for(;Be!==null;)o0(Be)}function EA(r,s){var l=nt;nt|=2;var u=a0(),d=s0();ht!==r||je!==s?(Tf=null,wf=Bn()+500,Ro(r,s)):bo=Fa(r,s);e:do try{if(rt!==0&&Be!==null){s=Be;var m=xn;t:switch(rt){case 1:rt=0,xn=null,Co(r,s,m,1);break;case 2:case 9:if(_v(m)){rt=0,xn=null,l0(s);break}s=function(){rt!==2&&rt!==9||ht!==r||(rt=7),Or(r)},m.then(s,s);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:_v(m)?(rt=0,xn=null,l0(s)):(rt=0,xn=null,Co(r,s,m,7));break;case 5:var w=null;switch(Be.tag){case 26:w=Be.memoizedState;case 5:case 27:var b=Be;if(!w||F0(w)){rt=0,xn=null;var k=b.sibling;if(k!==null)Be=k;else{var F=b.return;F!==null?(Be=F,Sf(F)):Be=null}break t}}rt=0,xn=null,Co(r,s,m,5);break;case 6:rt=0,xn=null,Co(r,s,m,6);break;case 8:em(),Tt=6;break e;default:throw Error(n(462))}}wA();break}catch(X){i0(r,X)}while(!0);return li=fs=null,H.H=u,H.A=d,nt=l,Be!==null?0:(ht=null,je=0,qc(),Tt)}function wA(){for(;Be!==null&&!yl();)o0(Be)}function o0(r){var s=x_(r.alternate,r,gi);r.memoizedProps=r.pendingProps,s===null?Sf(r):Be=s}function l0(r){var s=r,l=s.alternate;switch(s.tag){case 15:case 0:s=C_(l,s,s.pendingProps,s.type,void 0,je);break;case 11:s=C_(l,s,s.pendingProps,s.type.render,s.ref,je);break;case 5:yp(s);default:V_(l,s),s=Be=uv(s,gi),s=x_(l,s,gi)}r.memoizedProps=r.pendingProps,s===null?Sf(r):Be=s}function Co(r,s,l,u){li=fs=null,yp(s),_o=null,ru=0;var d=s.return;try{if(cA(r,d,s,l,je)){Tt=1,mf(r,jn(l,r.current)),Be=null;return}}catch(m){if(d!==null)throw Be=d,m;Tt=1,mf(r,jn(l,r.current)),Be=null;return}s.flags&32768?(Xe||u===1?r=!0:bo||(je&536870912)!==0?r=!1:($i=r=!0,(u===2||u===9||u===3||u===6)&&(u=Wn.current,u!==null&&u.tag===13&&(u.flags|=16384))),u0(s,r)):Sf(s)}function Sf(r){var s=r;do{if((s.flags&32768)!==0){u0(s,$i);return}r=s.return;var l=hA(s.alternate,s,gi);if(l!==null){Be=l;return}if(s=s.sibling,s!==null){Be=s;return}Be=s=r}while(s!==null);Tt===0&&(Tt=5)}function u0(r,s){do{var l=dA(r.alternate,r);if(l!==null){l.flags&=32767,Be=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(r=r.sibling,r!==null)){Be=r;return}Be=r=l}while(r!==null);Tt=6,Be=null}function c0(r,s,l,u,d,m,w,b,k){r.cancelPendingCommit=null;do Df();while(tn!==0);if((nt&6)!==0)throw Error(n(327));if(s!==null){if(s===r.current)throw Error(n(177));if(m=s.lanes|s.childLanes,m|=Gd,bl(r,l,m,w,b,k),r===ht&&(Be=ht=null,je=0),Do=s,ea=r,Ao=l,$p=m,Zp=d,e0=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,DA(Ba,function(){return m0(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=H.T,H.T=null,d=J.p,J.p=2,w=nt,nt|=4;try{pA(r,s,l)}finally{nt=w,J.p=d,H.T=u}}tn=1,f0(),h0(),d0()}}function f0(){if(tn===1){tn=0;var r=ea,s=Do,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=H.T,H.T=null;var u=J.p;J.p=2;var d=nt;nt|=4;try{Q_(s,r);var m=pm,w=Jy(r.containerInfo),b=m.focusedElem,k=m.selectionRange;if(w!==b&&b&&b.ownerDocument&&Zy(b.ownerDocument.documentElement,b)){if(k!==null&&zd(b)){var F=k.start,X=k.end;if(X===void 0&&(X=F),"selectionStart"in b)b.selectionStart=F,b.selectionEnd=Math.min(X,b.value.length);else{var te=b.ownerDocument||document,q=te&&te.defaultView||window;if(q.getSelection){var j=q.getSelection(),Ce=b.textContent.length,be=Math.min(k.start,Ce),ut=k.end===void 0?be:Math.min(k.end,Ce);!j.extend&&be>ut&&(w=ut,ut=be,be=w);var B=$y(b,be),L=$y(b,ut);if(B&&L&&(j.rangeCount!==1||j.anchorNode!==B.node||j.anchorOffset!==B.offset||j.focusNode!==L.node||j.focusOffset!==L.offset)){var Y=te.createRange();Y.setStart(B.node,B.offset),j.removeAllRanges(),be>ut?(j.addRange(Y),j.extend(L.node,L.offset)):(Y.setEnd(L.node,L.offset),j.addRange(Y))}}}}for(te=[],j=b;j=j.parentNode;)j.nodeType===1&&te.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<te.length;b++){var Z=te[b];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Lf=!!dm,pm=dm=null}finally{nt=d,J.p=u,H.T=l}}r.current=s,tn=2}}function h0(){if(tn===2){tn=0;var r=ea,s=Do,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=H.T,H.T=null;var u=J.p;J.p=2;var d=nt;nt|=4;try{F_(r,s.alternate,s)}finally{nt=d,J.p=u,H.T=l}}tn=3}}function d0(){if(tn===4||tn===3){tn=0,_c();var r=ea,s=Do,l=Ao,u=e0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?tn=5:(tn=0,Do=ea=null,p0(r,r.pendingLanes));var d=r.pendingLanes;if(d===0&&(Ji=null),qs(l),s=s.stateNode,tt&&typeof tt.onCommitFiberRoot=="function")try{tt.onCommitFiberRoot(Et,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=H.T,d=J.p,J.p=2,H.T=null;try{for(var m=r.onRecoverableError,w=0;w<u.length;w++){var b=u[w];m(b.value,{componentStack:b.stack})}}finally{H.T=s,J.p=d}}(Ao&3)!==0&&Df(),Or(r),d=r.pendingLanes,(l&4194090)!==0&&(d&42)!==0?r===Jp?hu++:(hu=0,Jp=r):hu=0,du(0)}}function p0(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Gl(s)))}function Df(r){return f0(),h0(),d0(),m0()}function m0(){if(tn!==5)return!1;var r=ea,s=$p;$p=0;var l=qs(Ao),u=H.T,d=J.p;try{J.p=32>l?32:l,H.T=null,l=Zp,Zp=null;var m=ea,w=Ao;if(tn=0,Do=ea=null,Ao=0,(nt&6)!==0)throw Error(n(331));var b=nt;if(nt|=4,Z_(m.current),W_(m,m.current,w,l),nt=b,du(0,!1),tt&&typeof tt.onPostCommitFiberRoot=="function")try{tt.onPostCommitFiberRoot(Et,m)}catch{}return!0}finally{J.p=d,H.T=u,p0(r,s)}}function g0(r,s,l){s=jn(l,s),s=Op(r.stateNode,s,2),r=qi(r,s,2),r!==null&&(Kr(r,2),Or(r))}function ct(r,s,l){if(r.tag===3)g0(r,r,l);else for(;s!==null;){if(s.tag===3){g0(s,r,l);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ji===null||!Ji.has(u))){r=jn(l,r),l=E_(2),u=qi(s,l,2),u!==null&&(w_(l,u,s,r),Kr(u,2),Or(u));break}}s=s.return}}function rm(r,s,l){var u=r.pingCache;if(u===null){u=r.pingCache=new yA;var d=new Set;u.set(s,d)}else d=u.get(s),d===void 0&&(d=new Set,u.set(s,d));d.has(l)||(Qp=!0,d.add(l),r=TA.bind(null,r,s,l),s.then(r,r))}function TA(r,s,l){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,ht===r&&(je&l)===l&&(Tt===4||Tt===3&&(je&62914560)===je&&300>Bn()-Xp?(nt&2)===0&&Ro(r,0):Kp|=l,So===je&&(So=0)),Or(r)}function y0(r,s){s===0&&(s=Tl()),r=lo(r,s),r!==null&&(Kr(r,s),Or(r))}function bA(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),y0(r,l)}function SA(r,s){var l=0;switch(r.tag){case 13:var u=r.stateNode,d=r.memoizedState;d!==null&&(l=d.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(n(314))}u!==null&&u.delete(s),y0(r,l)}function DA(r,s){return La(r,s)}var Af=null,Io=null,im=!1,Rf=!1,am=!1,vs=0;function Or(r){r!==Io&&r.next===null&&(Io===null?Af=Io=r:Io=Io.next=r),Rf=!0,im||(im=!0,RA())}function du(r,s){if(!am&&Rf){am=!0;do for(var l=!1,u=Af;u!==null;){if(r!==0){var d=u.pendingLanes;if(d===0)var m=0;else{var w=u.suspendedLanes,b=u.pingedLanes;m=(1<<31-ln(42|r)+1)-1,m&=d&~(w&~b),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(l=!0,w0(u,m))}else m=je,m=Fs(u,u===ht?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||Fa(u,m)||(l=!0,w0(u,m));u=u.next}while(l);am=!1}}function AA(){v0()}function v0(){Rf=im=!1;var r=0;vs!==0&&(PA()&&(r=vs),vs=0);for(var s=Bn(),l=null,u=Af;u!==null;){var d=u.next,m=_0(u,s);m===0?(u.next=null,l===null?Af=d:l.next=d,d===null&&(Io=l)):(l=u,(r!==0||(m&3)!==0)&&(Rf=!0)),u=d}du(r)}function _0(r,s){for(var l=r.suspendedLanes,u=r.pingedLanes,d=r.expirationTimes,m=r.pendingLanes&-62914561;0<m;){var w=31-ln(m),b=1<<w,k=d[w];k===-1?((b&l)===0||(b&u)!==0)&&(d[w]=El(b,s)):k<=s&&(r.expiredLanes|=b),m&=~b}if(s=ht,l=je,l=Fs(r,r===s?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,l===0||r===s&&(rt===2||rt===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Ua(u),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||Fa(r,l)){if(s=l&-l,s===r.callbackPriority)return s;switch(u!==null&&Ua(u),qs(l)){case 2:case 8:l=zs;break;case 32:l=Ba;break;case 268435456:l=Ys;break;default:l=Ba}return u=E0.bind(null,r),l=La(l,u),r.callbackPriority=s,r.callbackNode=l,s}return u!==null&&u!==null&&Ua(u),r.callbackPriority=2,r.callbackNode=null,2}function E0(r,s){if(tn!==0&&tn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(Df()&&r.callbackNode!==l)return null;var u=je;return u=Fs(r,r===ht?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(n0(r,u,s),_0(r,Bn()),r.callbackNode!=null&&r.callbackNode===l?E0.bind(null,r):null)}function w0(r,s){if(Df())return null;n0(r,s,!0)}function RA(){LA(function(){(nt&6)!==0?La(vl,AA):v0()})}function sm(){return vs===0&&(vs=wl()),vs}function T0(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Xs(""+r)}function b0(r,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,r.id&&l.setAttribute("form",r.id),s.parentNode.insertBefore(l,s),r=new FormData(r),l.parentNode.removeChild(l),r}function CA(r,s,l,u,d){if(s==="submit"&&l&&l.stateNode===d){var m=T0((d[Mt]||null).action),w=u.submitter;w&&(s=(s=w[Mt]||null)?T0(s.formAction):w.getAttribute("formAction"),s!==null&&(m=s,w=null));var b=new $s("action","action",null,u,d);r.push({event:b,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(vs!==0){var k=w?b0(d,w):new FormData(d);Ap(l,{pending:!0,data:k,method:d.method,action:m},null,k)}}else typeof m=="function"&&(b.preventDefault(),k=w?b0(d,w):new FormData(d),Ap(l,{pending:!0,data:k,method:d.method,action:m},m,k))},currentTarget:d}]})}}for(var om=0;om<jd.length;om++){var lm=jd[om],IA=lm.toLowerCase(),MA=lm[0].toUpperCase()+lm.slice(1);sr(IA,"on"+MA)}sr(nv,"onAnimationEnd"),sr(rv,"onAnimationIteration"),sr(iv,"onAnimationStart"),sr("dblclick","onDoubleClick"),sr("focusin","onFocus"),sr("focusout","onBlur"),sr(QD,"onTransitionRun"),sr(KD,"onTransitionStart"),sr(WD,"onTransitionCancel"),sr(av,"onTransitionEnd"),Xr("onMouseEnter",["mouseout","mouseover"]),Xr("onMouseLeave",["mouseout","mouseover"]),Xr("onPointerEnter",["pointerout","pointerover"]),Xr("onPointerLeave",["pointerout","pointerover"]),ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ir("onBeforeInput",["compositionend","keypress","textInput","paste"]),ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pu));function S0(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var u=r[l],d=u.event;u=u.listeners;e:{var m=void 0;if(s)for(var w=u.length-1;0<=w;w--){var b=u[w],k=b.instance,F=b.currentTarget;if(b=b.listener,k!==m&&d.isPropagationStopped())break e;m=b,d.currentTarget=F;try{m(d)}catch(X){pf(X)}d.currentTarget=null,m=k}else for(w=0;w<u.length;w++){if(b=u[w],k=b.instance,F=b.currentTarget,b=b.listener,k!==m&&d.isPropagationStopped())break e;m=b,d.currentTarget=F;try{m(d)}catch(X){pf(X)}d.currentTarget=null,m=k}}}}function He(r,s){var l=s[Dl];l===void 0&&(l=s[Dl]=new Set);var u=r+"__bubble";l.has(u)||(D0(s,r,2,!1),l.add(u))}function um(r,s,l){var u=0;s&&(u|=4),D0(l,r,u,s)}var Cf="_reactListening"+Math.random().toString(36).slice(2);function cm(r){if(!r[Cf]){r[Cf]=!0,Al.forEach(function(l){l!=="selectionchange"&&(OA.has(l)||um(l,!1,r),um(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Cf]||(s[Cf]=!0,um("selectionchange",!1,s))}}function D0(r,s,l,u){switch(W0(s)){case 2:var d=i1;break;case 8:d=a1;break;default:d=Sm}l=d.bind(null,s,l,r),d=void 0,!Fn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),u?d!==void 0?r.addEventListener(s,l,{capture:!0,passive:d}):r.addEventListener(s,l,!0):d!==void 0?r.addEventListener(s,l,{passive:d}):r.addEventListener(s,l,!1)}function fm(r,s,l,u,d){var m=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var b=u.stateNode.containerInfo;if(b===d)break;if(w===4)for(w=u.return;w!==null;){var k=w.tag;if((k===3||k===4)&&w.stateNode.containerInfo===d)return;w=w.return}for(;b!==null;){if(w=Wr(b),w===null)return;if(k=w.tag,k===5||k===6||k===26||k===27){u=m=w;continue e}b=b.parentNode}}u=u.return}Ic(function(){var F=m,X=Yn(l),te=[];e:{var q=sv.get(r);if(q!==void 0){var j=$s,Ce=r;switch(r){case"keypress":if(Tr(l)===0)break e;case"keydown":case"keyup":j=ro;break;case"focusin":Ce="focus",j=eo;break;case"focusout":Ce="blur",j=eo;break;case"beforeblur":case"afterblur":j=eo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=qn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Ld;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=Lc;break;case nv:case rv:case iv:j=to;break;case av:j=Bc;break;case"scroll":case"scrollend":j=Mc;break;case"wheel":j=io;break;case"copy":case"cut":case"paste":j=no;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Ul;break;case"toggle":case"beforetoggle":j=zc}var be=(s&4)!==0,ut=!be&&(r==="scroll"||r==="scrollend"),B=be?q!==null?q+"Capture":null:q;be=[];for(var L=F,Y;L!==null;){var Z=L;if(Y=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||Y===null||B===null||(Z=$a(L,B),Z!=null&&be.push(mu(L,Z,Y))),ut)break;L=L.return}0<be.length&&(q=new j(q,Ce,null,l,X),te.push({event:q,listeners:be}))}}if((s&7)===0){e:{if(q=r==="mouseover"||r==="pointerover",j=r==="mouseout"||r==="pointerout",q&&l!==Jr&&(Ce=l.relatedTarget||l.fromElement)&&(Wr(Ce)||Ce[Hn]))break e;if((j||q)&&(q=X.window===X?X:(q=X.ownerDocument)?q.defaultView||q.parentWindow:window,j?(Ce=l.relatedTarget||l.toElement,j=F,Ce=Ce?Wr(Ce):null,Ce!==null&&(ut=o(Ce),be=Ce.tag,Ce!==ut||be!==5&&be!==27&&be!==6)&&(Ce=null)):(j=null,Ce=F),j!==Ce)){if(be=qn,Z="onMouseLeave",B="onMouseEnter",L="mouse",(r==="pointerout"||r==="pointerover")&&(be=Ul,Z="onPointerLeave",B="onPointerEnter",L="pointer"),ut=j==null?q:vr(j),Y=Ce==null?q:vr(Ce),q=new be(Z,L+"leave",j,l,X),q.target=ut,q.relatedTarget=Y,Z=null,Wr(X)===F&&(be=new be(B,L+"enter",Ce,l,X),be.target=Y,be.relatedTarget=ut,Z=be),ut=Z,j&&Ce)t:{for(be=j,B=Ce,L=0,Y=be;Y;Y=Mo(Y))L++;for(Y=0,Z=B;Z;Z=Mo(Z))Y++;for(;0<L-Y;)be=Mo(be),L--;for(;0<Y-L;)B=Mo(B),Y--;for(;L--;){if(be===B||B!==null&&be===B.alternate)break t;be=Mo(be),B=Mo(B)}be=null}else be=null;j!==null&&A0(te,q,j,be,!1),Ce!==null&&ut!==null&&A0(te,ut,Ce,be,!0)}}e:{if(q=F?vr(F):window,j=q.nodeName&&q.nodeName.toLowerCase(),j==="select"||j==="input"&&q.type==="file")var me=jy;else if(Ut(q))if(Gy)me=qD;else{me=YD;var Ue=zD}else j=q.nodeName,!j||j.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?F&&Ol(F.elementType)&&(me=jy):me=FD;if(me&&(me=me(r,F))){ii(te,me,l,X);break e}Ue&&Ue(r,q,F),r==="focusout"&&F&&q.type==="number"&&F.memoizedProps.value!=null&&Bi(q,"number",q.value)}switch(Ue=F?vr(F):window,r){case"focusin":(Ut(Ue)||Ue.contentEditable==="true")&&(ao=Ue,Yd=F,zl=null);break;case"focusout":zl=Yd=ao=null;break;case"mousedown":Fd=!0;break;case"contextmenu":case"mouseup":case"dragend":Fd=!1,ev(te,l,X);break;case"selectionchange":if(GD)break;case"keydown":case"keyup":ev(te,l,X)}var ve;if(Dr)e:{switch(r){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Fe?G(r,l)&&(Se="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Se="onCompositionStart");Se&&(_&&l.locale!=="ko"&&(Fe||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Fe&&(ve=Nl()):(wr=X,Hi="value"in wr?wr.value:wr.textContent,Fe=!0)),Ue=If(F,Se),0<Ue.length&&(Se=new Vl(Se,r,null,l,X),te.push({event:Se,listeners:Ue}),ve?Se.data=ve:(ve=ue(l),ve!==null&&(Se.data=ve)))),(ve=y?Lt(r,l):qe(r,l))&&(Se=If(F,"onBeforeInput"),0<Se.length&&(Ue=new Vl("onBeforeInput","beforeinput",null,l,X),te.push({event:Ue,listeners:Se}),Ue.data=ve)),CA(te,r,F,l,X)}S0(te,s)})}function mu(r,s,l){return{instance:r,listener:s,currentTarget:l}}function If(r,s){for(var l=s+"Capture",u=[];r!==null;){var d=r,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=$a(r,l),d!=null&&u.unshift(mu(r,d,m)),d=$a(r,s),d!=null&&u.push(mu(r,d,m))),r.tag===3)return u;r=r.return}return[]}function Mo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function A0(r,s,l,u,d){for(var m=s._reactName,w=[];l!==null&&l!==u;){var b=l,k=b.alternate,F=b.stateNode;if(b=b.tag,k!==null&&k===u)break;b!==5&&b!==26&&b!==27||F===null||(k=F,d?(F=$a(l,m),F!=null&&w.unshift(mu(l,F,k))):d||(F=$a(l,m),F!=null&&w.push(mu(l,F,k)))),l=l.return}w.length!==0&&r.push({event:s,listeners:w})}var kA=/\r\n?/g,NA=/\u0000|\uFFFD/g;function R0(r){return(typeof r=="string"?r:""+r).replace(kA,`
`).replace(NA,"")}function C0(r,s){return s=R0(s),R0(r)===s}function Mf(){}function lt(r,s,l,u,d,m){switch(l){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||zn(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&zn(r,""+u);break;case"className":_r(r,"class",u);break;case"tabIndex":_r(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":_r(r,l,u);break;case"style":Ml(r,u,m);break;case"data":if(s!=="object"){_r(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||l!=="href")){r.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(l);break}u=Xs(""+u),r.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(s!=="input"&&lt(r,s,"name",d.name,d,null),lt(r,s,"formEncType",d.formEncType,d,null),lt(r,s,"formMethod",d.formMethod,d,null),lt(r,s,"formTarget",d.formTarget,d,null)):(lt(r,s,"encType",d.encType,d,null),lt(r,s,"method",d.method,d,null),lt(r,s,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(l);break}u=Xs(""+u),r.setAttribute(l,u);break;case"onClick":u!=null&&(r.onclick=Mf);break;case"onScroll":u!=null&&He("scroll",r);break;case"onScrollEnd":u!=null&&He("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(n(61));if(l=u.__html,l!=null){if(d.children!=null)throw Error(n(60));r.innerHTML=l}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}l=Xs(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,""+u):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":u===!0?r.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,u):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(l,u):r.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(l):r.setAttribute(l,u);break;case"popover":He("beforetoggle",r),He("toggle",r),Ui(r,"popover",u);break;case"xlinkActuate":Zt(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Zt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Zt(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Zt(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Zt(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Zt(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Zt(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Zt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Zt(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ui(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Pd.get(l)||l,Ui(r,l,u))}}function hm(r,s,l,u,d,m){switch(l){case"style":Ml(r,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(n(61));if(l=u.__html,l!=null){if(d.children!=null)throw Error(n(60));r.innerHTML=l}}break;case"children":typeof u=="string"?zn(r,u):(typeof u=="number"||typeof u=="bigint")&&zn(r,""+u);break;case"onScroll":u!=null&&He("scroll",r);break;case"onScrollEnd":u!=null&&He("scrollend",r);break;case"onClick":u!=null&&(r.onclick=Mf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!js.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(d=l.endsWith("Capture"),s=l.slice(2,d?l.length-7:void 0),m=r[Mt]||null,m=m!=null?m[l]:null,typeof m=="function"&&r.removeEventListener(s,m,d),typeof u=="function")){typeof m!="function"&&m!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(s,u,d);break e}l in r?r[l]=u:u===!0?r.setAttribute(l,""):Ui(r,l,u)}}}function nn(r,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",r),He("load",r);var u=!1,d=!1,m;for(m in l)if(l.hasOwnProperty(m)){var w=l[m];if(w!=null)switch(m){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:lt(r,s,m,w,l,null)}}d&&lt(r,s,"srcSet",l.srcSet,l,null),u&&lt(r,s,"src",l.src,l,null);return;case"input":He("invalid",r);var b=m=w=d=null,k=null,F=null;for(u in l)if(l.hasOwnProperty(u)){var X=l[u];if(X!=null)switch(u){case"name":d=X;break;case"type":w=X;break;case"checked":k=X;break;case"defaultChecked":F=X;break;case"value":m=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(n(137,s));break;default:lt(r,s,u,X,l,null)}}Ka(r,m,b,k,F,w,d,!1),Ws(r);return;case"select":He("invalid",r),u=w=m=null;for(d in l)if(l.hasOwnProperty(d)&&(b=l[d],b!=null))switch(d){case"value":m=b;break;case"defaultValue":w=b;break;case"multiple":u=b;default:lt(r,s,d,b,l,null)}s=m,l=w,r.multiple=!!u,s!=null?Zr(r,!!u,s,!1):l!=null&&Zr(r,!!u,l,!0);return;case"textarea":He("invalid",r),m=d=u=null;for(w in l)if(l.hasOwnProperty(w)&&(b=l[w],b!=null))switch(w){case"value":u=b;break;case"defaultValue":d=b;break;case"children":m=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(n(91));break;default:lt(r,s,w,b,l,null)}Wa(r,u,d,m),Ws(r);return;case"option":for(k in l)if(l.hasOwnProperty(k)&&(u=l[k],u!=null))switch(k){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:lt(r,s,k,u,l,null)}return;case"dialog":He("beforetoggle",r),He("toggle",r),He("cancel",r),He("close",r);break;case"iframe":case"object":He("load",r);break;case"video":case"audio":for(u=0;u<pu.length;u++)He(pu[u],r);break;case"image":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"embed":case"source":case"link":He("error",r),He("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in l)if(l.hasOwnProperty(F)&&(u=l[F],u!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:lt(r,s,F,u,l,null)}return;default:if(Ol(s)){for(X in l)l.hasOwnProperty(X)&&(u=l[X],u!==void 0&&hm(r,s,X,u,l,void 0));return}}for(b in l)l.hasOwnProperty(b)&&(u=l[b],u!=null&&lt(r,s,b,u,l,null))}function xA(r,s,l,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,w=null,b=null,k=null,F=null,X=null;for(j in l){var te=l[j];if(l.hasOwnProperty(j)&&te!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":k=te;default:u.hasOwnProperty(j)||lt(r,s,j,null,u,te)}}for(var q in u){var j=u[q];if(te=l[q],u.hasOwnProperty(q)&&(j!=null||te!=null))switch(q){case"type":m=j;break;case"name":d=j;break;case"checked":F=j;break;case"defaultChecked":X=j;break;case"value":w=j;break;case"defaultValue":b=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(n(137,s));break;default:j!==te&&lt(r,s,q,j,u,te)}}In(r,w,b,k,F,X,m,d);return;case"select":j=w=b=q=null;for(m in l)if(k=l[m],l.hasOwnProperty(m)&&k!=null)switch(m){case"value":break;case"multiple":j=k;default:u.hasOwnProperty(m)||lt(r,s,m,null,u,k)}for(d in u)if(m=u[d],k=l[d],u.hasOwnProperty(d)&&(m!=null||k!=null))switch(d){case"value":q=m;break;case"defaultValue":b=m;break;case"multiple":w=m;default:m!==k&&lt(r,s,d,m,u,k)}s=b,l=w,u=j,q!=null?Zr(r,!!l,q,!1):!!u!=!!l&&(s!=null?Zr(r,!!l,s,!0):Zr(r,!!l,l?[]:"",!1));return;case"textarea":j=q=null;for(b in l)if(d=l[b],l.hasOwnProperty(b)&&d!=null&&!u.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:lt(r,s,b,null,u,d)}for(w in u)if(d=u[w],m=l[w],u.hasOwnProperty(w)&&(d!=null||m!=null))switch(w){case"value":q=d;break;case"defaultValue":j=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(n(91));break;default:d!==m&&lt(r,s,w,d,u,m)}st(r,q,j);return;case"option":for(var Ce in l)if(q=l[Ce],l.hasOwnProperty(Ce)&&q!=null&&!u.hasOwnProperty(Ce))switch(Ce){case"selected":r.selected=!1;break;default:lt(r,s,Ce,null,u,q)}for(k in u)if(q=u[k],j=l[k],u.hasOwnProperty(k)&&q!==j&&(q!=null||j!=null))switch(k){case"selected":r.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:lt(r,s,k,q,u,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in l)q=l[be],l.hasOwnProperty(be)&&q!=null&&!u.hasOwnProperty(be)&&lt(r,s,be,null,u,q);for(F in u)if(q=u[F],j=l[F],u.hasOwnProperty(F)&&q!==j&&(q!=null||j!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(n(137,s));break;default:lt(r,s,F,q,u,j)}return;default:if(Ol(s)){for(var ut in l)q=l[ut],l.hasOwnProperty(ut)&&q!==void 0&&!u.hasOwnProperty(ut)&&hm(r,s,ut,void 0,u,q);for(X in u)q=u[X],j=l[X],!u.hasOwnProperty(X)||q===j||q===void 0&&j===void 0||hm(r,s,X,q,u,j);return}}for(var B in l)q=l[B],l.hasOwnProperty(B)&&q!=null&&!u.hasOwnProperty(B)&&lt(r,s,B,null,u,q);for(te in u)q=u[te],j=l[te],!u.hasOwnProperty(te)||q===j||q==null&&j==null||lt(r,s,te,q,u,j)}var dm=null,pm=null;function Of(r){return r.nodeType===9?r:r.ownerDocument}function I0(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function M0(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function mm(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var gm=null;function PA(){var r=window.event;return r&&r.type==="popstate"?r===gm?!1:(gm=r,!0):(gm=null,!1)}var O0=typeof setTimeout=="function"?setTimeout:void 0,VA=typeof clearTimeout=="function"?clearTimeout:void 0,k0=typeof Promise=="function"?Promise:void 0,LA=typeof queueMicrotask=="function"?queueMicrotask:typeof k0<"u"?function(r){return k0.resolve(null).then(r).catch(UA)}:O0;function UA(r){setTimeout(function(){throw r})}function na(r){return r==="head"}function N0(r,s){var l=s,u=0,d=0;do{var m=l.nextSibling;if(r.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(0<u&&8>u){l=u;var w=r.ownerDocument;if(l&1&&gu(w.documentElement),l&2&&gu(w.body),l&4)for(l=w.head,gu(l),w=l.firstChild;w;){var b=w.nextSibling,k=w.nodeName;w[qa]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&w.rel.toLowerCase()==="stylesheet"||l.removeChild(w),w=b}}if(d===0){r.removeChild(m),Su(s);return}d--}else l==="$"||l==="$?"||l==="$!"?d++:u=l.charCodeAt(0)-48;else u=0;l=m}while(l);Su(s)}function ym(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":ym(l),Li(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function BA(r,s,l,u){for(;r.nodeType===1;){var d=l;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[qa])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(m=r.getAttribute("rel"),m==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(m!==d.rel||r.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||r.getAttribute("title")!==(d.title==null?null:d.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(m=r.getAttribute("src"),(m!==(d.src==null?null:d.src)||r.getAttribute("type")!==(d.type==null?null:d.type)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&r.getAttribute("name")===m)return r}else return r;if(r=lr(r.nextSibling),r===null)break}return null}function HA(r,s,l){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=lr(r.nextSibling),r===null))return null;return r}function vm(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function zA(r,s){var l=r.ownerDocument;if(r.data!=="$?"||l.readyState==="complete")s();else{var u=function(){s(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function lr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var _m=null;function x0(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}function P0(r,s,l){switch(s=Of(l),r){case"html":if(r=s.documentElement,!r)throw Error(n(452));return r;case"head":if(r=s.head,!r)throw Error(n(453));return r;case"body":if(r=s.body,!r)throw Error(n(454));return r;default:throw Error(n(451))}}function gu(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Li(r)}var $n=new Map,V0=new Set;function kf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var yi=J.d;J.d={f:YA,r:FA,D:qA,C:jA,L:GA,m:QA,X:WA,S:KA,M:XA};function YA(){var r=yi.f(),s=bf();return r||s}function FA(r){var s=yr(r);s!==null&&s.tag===5&&s.type==="form"?n_(s):yi.r(r)}var Oo=typeof document>"u"?null:document;function L0(r,s,l){var u=Oo;if(u&&typeof s=="string"&&s){var d=Ot(s);d='link[rel="'+r+'"][href="'+d+'"]',typeof l=="string"&&(d+='[crossorigin="'+l+'"]'),V0.has(d)||(V0.add(d),r={rel:r,crossOrigin:l,href:s},u.querySelector(d)===null&&(s=u.createElement("link"),nn(s,"link",r),St(s),u.head.appendChild(s)))}}function qA(r){yi.D(r),L0("dns-prefetch",r,null)}function jA(r,s){yi.C(r,s),L0("preconnect",r,s)}function GA(r,s,l){yi.L(r,s,l);var u=Oo;if(u&&r&&s){var d='link[rel="preload"][as="'+Ot(s)+'"]';s==="image"&&l&&l.imageSrcSet?(d+='[imagesrcset="'+Ot(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(d+='[imagesizes="'+Ot(l.imageSizes)+'"]')):d+='[href="'+Ot(r)+'"]';var m=d;switch(s){case"style":m=ko(r);break;case"script":m=No(r)}$n.has(m)||(r=v({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:r,as:s},l),$n.set(m,r),u.querySelector(d)!==null||s==="style"&&u.querySelector(yu(m))||s==="script"&&u.querySelector(vu(m))||(s=u.createElement("link"),nn(s,"link",r),St(s),u.head.appendChild(s)))}}function QA(r,s){yi.m(r,s);var l=Oo;if(l&&r){var u=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+Ot(u)+'"][href="'+Ot(r)+'"]',m=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=No(r)}if(!$n.has(m)&&(r=v({rel:"modulepreload",href:r},s),$n.set(m,r),l.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(vu(m)))return}u=l.createElement("link"),nn(u,"link",r),St(u),l.head.appendChild(u)}}}function KA(r,s,l){yi.S(r,s,l);var u=Oo;if(u&&r){var d=gn(u).hoistableStyles,m=ko(r);s=s||"default";var w=d.get(m);if(!w){var b={loading:0,preload:null};if(w=u.querySelector(yu(m)))b.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":s},l),(l=$n.get(m))&&Em(r,l);var k=w=u.createElement("link");St(k),nn(k,"link",r),k._p=new Promise(function(F,X){k.onload=F,k.onerror=X}),k.addEventListener("load",function(){b.loading|=1}),k.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Nf(w,s,u)}w={type:"stylesheet",instance:w,count:1,state:b},d.set(m,w)}}}function WA(r,s){yi.X(r,s);var l=Oo;if(l&&r){var u=gn(l).hoistableScripts,d=No(r),m=u.get(d);m||(m=l.querySelector(vu(d)),m||(r=v({src:r,async:!0},s),(s=$n.get(d))&&wm(r,s),m=l.createElement("script"),St(m),nn(m,"link",r),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(d,m))}}function XA(r,s){yi.M(r,s);var l=Oo;if(l&&r){var u=gn(l).hoistableScripts,d=No(r),m=u.get(d);m||(m=l.querySelector(vu(d)),m||(r=v({src:r,async:!0,type:"module"},s),(s=$n.get(d))&&wm(r,s),m=l.createElement("script"),St(m),nn(m,"link",r),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(d,m))}}function U0(r,s,l,u){var d=(d=Me.current)?kf(d):null;if(!d)throw Error(n(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=ko(l.href),l=gn(d).hoistableStyles,u=l.get(s),u||(u={type:"style",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=ko(l.href);var m=gn(d).hoistableStyles,w=m.get(r);if(w||(d=d.ownerDocument||d,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(r,w),(m=d.querySelector(yu(r)))&&!m._p&&(w.instance=m,w.state.loading=5),$n.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},$n.set(r,l),m||$A(d,r,l,w.state))),s&&u===null)throw Error(n(528,""));return w}if(s&&u!==null)throw Error(n(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=No(l),l=gn(d).hoistableScripts,u=l.get(s),u||(u={type:"script",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,r))}}function ko(r){return'href="'+Ot(r)+'"'}function yu(r){return'link[rel="stylesheet"]['+r+"]"}function B0(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function $A(r,s,l,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),nn(s,"link",l),St(s),r.head.appendChild(s))}function No(r){return'[src="'+Ot(r)+'"]'}function vu(r){return"script[async]"+r}function H0(r,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+Ot(l.href)+'"]');if(u)return s.instance=u,St(u),u;var d=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),St(u),nn(u,"style",d),Nf(u,l.precedence,r),s.instance=u;case"stylesheet":d=ko(l.href);var m=r.querySelector(yu(d));if(m)return s.state.loading|=4,s.instance=m,St(m),m;u=B0(l),(d=$n.get(d))&&Em(u,d),m=(r.ownerDocument||r).createElement("link"),St(m);var w=m;return w._p=new Promise(function(b,k){w.onload=b,w.onerror=k}),nn(m,"link",u),s.state.loading|=4,Nf(m,l.precedence,r),s.instance=m;case"script":return m=No(l.src),(d=r.querySelector(vu(m)))?(s.instance=d,St(d),d):(u=l,(d=$n.get(m))&&(u=v({},l),wm(u,d)),r=r.ownerDocument||r,d=r.createElement("script"),St(d),nn(d,"link",u),r.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(n(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Nf(u,l.precedence,r));return s.instance}function Nf(r,s,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,m=d,w=0;w<u.length;w++){var b=u[w];if(b.dataset.precedence===s)m=b;else if(m!==d)break}m?m.parentNode.insertBefore(r,m.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(r,s.firstChild))}function Em(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function wm(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var xf=null;function z0(r,s,l){if(xf===null){var u=new Map,d=xf=new Map;d.set(l,u)}else d=xf,u=d.get(l),u||(u=new Map,d.set(l,u));if(u.has(r))return u;for(u.set(r,null),l=l.getElementsByTagName(r),d=0;d<l.length;d++){var m=l[d];if(!(m[qa]||m[Vt]||r==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var w=m.getAttribute(s)||"";w=r+w;var b=u.get(w);b?b.push(m):u.set(w,[m])}}return u}function Y0(r,s,l){r=r.ownerDocument||r,r.head.insertBefore(l,s==="title"?r.querySelector("head > title"):null)}function ZA(r,s,l){if(l===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function F0(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var _u=null;function JA(){}function e1(r,s,l){if(_u===null)throw Error(n(475));var u=_u;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=ko(l.href),m=r.querySelector(yu(d));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=Pf.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=m,St(m);return}m=r.ownerDocument||r,l=B0(l),(d=$n.get(d))&&Em(l,d),m=m.createElement("link"),St(m);var w=m;w._p=new Promise(function(b,k){w.onload=b,w.onerror=k}),nn(m,"link",l),s.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Pf.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function t1(){if(_u===null)throw Error(n(475));var r=_u;return r.stylesheets&&r.count===0&&Tm(r,r.stylesheets),0<r.count?function(s){var l=setTimeout(function(){if(r.stylesheets&&Tm(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(l)}}:null}function Pf(){if(this.count--,this.count===0){if(this.stylesheets)Tm(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Vf=null;function Tm(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Vf=new Map,s.forEach(n1,r),Vf=null,Pf.call(r))}function n1(r,s){if(!(s.state.loading&4)){var l=Vf.get(r);if(l)var u=l.get(null);else{l=new Map,Vf.set(r,l);for(var d=r.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var w=d[m];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(l.set(w.dataset.precedence,w),u=w)}u&&l.set(null,u)}d=s.instance,w=d.getAttribute("data-precedence"),m=l.get(w)||u,m===u&&l.set(null,d),l.set(w,d),this.count++,u=Pf.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),m?m.parentNode.insertBefore(d,m.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(d,r.firstChild)),s.state.loading|=4}}var Eu={$$typeof:K,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function r1(r,s,l,u,d,m,w,b){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qr(0),this.hiddenUpdates=Qr(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function q0(r,s,l,u,d,m,w,b,k,F,X,te){return r=new r1(r,s,l,w,b,k,F,te),s=1,m===!0&&(s|=24),m=On(3,null,null,s),r.current=m,m.stateNode=r,s=rp(),s.refCount++,r.pooledCache=s,s.refCount++,m.memoizedState={element:u,isDehydrated:l,cache:s},op(m),r}function j0(r){return r?(r=uo,r):uo}function G0(r,s,l,u,d,m){d=j0(d),u.context===null?u.context=d:u.pendingContext=d,u=Fi(s),u.payload={element:l},m=m===void 0?null:m,m!==null&&(u.callback=m),l=qi(r,u,s),l!==null&&(Vn(l,r,s),Xl(l,r,s))}function Q0(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function bm(r,s){Q0(r,s),(r=r.alternate)&&Q0(r,s)}function K0(r){if(r.tag===13){var s=lo(r,67108864);s!==null&&Vn(s,r,67108864),bm(r,67108864)}}var Lf=!0;function i1(r,s,l,u){var d=H.T;H.T=null;var m=J.p;try{J.p=2,Sm(r,s,l,u)}finally{J.p=m,H.T=d}}function a1(r,s,l,u){var d=H.T;H.T=null;var m=J.p;try{J.p=8,Sm(r,s,l,u)}finally{J.p=m,H.T=d}}function Sm(r,s,l,u){if(Lf){var d=Dm(u);if(d===null)fm(r,s,u,Uf,l),X0(r,u);else if(o1(d,r,s,l,u))u.stopPropagation();else if(X0(r,u),s&4&&-1<s1.indexOf(r)){for(;d!==null;){var m=yr(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var w=rr(m.pendingLanes);if(w!==0){var b=m;for(b.pendingLanes|=2,b.entangledLanes|=2;w;){var k=1<<31-ln(w);b.entanglements[1]|=k,w&=~k}Or(m),(nt&6)===0&&(wf=Bn()+500,du(0))}}break;case 13:b=lo(m,2),b!==null&&Vn(b,m,2),bf(),bm(m,2)}if(m=Dm(u),m===null&&fm(r,s,u,Uf,l),m===d)break;d=m}d!==null&&u.stopPropagation()}else fm(r,s,u,null,l)}}function Dm(r){return r=Yn(r),Am(r)}var Uf=null;function Am(r){if(Uf=null,r=Wr(r),r!==null){var s=o(r);if(s===null)r=null;else{var l=s.tag;if(l===13){if(r=c(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Uf=r,null}function W0(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Id()){case vl:return 2;case zs:return 8;case Ba:case Md:return 32;case Ys:return 268435456;default:return 32}default:return 32}}var Rm=!1,ra=null,ia=null,aa=null,wu=new Map,Tu=new Map,sa=[],s1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function X0(r,s){switch(r){case"focusin":case"focusout":ra=null;break;case"dragenter":case"dragleave":ia=null;break;case"mouseover":case"mouseout":aa=null;break;case"pointerover":case"pointerout":wu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tu.delete(s.pointerId)}}function bu(r,s,l,u,d,m){return r===null||r.nativeEvent!==m?(r={blockedOn:s,domEventName:l,eventSystemFlags:u,nativeEvent:m,targetContainers:[d]},s!==null&&(s=yr(s),s!==null&&K0(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function o1(r,s,l,u,d){switch(s){case"focusin":return ra=bu(ra,r,s,l,u,d),!0;case"dragenter":return ia=bu(ia,r,s,l,u,d),!0;case"mouseover":return aa=bu(aa,r,s,l,u,d),!0;case"pointerover":var m=d.pointerId;return wu.set(m,bu(wu.get(m)||null,r,s,l,u,d)),!0;case"gotpointercapture":return m=d.pointerId,Tu.set(m,bu(Tu.get(m)||null,r,s,l,u,d)),!0}return!1}function $0(r){var s=Wr(r.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=c(l),s!==null){r.blockedOn=s,Tc(r.priority,function(){if(l.tag===13){var u=Pn();u=xi(u);var d=lo(l,u);d!==null&&Vn(d,l,u),bm(l,u)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Bf(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=Dm(r.nativeEvent);if(l===null){l=r.nativeEvent;var u=new l.constructor(l.type,l);Jr=u,l.target.dispatchEvent(u),Jr=null}else return s=yr(l),s!==null&&K0(s),r.blockedOn=l,!1;s.shift()}return!0}function Z0(r,s,l){Bf(r)&&l.delete(s)}function l1(){Rm=!1,ra!==null&&Bf(ra)&&(ra=null),ia!==null&&Bf(ia)&&(ia=null),aa!==null&&Bf(aa)&&(aa=null),wu.forEach(Z0),Tu.forEach(Z0)}function Hf(r,s){r.blockedOn===s&&(r.blockedOn=null,Rm||(Rm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,l1)))}var zf=null;function J0(r){zf!==r&&(zf=r,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){zf===r&&(zf=null);for(var s=0;s<r.length;s+=3){var l=r[s],u=r[s+1],d=r[s+2];if(typeof u!="function"){if(Am(u||l)===null)continue;break}var m=yr(l);m!==null&&(r.splice(s,3),s-=3,Ap(m,{pending:!0,data:d,method:l.method,action:u},u,d))}}))}function Su(r){function s(k){return Hf(k,r)}ra!==null&&Hf(ra,r),ia!==null&&Hf(ia,r),aa!==null&&Hf(aa,r),wu.forEach(s),Tu.forEach(s);for(var l=0;l<sa.length;l++){var u=sa[l];u.blockedOn===r&&(u.blockedOn=null)}for(;0<sa.length&&(l=sa[0],l.blockedOn===null);)$0(l),l.blockedOn===null&&sa.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var d=l[u],m=l[u+1],w=d[Mt]||null;if(typeof m=="function")w||J0(l);else if(w){var b=null;if(m&&m.hasAttribute("formAction")){if(d=m,w=m[Mt]||null)b=w.formAction;else if(Am(d)!==null)continue}else b=w.action;typeof b=="function"?l[u+1]=b:(l.splice(u,3),u-=3),J0(l)}}}function Cm(r){this._internalRoot=r}Yf.prototype.render=Cm.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));var l=s.current,u=Pn();G0(l,u,r,s,null,null)},Yf.prototype.unmount=Cm.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;G0(r.current,2,null,r,null,null),bf(),s[Hn]=null}};function Yf(r){this._internalRoot=r}Yf.prototype.unstable_scheduleHydration=function(r){if(r){var s=Pi();r={blockedOn:null,target:r,priority:s};for(var l=0;l<sa.length&&s!==0&&s<sa[l].priority;l++);sa.splice(l,0,r),l===0&&$0(r)}};var eE=e.version;if(eE!=="19.1.0")throw Error(n(527,eE,"19.1.0"));J.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=p(s),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var u1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ff=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ff.isDisabled&&Ff.supportsFiber)try{Et=Ff.inject(u1),tt=Ff}catch{}}return Au.createRoot=function(r,s){if(!a(r))throw Error(n(299));var l=!1,u="",d=g_,m=y_,w=v_,b=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(b=s.unstable_transitionCallbacks)),s=q0(r,1,!1,null,null,l,u,d,m,w,b,null),r[Hn]=s.current,cm(r),new Cm(s)},Au.hydrateRoot=function(r,s,l){if(!a(r))throw Error(n(299));var u=!1,d="",m=g_,w=y_,b=v_,k=null,F=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(b=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(k=l.unstable_transitionCallbacks),l.formState!==void 0&&(F=l.formState)),s=q0(r,1,!0,s,l??null,u,d,m,w,b,k,F),s.context=j0(null),l=s.current,u=Pn(),u=xi(u),d=Fi(u),d.callback=null,qi(l,d,u),l=u,s.current.lanes=l,Kr(s,l),Or(s),r[Hn]=s.current,cm(r),new Yf(s)},Au.version="19.1.0",Au}var cE;function w1(){if(cE)return Om.exports;cE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Om.exports=E1(),Om.exports}var T1=w1();const b1=()=>{};var fE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT=function(i){const e=[];let t=0;for(let n=0;n<i.length;n++){let a=i.charCodeAt(n);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&n+1<i.length&&(i.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++n)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},S1=function(i){const e=[];let t=0,n=0;for(;t<i.length;){const a=i[t++];if(a<128)e[n++]=String.fromCharCode(a);else if(a>191&&a<224){const o=i[t++];e[n++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=i[t++],c=i[t++],h=i[t++],p=((a&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;e[n++]=String.fromCharCode(55296+(p>>10)),e[n++]=String.fromCharCode(56320+(p&1023))}else{const o=i[t++],c=i[t++];e[n++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return e.join("")},xT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<i.length;a+=3){const o=i[a],c=a+1<i.length,h=c?i[a+1]:0,p=a+2<i.length,g=p?i[a+2]:0,v=o>>2,E=(o&3)<<4|h>>4;let T=(h&15)<<2|g>>6,A=g&63;p||(A=64,c||(T=64)),n.push(t[v],t[E],t[T],t[A])}return n.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(NT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):S1(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<i.length;){const o=t[i.charAt(a++)],h=a<i.length?t[i.charAt(a)]:0;++a;const g=a<i.length?t[i.charAt(a)]:64;++a;const E=a<i.length?t[i.charAt(a)]:64;if(++a,o==null||h==null||g==null||E==null)throw new D1;const T=o<<2|h>>4;if(n.push(T),g!==64){const A=h<<4&240|g>>2;if(n.push(A),E!==64){const N=g<<6&192|E;n.push(N)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class D1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const A1=function(i){const e=NT(i);return xT.encodeByteArray(e,!0)},wh=function(i){return A1(i).replace(/\./g,"")},PT=function(i){try{return xT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1=()=>R1().__FIREBASE_DEFAULTS__,I1=()=>{if(typeof process>"u"||typeof fE>"u")return;const i=fE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},M1=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&PT(i[1]);return e&&JSON.parse(e)},ed=()=>{try{return b1()||C1()||I1()||M1()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},VT=i=>{var e,t;return(t=(e=ed())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},O1=i=>{const e=VT(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},LT=()=>{var i;return(i=ed())===null||i===void 0?void 0:i.config},UT=i=>{var e;return(e=ed())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(i){return i.endsWith(".cloudworkstations.dev")}async function BT(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",a=i.iat||0,o=i.sub||i.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},i);return[wh(JSON.stringify(t)),wh(JSON.stringify(c)),""].join(".")}const Bu={};function x1(){const i={prod:[],emulator:[]};for(const e of Object.keys(Bu))Bu[e]?i.emulator.push(e):i.prod.push(e);return i}function P1(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let hE=!1;function HT(i,e){if(typeof window>"u"||typeof document>"u"||!nc(window.location.host)||Bu[i]===e||Bu[i]||hE)return;Bu[i]=e;function t(T){return`__firebase__banner__${T}`}const n="__firebase__banner",o=x1().prod.length>0;function c(){const T=document.getElementById(n);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,A){T.setAttribute("width","24"),T.setAttribute("id",A),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{hE=!0,c()},T}function v(T,A){T.setAttribute("id",A),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function E(){const T=P1(n),A=t("text"),N=document.getElementById(A)||document.createElement("span"),U=t("learnmore"),I=document.getElementById(U)||document.createElement("a"),Q=t("preprendIcon"),W=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const K=T.element;h(K),v(I,U);const ae=g();p(W,Q),K.append(W,N,I,ae),document.body.appendChild(K)}o?(N.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function V1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function L1(){var i;const e=(i=ed())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function U1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function B1(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function H1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function z1(){const i=mn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function Y1(){return!L1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function F1(){try{return typeof indexedDB=="object"}catch{return!1}}function q1(){return new Promise((i,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(n),i(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var o;e(((o=a.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="FirebaseError";class Oi extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=j1,Object.setPrototypeOf(this,Oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rc.prototype.create)}}class rc{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],c=o?G1(o,n):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new Oi(a,h,n)}}function G1(i,e){return i.replace(Q1,(t,n)=>{const a=e[n];return a!=null?String(a):`<${n}?>`})}const Q1=/\{\$([^}]+)}/g;function K1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Cs(i,e){if(i===e)return!0;const t=Object.keys(i),n=Object.keys(e);for(const a of t){if(!n.includes(a))return!1;const o=i[a],c=e[a];if(dE(o)&&dE(c)){if(!Cs(o,c))return!1}else if(o!==c)return!1}for(const a of n)if(!t.includes(a))return!1;return!0}function dE(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(i){const e=[];for(const[t,n]of Object.entries(i))Array.isArray(n)?n.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Ou(i){const e={};return i.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[a,o]=n.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function ku(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function W1(i,e){const t=new X1(i,e);return t.subscribe.bind(t)}class X1{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let a;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");$1(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:n},a.next===void 0&&(a.next=Pm),a.error===void 0&&(a.error=Pm),a.complete===void 0&&(a.complete=Pm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $1(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Pm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(i){return i&&i._delegate?i._delegate:i}class Is{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new k1;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eR(e))try{this.getOrInitializeService({instanceIdentifier:_s})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});n.resolve(o)}catch{}}}}clearInstance(e=_s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_s){return this.instances.has(e)}getOptions(e=_s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);n===h&&c.resolve(a)}return a}onInit(e,t){var n;const a=this.normalizeInstanceIdentifier(t),o=(n=this.onInitCallbacks.get(a))!==null&&n!==void 0?n:new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const a of n)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:J1(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=_s){return this.component?this.component.multipleInstances?e:_s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function J1(i){return i===_s?void 0:i}function eR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Z1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ze||(ze={}));const nR={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},rR=ze.INFO,iR={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},aR=(i,e,...t)=>{if(e<i.logLevel)return;const n=new Date().toISOString(),a=iR[e];if(a)console[a](`[${n}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lg{constructor(e){this.name=e,this._logLevel=rR,this._logHandler=aR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const sR=(i,e)=>e.some(t=>i instanceof t);let pE,mE;function oR(){return pE||(pE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lR(){return mE||(mE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zT=new WeakMap,tg=new WeakMap,YT=new WeakMap,Vm=new WeakMap,Ug=new WeakMap;function uR(i){const e=new Promise((t,n)=>{const a=()=>{i.removeEventListener("success",o),i.removeEventListener("error",c)},o=()=>{t(ga(i.result)),a()},c=()=>{n(i.error),a()};i.addEventListener("success",o),i.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&zT.set(t,i)}).catch(()=>{}),Ug.set(e,i),e}function cR(i){if(tg.has(i))return;const e=new Promise((t,n)=>{const a=()=>{i.removeEventListener("complete",o),i.removeEventListener("error",c),i.removeEventListener("abort",c)},o=()=>{t(),a()},c=()=>{n(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",o),i.addEventListener("error",c),i.addEventListener("abort",c)});tg.set(i,e)}let ng={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return tg.get(i);if(e==="objectStoreNames")return i.objectStoreNames||YT.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ga(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function fR(i){ng=i(ng)}function hR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=i.call(Lm(this),e,...t);return YT.set(n,e.sort?e.sort():[e]),ga(n)}:lR().includes(i)?function(...e){return i.apply(Lm(this),e),ga(zT.get(this))}:function(...e){return ga(i.apply(Lm(this),e))}}function dR(i){return typeof i=="function"?hR(i):(i instanceof IDBTransaction&&cR(i),sR(i,oR())?new Proxy(i,ng):i)}function ga(i){if(i instanceof IDBRequest)return uR(i);if(Vm.has(i))return Vm.get(i);const e=dR(i);return e!==i&&(Vm.set(i,e),Ug.set(e,i)),e}const Lm=i=>Ug.get(i);function pR(i,e,{blocked:t,upgrade:n,blocking:a,terminated:o}={}){const c=indexedDB.open(i,e),h=ga(c);return n&&c.addEventListener("upgradeneeded",p=>{n(ga(c.result),p.oldVersion,p.newVersion,ga(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),h.then(p=>{o&&p.addEventListener("close",()=>o()),a&&p.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const mR=["get","getKey","getAll","getAllKeys","count"],gR=["put","add","delete","clear"],Um=new Map;function gE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Um.get(e))return Um.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,a=gR.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(a||mR.includes(t)))return;const o=async function(c,...h){const p=this.transaction(c,a?"readwrite":"readonly");let g=p.store;return n&&(g=g.index(h.shift())),(await Promise.all([g[t](...h),a&&p.done]))[0]};return Um.set(e,o),o}fR(i=>({...i,get:(e,t,n)=>gE(e,t)||i.get(e,t,n),has:(e,t)=>!!gE(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(vR(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function vR(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const rg="@firebase/app",yE="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai=new Lg("@firebase/app"),_R="@firebase/app-compat",ER="@firebase/analytics-compat",wR="@firebase/analytics",TR="@firebase/app-check-compat",bR="@firebase/app-check",SR="@firebase/auth",DR="@firebase/auth-compat",AR="@firebase/database",RR="@firebase/data-connect",CR="@firebase/database-compat",IR="@firebase/functions",MR="@firebase/functions-compat",OR="@firebase/installations",kR="@firebase/installations-compat",NR="@firebase/messaging",xR="@firebase/messaging-compat",PR="@firebase/performance",VR="@firebase/performance-compat",LR="@firebase/remote-config",UR="@firebase/remote-config-compat",BR="@firebase/storage",HR="@firebase/storage-compat",zR="@firebase/firestore",YR="@firebase/ai",FR="@firebase/firestore-compat",qR="firebase",jR="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig="[DEFAULT]",GR={[rg]:"fire-core",[_R]:"fire-core-compat",[wR]:"fire-analytics",[ER]:"fire-analytics-compat",[bR]:"fire-app-check",[TR]:"fire-app-check-compat",[SR]:"fire-auth",[DR]:"fire-auth-compat",[AR]:"fire-rtdb",[RR]:"fire-data-connect",[CR]:"fire-rtdb-compat",[IR]:"fire-fn",[MR]:"fire-fn-compat",[OR]:"fire-iid",[kR]:"fire-iid-compat",[NR]:"fire-fcm",[xR]:"fire-fcm-compat",[PR]:"fire-perf",[VR]:"fire-perf-compat",[LR]:"fire-rc",[UR]:"fire-rc-compat",[BR]:"fire-gcs",[HR]:"fire-gcs-compat",[zR]:"fire-fst",[FR]:"fire-fst-compat",[YR]:"fire-vertex","fire-js":"fire-js",[qR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=new Map,QR=new Map,ag=new Map;function vE(i,e){try{i.container.addComponent(e)}catch(t){Ai.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function Qo(i){const e=i.name;if(ag.has(e))return Ai.debug(`There were multiple attempts to register component ${e}.`),!1;ag.set(e,i);for(const t of Th.values())vE(t,i);for(const t of QR.values())vE(t,i);return!0}function Bg(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function tr(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ya=new rc("app","Firebase",KR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ya.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul=jR;function FT(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const n=Object.assign({name:ig,automaticDataCollectionEnabled:!0},e),a=n.name;if(typeof a!="string"||!a)throw ya.create("bad-app-name",{appName:String(a)});if(t||(t=LT()),!t)throw ya.create("no-options");const o=Th.get(a);if(o){if(Cs(t,o.options)&&Cs(n,o.config))return o;throw ya.create("duplicate-app",{appName:a})}const c=new tR(a);for(const p of ag.values())c.addComponent(p);const h=new WR(t,n,c);return Th.set(a,h),h}function qT(i=ig){const e=Th.get(i);if(!e&&i===ig&&LT())return FT();if(!e)throw ya.create("no-app",{appName:i});return e}function va(i,e,t){var n;let a=(n=GR[i])!==null&&n!==void 0?n:i;t&&(a+=`-${t}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const h=[`Unable to register library "${a}" with version "${e}":`];o&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ai.warn(h.join(" "));return}Qo(new Is(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR="firebase-heartbeat-database",$R=1,ju="firebase-heartbeat-store";let Bm=null;function jT(){return Bm||(Bm=pR(XR,$R,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(ju)}catch(t){console.warn(t)}}}}).catch(i=>{throw ya.create("idb-open",{originalErrorMessage:i.message})})),Bm}async function ZR(i){try{const t=(await jT()).transaction(ju),n=await t.objectStore(ju).get(GT(i));return await t.done,n}catch(e){if(e instanceof Oi)Ai.warn(e.message);else{const t=ya.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ai.warn(t.message)}}}async function _E(i,e){try{const n=(await jT()).transaction(ju,"readwrite");await n.objectStore(ju).put(e,GT(i)),await n.done}catch(t){if(t instanceof Oi)Ai.warn(t.message);else{const n=ya.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ai.warn(n.message)}}}function GT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=1024,eC=30;class tC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new rC(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=EE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>eC){const c=iC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Ai.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=EE(),{heartbeatsToSend:n,unsentEntries:a}=nC(this._heartbeatsCache.heartbeats),o=wh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ai.warn(t),""}}}function EE(){return new Date().toISOString().substring(0,10)}function nC(i,e=JR){const t=[];let n=i.slice();for(const a of i){const o=t.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),wE(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),wE(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class rC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return F1()?q1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await ZR(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return _E(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return _E(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function wE(i){return wh(JSON.stringify({version:2,heartbeats:i})).length}function iC(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let n=1;n<i.length;n++)i[n].date<t&&(t=i[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(i){Qo(new Is("platform-logger",e=>new yR(e),"PRIVATE")),Qo(new Is("heartbeat",e=>new tC(e),"PRIVATE")),va(rg,yE,i),va(rg,yE,"esm2017"),va("fire-js","")}aC("");var sC="firebase",oC="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */va(sC,oC,"app");function Hg(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(i);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(i,n[a])&&(t[n[a]]=i[n[a]]);return t}function QT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lC=QT,KT=new rc("auth","Firebase",QT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=new Lg("@firebase/auth");function uC(i,...e){bh.logLevel<=ze.WARN&&bh.warn(`Auth (${ul}): ${i}`,...e)}function ah(i,...e){bh.logLevel<=ze.ERROR&&bh.error(`Auth (${ul}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(i,...e){throw zg(i,...e)}function Ur(i,...e){return zg(i,...e)}function WT(i,e,t){const n=Object.assign(Object.assign({},lC()),{[e]:t});return new rc("auth","Firebase",n).create(e,{appName:i.name})}function Ei(i){return WT(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zg(i,...e){if(typeof i!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=i.name),i._errorFactory.create(t,...n)}return KT.create(i,...e)}function De(i,e,...t){if(!i)throw zg(e,...t)}function vi(i){const e="INTERNAL ASSERTION FAILED: "+i;throw ah(e),new Error(e)}function Ri(i,e){i||vi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function cC(){return TE()==="http:"||TE()==="https:"}function TE(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cC()||B1()||"connection"in navigator)?navigator.onLine:!0}function hC(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ri(t>e,"Short delay should be less than long delay!"),this.isMobile=V1()||H1()}get(){return fC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(i,e){Ri(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mC=new ac(3e4,6e4);function ka(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Na(i,e,t,n,a={}){return $T(i,a,async()=>{let o={},c={};n&&(e==="GET"?c=n:o={body:JSON.stringify(n)});const h=ic(Object.assign({key:i.config.apiKey},c)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},o);return U1()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&nc(i.emulatorConfig.host)&&(g.credentials="include"),XT.fetch()(await ZT(i,i.config.apiHost,t,h),g)})}async function $T(i,e,t){i._canInitEmulator=!1;const n=Object.assign(Object.assign({},dC),e);try{const a=new yC(i),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw qf(i,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[p,g]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw qf(i,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw qf(i,"email-already-in-use",c);if(p==="USER_DISABLED")throw qf(i,"user-disabled",c);const v=n[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw WT(i,v,g);hr(i,v)}}catch(a){if(a instanceof Oi)throw a;hr(i,"network-request-failed",{message:String(a)})}}async function sc(i,e,t,n,a={}){const o=await Na(i,e,t,n,a);return"mfaPendingCredential"in o&&hr(i,"multi-factor-auth-required",{_serverResponse:o}),o}async function ZT(i,e,t,n){const a=`${e}${t}?${n}`,o=i,c=o.config.emulator?Yg(i.config,a):`${i.config.apiScheme}://${a}`;return pC.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function gC(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(Ur(this.auth,"network-request-failed")),mC.get())})}}function qf(i,e,t){const n={appName:i.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const a=Ur(i,e,n);return a.customData._tokenResponse=t,a}function bE(i){return i!==void 0&&i.enterprise!==void 0}class vC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return gC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function _C(i,e){return Na(i,"GET","/v2/recaptchaConfig",ka(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EC(i,e){return Na(i,"POST","/v1/accounts:delete",e)}async function Sh(i,e){return Na(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wC(i,e=!1){const t=Ft(i),n=await t.getIdToken(e),a=Fg(n);De(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o==null?void 0:o.sign_in_provider;return{claims:a,token:n,authTime:Hu(Hm(a.auth_time)),issuedAtTime:Hu(Hm(a.iat)),expirationTime:Hu(Hm(a.exp)),signInProvider:c||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Hm(i){return Number(i)*1e3}function Fg(i){const[e,t,n]=i.split(".");if(e===void 0||t===void 0||n===void 0)return ah("JWT malformed, contained fewer than 3 sections"),null;try{const a=PT(t);return a?JSON.parse(a):(ah("Failed to decode base64 JWT payload"),null)}catch(a){return ah("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function SE(i){const e=Fg(i);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gu(i,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof Oi&&TC(n)&&i.auth.currentUser===i&&await i.auth.signOut(),n}}function TC({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hu(this.lastLoginAt),this.creationTime=Hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dh(i){var e;const t=i.auth,n=await i.getIdToken(),a=await Gu(i,Sh(t,{idToken:n}));De(a==null?void 0:a.users.length,t,"internal-error");const o=a.users[0];i._notifyReloadListener(o);const c=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?JT(o.providerUserInfo):[],h=DC(i.providerData,c),p=i.isAnonymous,g=!(i.email&&o.passwordHash)&&!(h!=null&&h.length),v=p?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new og(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(i,E)}async function SC(i){const e=Ft(i);await Dh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function DC(i,e){return[...i.filter(n=>!e.some(a=>a.providerId===n.providerId)),...e]}function JT(i){return i.map(e=>{var{providerId:t}=e,n=Hg(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AC(i,e){const t=await $T(i,{},async()=>{const n=ic({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=i.config,c=await ZT(i,a,"/v1/token",`key=${o}`),h=await i._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",XT.fetch()(c,{method:"POST",headers:h,body:n})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function RC(i,e){return Na(i,"POST","/v2/accounts:revokeToken",ka(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):SE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){De(e.length!==0,"internal-error");const t=SE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:a,expiresIn:o}=await AC(e,t);this.updateTokensAndExpiration(n,a,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:a,expirationTime:o}=t,c=new zo;return n&&(De(typeof n=="string","internal-error",{appName:e}),c.refreshToken=n),a&&(De(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),o&&(De(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zo,this.toJSON())}_performRefresh(){return vi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(i,e){De(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ur{constructor(e){var{uid:t,auth:n,stsTokenManager:a}=e,o=Hg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new og(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Gu(this,this.stsTokenManager.getToken(this.auth,e));return De(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return wC(this,e)}reload(){return SC(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ur(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Dh(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(tr(this.auth.app))return Promise.reject(Ei(this.auth));const e=await this.getIdToken();return await Gu(this,EC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,a,o,c,h,p,g,v;const E=(n=t.displayName)!==null&&n!==void 0?n:void 0,T=(a=t.email)!==null&&a!==void 0?a:void 0,A=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,N=(c=t.photoURL)!==null&&c!==void 0?c:void 0,U=(h=t.tenantId)!==null&&h!==void 0?h:void 0,I=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,Q=(g=t.createdAt)!==null&&g!==void 0?g:void 0,W=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:K,emailVerified:ae,isAnonymous:ie,providerData:ce,stsTokenManager:M}=t;De(K&&M,e,"internal-error");const D=zo.fromJSON(this.name,M);De(typeof K=="string",e,"internal-error"),la(E,e.name),la(T,e.name),De(typeof ae=="boolean",e,"internal-error"),De(typeof ie=="boolean",e,"internal-error"),la(A,e.name),la(N,e.name),la(U,e.name),la(I,e.name),la(Q,e.name),la(W,e.name);const R=new ur({uid:K,auth:e,email:T,emailVerified:ae,displayName:E,isAnonymous:ie,photoURL:N,phoneNumber:A,tenantId:U,stsTokenManager:D,createdAt:Q,lastLoginAt:W});return ce&&Array.isArray(ce)&&(R.providerData=ce.map(O=>Object.assign({},O))),I&&(R._redirectEventId=I),R}static async _fromIdTokenResponse(e,t,n=!1){const a=new zo;a.updateFromServerResponse(t);const o=new ur({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:n});return await Dh(o),o}static async _fromGetAccountInfoResponse(e,t,n){const a=t.users[0];De(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?JT(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(o!=null&&o.length),h=new zo;h.updateFromIdToken(n);const p=new ur({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new og(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(o!=null&&o.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=new Map;function _i(i){Ri(i instanceof Function,"Expected a class definition");let e=DE.get(i);return e?(Ri(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,DE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}eb.type="NONE";const AE=eb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(i,e,t){return`firebase:${i}:${e}:${t}`}class Yo{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:a,name:o}=this.auth;this.fullUserKey=sh(this.userKey,a.apiKey,o),this.fullPersistenceKey=sh("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Sh(this.auth,{idToken:e}).catch(()=>{});return t?ur._fromGetAccountInfoResponse(this.auth,t,e):null}return ur._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Yo(_i(AE),e,n);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let o=a[0]||_i(AE);const c=sh(n,e.config.apiKey,e.name);let h=null;for(const g of t)try{const v=await g._get(c);if(v){let E;if(typeof v=="string"){const T=await Sh(e,{idToken:v}).catch(()=>{});if(!T)break;E=await ur._fromGetAccountInfoResponse(e,T,v)}else E=ur._fromJSON(e,v);g!==o&&(h=E),o=g;break}}catch{}const p=a.filter(g=>g._shouldAllowMigration);return!o._shouldAllowMigration||!p.length?new Yo(o,e,n):(o=p[0],h&&await o._set(c,h.toJSON()),await Promise.all(t.map(async g=>{if(g!==o)try{await g._remove(c)}catch{}})),new Yo(o,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ib(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sb(e))return"Blackberry";if(ob(e))return"Webos";if(nb(e))return"Safari";if((e.includes("chrome/")||rb(e))&&!e.includes("edge/"))return"Chrome";if(ab(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=i.match(t);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function tb(i=mn()){return/firefox\//i.test(i)}function nb(i=mn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rb(i=mn()){return/crios\//i.test(i)}function ib(i=mn()){return/iemobile/i.test(i)}function ab(i=mn()){return/android/i.test(i)}function sb(i=mn()){return/blackberry/i.test(i)}function ob(i=mn()){return/webos/i.test(i)}function qg(i=mn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function CC(i=mn()){var e;return qg(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function IC(){return z1()&&document.documentMode===10}function lb(i=mn()){return qg(i)||ab(i)||ob(i)||sb(i)||/windows phone/i.test(i)||ib(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(i,e=[]){let t;switch(i){case"Browser":t=RE(mn());break;case"Worker":t=`${RE(mn())}-${i}`;break;default:t=i}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ul}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=o=>new Promise((c,h)=>{try{const p=e(o);c(p)}catch(p){h(p)}});n.onAbort=t,this.queue.push(n);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OC(i,e={}){return Na(i,"GET","/v2/passwordPolicy",ka(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=6;class NC{constructor(e){var t,n,a,o;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:kC,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,a,o,c,h;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(n=p.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(a=p.containsLowercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(o=p.containsUppercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(h=p.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),p}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let a=0;a<e.length;a++)n=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,t,n,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new CE(this),this.idTokenSubscription=new CE(this),this.beforeStateQueue=new MC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=_i(t)),this._initializationPromise=this.queue(async()=>{var n,a,o;if(!this._deleted&&(this.persistenceManager=await Yo.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Sh(this,{idToken:e}),n=await ur._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(tr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=a==null?void 0:a._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===h)&&(p!=null&&p.user)&&(a=p.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Dh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(tr(this.app))return Promise.reject(Ei(this));const t=e?Ft(e):null;return t&&De(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return tr(this.app)?Promise.reject(Ei(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return tr(this.app)?Promise.reject(Ei(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_i(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await OC(this),t=new NC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new rc("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await RC(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&_i(e)||this._popupRedirectResolver;De(t,this,"argument-error"),this.redirectPersistenceManager=await Yo.create(this,[_i(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,n,a);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ub(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(tr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&uC(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ls(i){return Ft(i)}class CE{constructor(e){this.auth=e,this.observer=null,this.addObserver=W1(t=>this.observer=t)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let td={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PC(i){td=i}function cb(i){return td.loadJS(i)}function VC(){return td.recaptchaEnterpriseScript}function LC(){return td.gapiScript}function UC(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class BC{constructor(){this.enterprise=new HC}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class HC{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const zC="recaptcha-enterprise",fb="NO_RECAPTCHA";class YC{constructor(e){this.type=zC,this.auth=Ls(e)}async verify(e="verify",t=!1){async function n(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,h)=>{_C(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const g=new vC(p);return o.tenantId==null?o._agentRecaptchaConfig=g:o._tenantRecaptchaConfigs[o.tenantId]=g,c(g.siteKey)}}).catch(p=>{h(p)})})}function a(o,c,h){const p=window.grecaptcha;bE(p)?p.enterprise.ready(()=>{p.enterprise.execute(o,{action:e}).then(g=>{c(g)}).catch(()=>{c(fb)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new BC().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{n(this.auth).then(h=>{if(!t&&bE(window.grecaptcha))a(h,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=VC();p.length!==0&&(p+=h),cb(p).then(()=>{a(h,o,c)}).catch(g=>{c(g)})}}).catch(h=>{c(h)})})}}async function IE(i,e,t,n=!1,a=!1){const o=new YC(i);let c;if(a)c=fb;else try{c=await o.verify(t)}catch{c=await o.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const p=h.phoneEnrollmentInfo.phoneNumber,g=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const p=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return n?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function lg(i,e,t,n,a){var o;if(!((o=i._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await IE(i,e,t,t==="getOobCode");return n(i,c)}else return n(i,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await IE(i,e,t,t==="getOobCode");return n(i,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(i,e){const t=Bg(i,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(Cs(o,e??{}))return a;hr(a,"already-initialized")}return t.initialize({options:e})}function qC(i,e){const t=(e==null?void 0:e.persistence)||[],n=(Array.isArray(t)?t:[t]).map(_i);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function jC(i,e,t){const n=Ls(i);De(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const a=!1,o=hb(e),{host:c,port:h}=GC(e),p=h===null?"":`:${h}`,g={url:`${o}//${c}${p}/`},v=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!n._canInitEmulator){De(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),De(Cs(g,n.config.emulator)&&Cs(v,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=g,n.emulatorConfig=v,n.settings.appVerificationDisabledForTesting=!0,nc(c)?(BT(`${o}//${c}${p}`),HT("Auth",!0)):QC()}function hb(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function GC(i){const e=hb(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(n);if(a){const o=a[1];return{host:o,port:ME(n.substr(o.length+1))}}else{const[o,c]=n.split(":");return{host:o,port:ME(c)}}}function ME(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function QC(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return vi("not implemented")}_getIdTokenResponse(e){return vi("not implemented")}_linkToIdToken(e,t){return vi("not implemented")}_getReauthenticationResolver(e){return vi("not implemented")}}async function KC(i,e){return Na(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WC(i,e){return sc(i,"POST","/v1/accounts:signInWithPassword",ka(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XC(i,e){return sc(i,"POST","/v1/accounts:signInWithEmailLink",ka(i,e))}async function $C(i,e){return sc(i,"POST","/v1/accounts:signInWithEmailLink",ka(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu extends jg{constructor(e,t,n,a=null){super("password",n),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Qu(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Qu(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lg(e,t,"signInWithPassword",WC);case"emailLink":return XC(e,{email:this._email,oobCode:this._password});default:hr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lg(e,n,"signUpPassword",KC);case"emailLink":return $C(e,{idToken:t,email:this._email,oobCode:this._password});default:hr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fo(i,e){return sc(i,"POST","/v1/accounts:signInWithIdp",ka(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="http://localhost";class Ms extends jg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ms(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):hr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:a}=t,o=Hg(t,["providerId","signInMethod"]);if(!n||!a)return null;const c=new Ms(n,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Fo(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Fo(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Fo(e,t)}buildRequest(){const e={requestUri:ZC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ic(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function eI(i){const e=Ou(ku(i)).link,t=e?Ou(ku(e)).deep_link_id:null,n=Ou(ku(i)).deep_link_id;return(n?Ou(ku(n)).link:null)||n||t||e||i}class Gg{constructor(e){var t,n,a,o,c,h;const p=Ou(ku(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,v=(n=p.oobCode)!==null&&n!==void 0?n:null,E=JC((a=p.mode)!==null&&a!==void 0?a:null);De(g&&v&&E,"argument-error"),this.apiKey=g,this.operation=E,this.code=v,this.continueUrl=(o=p.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(c=p.lang)!==null&&c!==void 0?c:null,this.tenantId=(h=p.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=eI(e);try{return new Gg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(){this.providerId=cl.PROVIDER_ID}static credential(e,t){return Qu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Gg.parseLink(t);return De(n,"argument-error"),Qu._fromEmailAndCode(e,n.code,n.tenantId)}}cl.PROVIDER_ID="password";cl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";cl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc extends db{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca extends oc{constructor(){super("facebook.com")}static credential(e){return Ms._fromParams({providerId:ca.PROVIDER_ID,signInMethod:ca.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ca.credentialFromTaggedObject(e)}static credentialFromError(e){return ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ca.credential(e.oauthAccessToken)}catch{return null}}}ca.FACEBOOK_SIGN_IN_METHOD="facebook.com";ca.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa extends oc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ms._fromParams({providerId:fa.PROVIDER_ID,signInMethod:fa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return fa.credentialFromTaggedObject(e)}static credentialFromError(e){return fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return fa.credential(t,n)}catch{return null}}}fa.GOOGLE_SIGN_IN_METHOD="google.com";fa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha extends oc{constructor(){super("github.com")}static credential(e){return Ms._fromParams({providerId:ha.PROVIDER_ID,signInMethod:ha.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ha.credentialFromTaggedObject(e)}static credentialFromError(e){return ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ha.credential(e.oauthAccessToken)}catch{return null}}}ha.GITHUB_SIGN_IN_METHOD="github.com";ha.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da extends oc{constructor(){super("twitter.com")}static credential(e,t){return Ms._fromParams({providerId:da.PROVIDER_ID,signInMethod:da.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return da.credentialFromTaggedObject(e)}static credentialFromError(e){return da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return da.credential(t,n)}catch{return null}}}da.TWITTER_SIGN_IN_METHOD="twitter.com";da.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tI(i,e){return sc(i,"POST","/v1/accounts:signUp",ka(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,a=!1){const o=await ur._fromIdTokenResponse(e,n,a),c=OE(n);return new Os({user:o,providerId:c,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const a=OE(n);return new Os({user:e,providerId:a,_tokenResponse:n,operationType:t})}}function OE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah extends Oi{constructor(e,t,n,a){var o;super(t.code,t.message),this.operationType=n,this.user=a,Object.setPrototypeOf(this,Ah.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,a){return new Ah(e,t,n,a)}}function pb(i,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Ah._fromErrorAndOperation(i,o,e,n):o})}async function nI(i,e,t=!1){const n=await Gu(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return Os._forOperation(i,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rI(i,e,t=!1){const{auth:n}=i;if(tr(n.app))return Promise.reject(Ei(n));const a="reauthenticate";try{const o=await Gu(i,pb(n,a,e,i),t);De(o.idToken,n,"internal-error");const c=Fg(o.idToken);De(c,n,"internal-error");const{sub:h}=c;return De(i.uid===h,n,"user-mismatch"),Os._forOperation(i,a,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&hr(n,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mb(i,e,t=!1){if(tr(i.app))return Promise.reject(Ei(i));const n="signIn",a=await pb(i,n,e),o=await Os._fromIdTokenResponse(i,n,a);return t||await i._updateCurrentUser(o.user),o}async function iI(i,e){return mb(Ls(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gb(i){const e=Ls(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function aI(i,e,t){if(tr(i.app))return Promise.reject(Ei(i));const n=Ls(i),c=await lg(n,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&gb(i),p}),h=await Os._fromIdTokenResponse(n,"signIn",c);return await n._updateCurrentUser(h.user),h}function sI(i,e,t){return tr(i.app)?Promise.reject(Ei(i)):iI(Ft(i),cl.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&gb(i),n})}function oI(i,e,t,n){return Ft(i).onIdTokenChanged(e,t,n)}function lI(i,e,t){return Ft(i).beforeAuthStateChanged(e,t)}function uI(i,e,t,n){return Ft(i).onAuthStateChanged(e,t,n)}function cI(i){return Ft(i).signOut()}const Rh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Rh,"1"),this.storage.removeItem(Rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=1e3,hI=10;class vb extends yb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),a=this.localCache[t];n!==a&&e(t,a,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,p)=>{this.notifyListeners(c,p)});return}const n=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(n);!t&&this.localCache[n]===c||this.notifyListeners(n,c)},o=this.storage.getItem(n);IC()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,hI):a()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},fI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}vb.type="LOCAL";const dI=vb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b extends yb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}_b.type="SESSION";const Eb=_b;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const n=new nd(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:a,data:o}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:a});const h=Array.from(c).map(async g=>g(t.origin,o)),p=await pI(h);t.ports[0].postMessage({status:"done",eventId:n,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(i="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((h,p)=>{const g=Qg("",20);a.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},n);c={messageChannel:a,onMessage(E){const T=E;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(v),o=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(T.data.response);break;default:clearTimeout(v),clearTimeout(o),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(){return window}function gI(i){Br().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(){return typeof Br().WorkerGlobalScope<"u"&&typeof Br().importScripts=="function"}async function yI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vI(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function _I(){return wb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="firebaseLocalStorageDb",EI=1,Ch="firebaseLocalStorage",bb="fbase_key";class lc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function rd(i,e){return i.transaction([Ch],e?"readwrite":"readonly").objectStore(Ch)}function wI(){const i=indexedDB.deleteDatabase(Tb);return new lc(i).toPromise()}function ug(){const i=indexedDB.open(Tb,EI);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const n=i.result;try{n.createObjectStore(Ch,{keyPath:bb})}catch(a){t(a)}}),i.addEventListener("success",async()=>{const n=i.result;n.objectStoreNames.contains(Ch)?e(n):(n.close(),await wI(),e(await ug()))})})}async function kE(i,e,t){const n=rd(i,!0).put({[bb]:e,value:t});return new lc(n).toPromise()}async function TI(i,e){const t=rd(i,!1).get(e),n=await new lc(t).toPromise();return n===void 0?null:n.value}function NE(i,e){const t=rd(i,!0).delete(e);return new lc(t).toPromise()}const bI=800,SI=3;class Sb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ug(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>SI)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nd._getInstance(_I()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await yI(),!this.activeServiceWorker)return;this.sender=new mI(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((t=n[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ug();return await kE(e,Rh,"1"),await NE(e,Rh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>kE(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>TI(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>NE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=rd(a,!1).getAll();return new lc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)n.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!n.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Sb.type="LOCAL";const DI=Sb;new ac(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(i,e){return e?_i(e):(De(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg extends jg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Fo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Fo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function RI(i){return mb(i.auth,new Kg(i),i.bypassAuthState)}function CI(i){const{auth:e,user:t}=i;return De(t,e,"internal-error"),rI(t,new Kg(i),i.bypassAuthState)}async function II(i){const{auth:e,user:t}=i;return De(t,e,"internal-error"),nI(t,new Kg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,t,n,a,o=!1){this.auth=e,this.resolver=n,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:a,tenantId:o,error:c,type:h}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:n,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RI;case"linkViaPopup":case"linkViaRedirect":return II;case"reauthViaPopup":case"reauthViaRedirect":return CI;default:hr(this.auth,"internal-error")}}resolve(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=new ac(2e3,1e4);class Ho extends Db{constructor(e,t,n,a,o){super(e,t,a,o),this.provider=n,this.authWindow=null,this.pollId=null,Ho.currentPopupAction&&Ho.currentPopupAction.cancel(),Ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){Ri(this.filter.length===1,"Popup operations only handle one event");const e=Qg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ur(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if(!((n=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ur(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,MI.get())};e()}}Ho.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI="pendingRedirect",oh=new Map;class kI extends Db{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=oh.get(this.auth._key());if(!e){try{const n=await NI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}oh.set(this.auth._key(),e)}return this.bypassAuthState||oh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function NI(i,e){const t=VI(e),n=PI(i);if(!await n._isAvailable())return!1;const a=await n._get(t)==="true";return await n._remove(t),a}function xI(i,e){oh.set(i._key(),e)}function PI(i){return _i(i._redirectPersistence)}function VI(i){return sh(OI,i.config.apiKey,i.name)}async function LI(i,e,t=!1){if(tr(i.app))return Promise.reject(Ei(i));const n=Ls(i),a=AI(n,e),c=await new kI(n,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await n._persistUserIfCurrent(c.user),await n._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=10*60*1e3;class BI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HI(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Ab(e)){const a=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ur(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=UI&&this.cachedEventUids.clear(),this.cachedEventUids.has(xE(e))}saveEventToCache(e){this.cachedEventUids.add(xE(e)),this.lastProcessedEventTime=Date.now()}}function xE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Ab({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function HI(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ab(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zI(i,e={}){return Na(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FI=/^https?/;async function qI(i){if(i.config.emulator)return;const{authorizedDomains:e}=await zI(i);for(const t of e)try{if(jI(t))return}catch{}hr(i,"unauthorized-domain")}function jI(i){const e=sg(),{protocol:t,hostname:n}=new URL(e);if(i.startsWith("chrome-extension://")){const c=new URL(i);return c.hostname===""&&n===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===n}if(!FI.test(t))return!1;if(YI.test(i))return n===i;const a=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=new ac(3e4,6e4);function PE(){const i=Br().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function QI(i){return new Promise((e,t)=>{var n,a,o;function c(){PE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{PE(),t(Ur(i,"network-request-failed"))},timeout:GI.get()})}if(!((a=(n=Br().gapi)===null||n===void 0?void 0:n.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((o=Br().gapi)===null||o===void 0)&&o.load)c();else{const h=UC("iframefcb");return Br()[h]=()=>{gapi.load?c():t(Ur(i,"network-request-failed"))},cb(`${LC()}?onload=${h}`).catch(p=>t(p))}}).catch(e=>{throw lh=null,e})}let lh=null;function KI(i){return lh=lh||QI(i),lh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=new ac(5e3,15e3),XI="__/auth/iframe",$I="emulator/auth/iframe",ZI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eM(i){const e=i.config;De(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Yg(e,$I):`https://${i.config.authDomain}/${XI}`,n={apiKey:e.apiKey,appName:i.name,v:ul},a=JI.get(i.config.apiHost);a&&(n.eid=a);const o=i._getFrameworks();return o.length&&(n.fw=o.join(",")),`${t}?${ic(n).slice(1)}`}async function tM(i){const e=await KI(i),t=Br().gapi;return De(t,i,"internal-error"),e.open({where:document.body,url:eM(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZI,dontclear:!0},n=>new Promise(async(a,o)=>{await n.restyle({setHideOnLeave:!1});const c=Ur(i,"network-request-failed"),h=Br().setTimeout(()=>{o(c)},WI.get());function p(){Br().clearTimeout(h),a(n)}n.ping(p).then(p,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rM=500,iM=600,aM="_blank",sM="http://localhost";class VE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oM(i,e,t,n=rM,a=iM){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-n)/2,0).toString();let h="";const p=Object.assign(Object.assign({},nM),{width:n.toString(),height:a.toString(),top:o,left:c}),g=mn().toLowerCase();t&&(h=rb(g)?aM:t),tb(g)&&(e=e||sM,p.scrollbars="yes");const v=Object.entries(p).reduce((T,[A,N])=>`${T}${A}=${N},`,"");if(CC(g)&&h!=="_self")return lM(e||"",h),new VE(null);const E=window.open(e||"",h,v);De(E,i,"popup-blocked");try{E.focus()}catch{}return new VE(E)}function lM(i,e){const t=document.createElement("a");t.href=i,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM="__/auth/handler",cM="emulator/auth/handler",fM=encodeURIComponent("fac");async function LE(i,e,t,n,a,o){De(i.config.authDomain,i,"auth-domain-config-required"),De(i.config.apiKey,i,"invalid-api-key");const c={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:n,v:ul,eventId:a};if(e instanceof db){e.setDefaultLanguage(i.languageCode),c.providerId=e.providerId||"",K1(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))c[v]=E}if(e instanceof oc){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(c.scopes=v.join(","))}i.tenantId&&(c.tid=i.tenantId);const h=c;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const p=await i._getAppCheckToken(),g=p?`#${fM}=${encodeURIComponent(p)}`:"";return`${hM(i)}?${ic(h).slice(1)}${g}`}function hM({config:i}){return i.emulator?Yg(i,cM):`https://${i.authDomain}/${uM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm="webStorageSupport";class dM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Eb,this._completeRedirectFn=LI,this._overrideRedirectResult=xI}async _openPopup(e,t,n,a){var o;Ri((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const c=await LE(e,t,n,sg(),a);return oM(e,c,Qg())}async _openRedirect(e,t,n,a){await this._originValidation(e);const o=await LE(e,t,n,sg(),a);return gI(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(Ri(o,"If manager is not set, promise should be"),o)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await tM(e),n=new BI(e);return t.register("authEvent",a=>(De(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:n.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(zm,{type:zm},a=>{var o;const c=(o=a==null?void 0:a[0])===null||o===void 0?void 0:o[zm];c!==void 0&&t(!!c),hr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=qI(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return lb()||nb()||qg()}}const pM=dM;var UE="@firebase/auth",BE="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yM(i){Qo(new Is("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=n.options;De(c&&!c.includes(":"),"invalid-api-key",{appName:n.name});const p={apiKey:c,authDomain:h,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ub(i)},g=new xC(n,a,o,p);return qC(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Qo(new Is("auth-internal",e=>{const t=Ls(e.getProvider("auth").getImmediate());return(n=>new mM(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),va(UE,BE,gM(i)),va(UE,BE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM=5*60,_M=UT("authIdTokenMaxAge")||vM;let HE=null;const EM=i=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>_M)return;const a=t==null?void 0:t.token;HE!==a&&(HE=a,await fetch(i,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function wM(i=qT()){const e=Bg(i,"auth");if(e.isInitialized())return e.getImmediate();const t=FC(i,{popupRedirectResolver:pM,persistence:[DI,dI,Eb]}),n=UT("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(n,location.origin);if(location.origin===o.origin){const c=EM(o.toString());lI(t,c,()=>c(t.currentUser)),oI(t,h=>c(h))}}const a=VT("auth");return a&&jC(t,`http://${a}`),t}function TM(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}PC({loadJS(i){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",i),n.onload=e,n.onerror=a=>{const o=Ur("internal-error");o.customData=a,t(o)},n.type="text/javascript",n.charset="UTF-8",TM().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yM("Browser");var zE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _a,Rb;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,D){function R(){}R.prototype=D.prototype,M.D=D.prototype,M.prototype=new R,M.prototype.constructor=M,M.C=function(O,P,V){for(var C=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)C[Re-2]=arguments[Re];return D.prototype[P].apply(O,C)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(M,D,R){R||(R=0);var O=Array(16);if(typeof D=="string")for(var P=0;16>P;++P)O[P]=D.charCodeAt(R++)|D.charCodeAt(R++)<<8|D.charCodeAt(R++)<<16|D.charCodeAt(R++)<<24;else for(P=0;16>P;++P)O[P]=D[R++]|D[R++]<<8|D[R++]<<16|D[R++]<<24;D=M.g[0],R=M.g[1],P=M.g[2];var V=M.g[3],C=D+(V^R&(P^V))+O[0]+3614090360&4294967295;D=R+(C<<7&4294967295|C>>>25),C=V+(P^D&(R^P))+O[1]+3905402710&4294967295,V=D+(C<<12&4294967295|C>>>20),C=P+(R^V&(D^R))+O[2]+606105819&4294967295,P=V+(C<<17&4294967295|C>>>15),C=R+(D^P&(V^D))+O[3]+3250441966&4294967295,R=P+(C<<22&4294967295|C>>>10),C=D+(V^R&(P^V))+O[4]+4118548399&4294967295,D=R+(C<<7&4294967295|C>>>25),C=V+(P^D&(R^P))+O[5]+1200080426&4294967295,V=D+(C<<12&4294967295|C>>>20),C=P+(R^V&(D^R))+O[6]+2821735955&4294967295,P=V+(C<<17&4294967295|C>>>15),C=R+(D^P&(V^D))+O[7]+4249261313&4294967295,R=P+(C<<22&4294967295|C>>>10),C=D+(V^R&(P^V))+O[8]+1770035416&4294967295,D=R+(C<<7&4294967295|C>>>25),C=V+(P^D&(R^P))+O[9]+2336552879&4294967295,V=D+(C<<12&4294967295|C>>>20),C=P+(R^V&(D^R))+O[10]+4294925233&4294967295,P=V+(C<<17&4294967295|C>>>15),C=R+(D^P&(V^D))+O[11]+2304563134&4294967295,R=P+(C<<22&4294967295|C>>>10),C=D+(V^R&(P^V))+O[12]+1804603682&4294967295,D=R+(C<<7&4294967295|C>>>25),C=V+(P^D&(R^P))+O[13]+4254626195&4294967295,V=D+(C<<12&4294967295|C>>>20),C=P+(R^V&(D^R))+O[14]+2792965006&4294967295,P=V+(C<<17&4294967295|C>>>15),C=R+(D^P&(V^D))+O[15]+1236535329&4294967295,R=P+(C<<22&4294967295|C>>>10),C=D+(P^V&(R^P))+O[1]+4129170786&4294967295,D=R+(C<<5&4294967295|C>>>27),C=V+(R^P&(D^R))+O[6]+3225465664&4294967295,V=D+(C<<9&4294967295|C>>>23),C=P+(D^R&(V^D))+O[11]+643717713&4294967295,P=V+(C<<14&4294967295|C>>>18),C=R+(V^D&(P^V))+O[0]+3921069994&4294967295,R=P+(C<<20&4294967295|C>>>12),C=D+(P^V&(R^P))+O[5]+3593408605&4294967295,D=R+(C<<5&4294967295|C>>>27),C=V+(R^P&(D^R))+O[10]+38016083&4294967295,V=D+(C<<9&4294967295|C>>>23),C=P+(D^R&(V^D))+O[15]+3634488961&4294967295,P=V+(C<<14&4294967295|C>>>18),C=R+(V^D&(P^V))+O[4]+3889429448&4294967295,R=P+(C<<20&4294967295|C>>>12),C=D+(P^V&(R^P))+O[9]+568446438&4294967295,D=R+(C<<5&4294967295|C>>>27),C=V+(R^P&(D^R))+O[14]+3275163606&4294967295,V=D+(C<<9&4294967295|C>>>23),C=P+(D^R&(V^D))+O[3]+4107603335&4294967295,P=V+(C<<14&4294967295|C>>>18),C=R+(V^D&(P^V))+O[8]+1163531501&4294967295,R=P+(C<<20&4294967295|C>>>12),C=D+(P^V&(R^P))+O[13]+2850285829&4294967295,D=R+(C<<5&4294967295|C>>>27),C=V+(R^P&(D^R))+O[2]+4243563512&4294967295,V=D+(C<<9&4294967295|C>>>23),C=P+(D^R&(V^D))+O[7]+1735328473&4294967295,P=V+(C<<14&4294967295|C>>>18),C=R+(V^D&(P^V))+O[12]+2368359562&4294967295,R=P+(C<<20&4294967295|C>>>12),C=D+(R^P^V)+O[5]+4294588738&4294967295,D=R+(C<<4&4294967295|C>>>28),C=V+(D^R^P)+O[8]+2272392833&4294967295,V=D+(C<<11&4294967295|C>>>21),C=P+(V^D^R)+O[11]+1839030562&4294967295,P=V+(C<<16&4294967295|C>>>16),C=R+(P^V^D)+O[14]+4259657740&4294967295,R=P+(C<<23&4294967295|C>>>9),C=D+(R^P^V)+O[1]+2763975236&4294967295,D=R+(C<<4&4294967295|C>>>28),C=V+(D^R^P)+O[4]+1272893353&4294967295,V=D+(C<<11&4294967295|C>>>21),C=P+(V^D^R)+O[7]+4139469664&4294967295,P=V+(C<<16&4294967295|C>>>16),C=R+(P^V^D)+O[10]+3200236656&4294967295,R=P+(C<<23&4294967295|C>>>9),C=D+(R^P^V)+O[13]+681279174&4294967295,D=R+(C<<4&4294967295|C>>>28),C=V+(D^R^P)+O[0]+3936430074&4294967295,V=D+(C<<11&4294967295|C>>>21),C=P+(V^D^R)+O[3]+3572445317&4294967295,P=V+(C<<16&4294967295|C>>>16),C=R+(P^V^D)+O[6]+76029189&4294967295,R=P+(C<<23&4294967295|C>>>9),C=D+(R^P^V)+O[9]+3654602809&4294967295,D=R+(C<<4&4294967295|C>>>28),C=V+(D^R^P)+O[12]+3873151461&4294967295,V=D+(C<<11&4294967295|C>>>21),C=P+(V^D^R)+O[15]+530742520&4294967295,P=V+(C<<16&4294967295|C>>>16),C=R+(P^V^D)+O[2]+3299628645&4294967295,R=P+(C<<23&4294967295|C>>>9),C=D+(P^(R|~V))+O[0]+4096336452&4294967295,D=R+(C<<6&4294967295|C>>>26),C=V+(R^(D|~P))+O[7]+1126891415&4294967295,V=D+(C<<10&4294967295|C>>>22),C=P+(D^(V|~R))+O[14]+2878612391&4294967295,P=V+(C<<15&4294967295|C>>>17),C=R+(V^(P|~D))+O[5]+4237533241&4294967295,R=P+(C<<21&4294967295|C>>>11),C=D+(P^(R|~V))+O[12]+1700485571&4294967295,D=R+(C<<6&4294967295|C>>>26),C=V+(R^(D|~P))+O[3]+2399980690&4294967295,V=D+(C<<10&4294967295|C>>>22),C=P+(D^(V|~R))+O[10]+4293915773&4294967295,P=V+(C<<15&4294967295|C>>>17),C=R+(V^(P|~D))+O[1]+2240044497&4294967295,R=P+(C<<21&4294967295|C>>>11),C=D+(P^(R|~V))+O[8]+1873313359&4294967295,D=R+(C<<6&4294967295|C>>>26),C=V+(R^(D|~P))+O[15]+4264355552&4294967295,V=D+(C<<10&4294967295|C>>>22),C=P+(D^(V|~R))+O[6]+2734768916&4294967295,P=V+(C<<15&4294967295|C>>>17),C=R+(V^(P|~D))+O[13]+1309151649&4294967295,R=P+(C<<21&4294967295|C>>>11),C=D+(P^(R|~V))+O[4]+4149444226&4294967295,D=R+(C<<6&4294967295|C>>>26),C=V+(R^(D|~P))+O[11]+3174756917&4294967295,V=D+(C<<10&4294967295|C>>>22),C=P+(D^(V|~R))+O[2]+718787259&4294967295,P=V+(C<<15&4294967295|C>>>17),C=R+(V^(P|~D))+O[9]+3951481745&4294967295,M.g[0]=M.g[0]+D&4294967295,M.g[1]=M.g[1]+(P+(C<<21&4294967295|C>>>11))&4294967295,M.g[2]=M.g[2]+P&4294967295,M.g[3]=M.g[3]+V&4294967295}n.prototype.u=function(M,D){D===void 0&&(D=M.length);for(var R=D-this.blockSize,O=this.B,P=this.h,V=0;V<D;){if(P==0)for(;V<=R;)a(this,M,V),V+=this.blockSize;if(typeof M=="string"){for(;V<D;)if(O[P++]=M.charCodeAt(V++),P==this.blockSize){a(this,O),P=0;break}}else for(;V<D;)if(O[P++]=M[V++],P==this.blockSize){a(this,O),P=0;break}}this.h=P,this.o+=D},n.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var D=1;D<M.length-8;++D)M[D]=0;var R=8*this.o;for(D=M.length-8;D<M.length;++D)M[D]=R&255,R/=256;for(this.u(M),M=Array(16),D=R=0;4>D;++D)for(var O=0;32>O;O+=8)M[R++]=this.g[D]>>>O&255;return M};function o(M,D){var R=h;return Object.prototype.hasOwnProperty.call(R,M)?R[M]:R[M]=D(M)}function c(M,D){this.h=D;for(var R=[],O=!0,P=M.length-1;0<=P;P--){var V=M[P]|0;O&&V==D||(R[P]=V,O=!1)}this.g=R}var h={};function p(M){return-128<=M&&128>M?o(M,function(D){return new c([D|0],0>D?-1:0)}):new c([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return E;if(0>M)return I(g(-M));for(var D=[],R=1,O=0;M>=R;O++)D[O]=M/R|0,R*=4294967296;return new c(D,0)}function v(M,D){if(M.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(M.charAt(0)=="-")return I(v(M.substring(1),D));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(D,8)),O=E,P=0;P<M.length;P+=8){var V=Math.min(8,M.length-P),C=parseInt(M.substring(P,P+V),D);8>V?(V=g(Math.pow(D,V)),O=O.j(V).add(g(C))):(O=O.j(R),O=O.add(g(C)))}return O}var E=p(0),T=p(1),A=p(16777216);i=c.prototype,i.m=function(){if(U(this))return-I(this).m();for(var M=0,D=1,R=0;R<this.g.length;R++){var O=this.i(R);M+=(0<=O?O:4294967296+O)*D,D*=4294967296}return M},i.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(N(this))return"0";if(U(this))return"-"+I(this).toString(M);for(var D=g(Math.pow(M,6)),R=this,O="";;){var P=ae(R,D).g;R=Q(R,P.j(D));var V=((0<R.g.length?R.g[0]:R.h)>>>0).toString(M);if(R=P,N(R))return V+O;for(;6>V.length;)V="0"+V;O=V+O}},i.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function N(M){if(M.h!=0)return!1;for(var D=0;D<M.g.length;D++)if(M.g[D]!=0)return!1;return!0}function U(M){return M.h==-1}i.l=function(M){return M=Q(this,M),U(M)?-1:N(M)?0:1};function I(M){for(var D=M.g.length,R=[],O=0;O<D;O++)R[O]=~M.g[O];return new c(R,~M.h).add(T)}i.abs=function(){return U(this)?I(this):this},i.add=function(M){for(var D=Math.max(this.g.length,M.g.length),R=[],O=0,P=0;P<=D;P++){var V=O+(this.i(P)&65535)+(M.i(P)&65535),C=(V>>>16)+(this.i(P)>>>16)+(M.i(P)>>>16);O=C>>>16,V&=65535,C&=65535,R[P]=C<<16|V}return new c(R,R[R.length-1]&-2147483648?-1:0)};function Q(M,D){return M.add(I(D))}i.j=function(M){if(N(this)||N(M))return E;if(U(this))return U(M)?I(this).j(I(M)):I(I(this).j(M));if(U(M))return I(this.j(I(M)));if(0>this.l(A)&&0>M.l(A))return g(this.m()*M.m());for(var D=this.g.length+M.g.length,R=[],O=0;O<2*D;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var P=0;P<M.g.length;P++){var V=this.i(O)>>>16,C=this.i(O)&65535,Re=M.i(P)>>>16,we=M.i(P)&65535;R[2*O+2*P]+=C*we,W(R,2*O+2*P),R[2*O+2*P+1]+=V*we,W(R,2*O+2*P+1),R[2*O+2*P+1]+=C*Re,W(R,2*O+2*P+1),R[2*O+2*P+2]+=V*Re,W(R,2*O+2*P+2)}for(O=0;O<D;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=D;O<2*D;O++)R[O]=0;return new c(R,0)};function W(M,D){for(;(M[D]&65535)!=M[D];)M[D+1]+=M[D]>>>16,M[D]&=65535,D++}function K(M,D){this.g=M,this.h=D}function ae(M,D){if(N(D))throw Error("division by zero");if(N(M))return new K(E,E);if(U(M))return D=ae(I(M),D),new K(I(D.g),I(D.h));if(U(D))return D=ae(M,I(D)),new K(I(D.g),D.h);if(30<M.g.length){if(U(M)||U(D))throw Error("slowDivide_ only works with positive integers.");for(var R=T,O=D;0>=O.l(M);)R=ie(R),O=ie(O);var P=ce(R,1),V=ce(O,1);for(O=ce(O,2),R=ce(R,2);!N(O);){var C=V.add(O);0>=C.l(M)&&(P=P.add(R),V=C),O=ce(O,1),R=ce(R,1)}return D=Q(M,P.j(D)),new K(P,D)}for(P=E;0<=M.l(D);){for(R=Math.max(1,Math.floor(M.m()/D.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),V=g(R),C=V.j(D);U(C)||0<C.l(M);)R-=O,V=g(R),C=V.j(D);N(V)&&(V=T),P=P.add(V),M=Q(M,C)}return new K(P,M)}i.A=function(M){return ae(this,M).h},i.and=function(M){for(var D=Math.max(this.g.length,M.g.length),R=[],O=0;O<D;O++)R[O]=this.i(O)&M.i(O);return new c(R,this.h&M.h)},i.or=function(M){for(var D=Math.max(this.g.length,M.g.length),R=[],O=0;O<D;O++)R[O]=this.i(O)|M.i(O);return new c(R,this.h|M.h)},i.xor=function(M){for(var D=Math.max(this.g.length,M.g.length),R=[],O=0;O<D;O++)R[O]=this.i(O)^M.i(O);return new c(R,this.h^M.h)};function ie(M){for(var D=M.g.length+1,R=[],O=0;O<D;O++)R[O]=M.i(O)<<1|M.i(O-1)>>>31;return new c(R,M.h)}function ce(M,D){var R=D>>5;D%=32;for(var O=M.g.length-R,P=[],V=0;V<O;V++)P[V]=0<D?M.i(V+R)>>>D|M.i(V+R+1)<<32-D:M.i(V+R);return new c(P,M.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,Rb=n,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,_a=c}).apply(typeof zE<"u"?zE:typeof self<"u"?self:typeof window<"u"?window:{});var jf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cb,Nu,Ib,uh,cg,Mb,Ob,kb;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,y,_){return f==Array.prototype||f==Object.prototype||(f[y]=_.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof jf=="object"&&jf];for(var y=0;y<f.length;++y){var _=f[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var n=t(this);function a(f,y){if(y)e:{var _=n;f=f.split(".");for(var S=0;S<f.length-1;S++){var z=f[S];if(!(z in _))break e;_=_[z]}f=f[f.length-1],S=_[f],y=y(S),y!=S&&y!=null&&e(_,f,{configurable:!0,writable:!0,value:y})}}function o(f,y){f instanceof String&&(f+="");var _=0,S=!1,z={next:function(){if(!S&&_<f.length){var G=_++;return{value:y(G,f[G]),done:!1}}return S=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}a("Array.prototype.values",function(f){return f||function(){return o(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function p(f){var y=typeof f;return y=y!="object"?y:f?Array.isArray(f)?"array":y:"null",y=="array"||y=="object"&&typeof f.length=="number"}function g(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function v(f,y,_){return f.call.apply(f.bind,arguments)}function E(f,y,_){if(!f)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,S),f.apply(y,z)}}return function(){return f.apply(y,arguments)}}function T(f,y,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,T.apply(null,arguments)}function A(f,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),f.apply(this,S)}}function N(f,y){function _(){}_.prototype=y.prototype,f.aa=y.prototype,f.prototype=new _,f.prototype.constructor=f,f.Qb=function(S,z,G){for(var ue=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)ue[Fe-2]=arguments[Fe];return y.prototype[z].apply(S,ue)}}function U(f){const y=f.length;if(0<y){const _=Array(y);for(let S=0;S<y;S++)_[S]=f[S];return _}return[]}function I(f,y){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const z=f.length||0,G=S.length||0;f.length=z+G;for(let ue=0;ue<G;ue++)f[z+ue]=S[ue]}else f.push(S)}}class Q{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function W(f){return/^[\s\xa0]*$/.test(f)}function K(){var f=h.navigator;return f&&(f=f.userAgent)?f:""}function ae(f){return ae[" "](f),f}ae[" "]=function(){};var ie=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function ce(f,y,_){for(const S in f)y.call(_,f[S],S,f)}function M(f,y){for(const _ in f)y.call(void 0,f[_],_,f)}function D(f){const y={};for(const _ in f)y[_]=f[_];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(f,y){let _,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(_ in S)f[_]=S[_];for(let G=0;G<R.length;G++)_=R[G],Object.prototype.hasOwnProperty.call(S,_)&&(f[_]=S[_])}}function P(f){var y=1;f=f.split(":");const _=[];for(;0<y&&f.length;)_.push(f.shift()),y--;return f.length&&_.push(f.join(":")),_}function V(f){h.setTimeout(()=>{throw f},0)}function C(){var f=Te;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class Re{constructor(){this.h=this.g=null}add(y,_){const S=we.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var we=new Q(()=>new H,f=>f.reset());class H{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let J,se=!1,Te=new Re,x=()=>{const f=h.Promise.resolve(void 0);J=()=>{f.then(ee)}};var ee=()=>{for(var f;f=C();){try{f.h.call(f.g)}catch(_){V(_)}var y=we;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}se=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var Ee=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const _=()=>{};h.addEventListener("test",_,y),h.removeEventListener("test",_,y)}catch{}return f}();function Le(f,y){if(le.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var _=this.type=f.type,S=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(ie){e:{try{ae(y.nodeName);var z=!0;break e}catch{}z=!1}z||(y=null)}}else _=="mouseover"?y=f.fromElement:_=="mouseout"&&(y=f.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Me[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Le.aa.h.call(this)}}N(Le,le);var Me={2:"touch",3:"pen",4:"mouse"};Le.prototype.h=function(){Le.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var qt="closure_listenable_"+(1e6*Math.random()|0),ft=0;function mr(f,y,_,S,z){this.listener=f,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=z,this.key=++ft,this.da=this.fa=!1}function Ni(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Gr(f){this.src=f,this.g={},this.h=0}Gr.prototype.add=function(f,y,_,S,z){var G=f.toString();f=this.g[G],f||(f=this.g[G]=[],this.h++);var ue=La(f,y,S,z);return-1<ue?(y=f[ue],_||(y.fa=!1)):(y=new mr(y,this.src,G,!!S,z),y.fa=_,f.push(y)),y};function Va(f,y){var _=y.type;if(_ in f.g){var S=f.g[_],z=Array.prototype.indexOf.call(S,y,void 0),G;(G=0<=z)&&Array.prototype.splice.call(S,z,1),G&&(Ni(y),f.g[_].length==0&&(delete f.g[_],f.h--))}}function La(f,y,_,S){for(var z=0;z<f.length;++z){var G=f[z];if(!G.da&&G.listener==y&&G.capture==!!_&&G.ha==S)return z}return-1}var Ua="closure_lm_"+(1e6*Math.random()|0),yl={};function _c(f,y,_,S,z){if(Array.isArray(y)){for(var G=0;G<y.length;G++)_c(f,y[G],_,S,z);return null}return _=Ec(_),f&&f[qt]?f.K(y,_,g(S)?!!S.capture:!1,z):Bn(f,y,_,!1,S,z)}function Bn(f,y,_,S,z,G){if(!y)throw Error("Invalid event type");var ue=g(z)?!!z.capture:!!z,Fe=Ys(f);if(Fe||(f[Ua]=Fe=new Gr(f)),_=Fe.add(y,_,S,ue,G),_.proxy)return _;if(S=Id(),_.proxy=S,S.src=f,S.listener=_,f.addEventListener)Ee||(z=ue),z===void 0&&(z=!1),f.addEventListener(y.toString(),S,z);else if(f.attachEvent)f.attachEvent(Ba(y.toString()),S);else if(f.addListener&&f.removeListener)f.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Id(){function f(_){return y.call(f.src,f.listener,_)}const y=Md;return f}function vl(f,y,_,S,z){if(Array.isArray(y))for(var G=0;G<y.length;G++)vl(f,y[G],_,S,z);else S=g(S)?!!S.capture:!!S,_=Ec(_),f&&f[qt]?(f=f.i,y=String(y).toString(),y in f.g&&(G=f.g[y],_=La(G,_,S,z),-1<_&&(Ni(G[_]),Array.prototype.splice.call(G,_,1),G.length==0&&(delete f.g[y],f.h--)))):f&&(f=Ys(f))&&(y=f.g[y.toString()],f=-1,y&&(f=La(y,_,S,z)),(_=-1<f?y[f]:null)&&zs(_))}function zs(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[qt])Va(y.i,f);else{var _=f.type,S=f.proxy;y.removeEventListener?y.removeEventListener(_,S,f.capture):y.detachEvent?y.detachEvent(Ba(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=Ys(y))?(Va(_,f),_.h==0&&(_.src=null,y[Ua]=null)):Ni(f)}}}function Ba(f){return f in yl?yl[f]:yl[f]="on"+f}function Md(f,y){if(f.da)f=!0;else{y=new Le(y,this);var _=f.listener,S=f.ha||f.src;f.fa&&zs(f),f=_.call(S,y)}return f}function Ys(f){return f=f[Ua],f instanceof Gr?f:null}var _l="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ec(f){return typeof f=="function"?f:(f[_l]||(f[_l]=function(y){return f.handleEvent(y)}),f[_l])}function Et(){fe.call(this),this.i=new Gr(this),this.M=this,this.F=null}N(Et,fe),Et.prototype[qt]=!0,Et.prototype.removeEventListener=function(f,y,_,S){vl(this,f,y,_,S)};function tt(f,y){var _,S=f.F;if(S)for(_=[];S;S=S.F)_.push(S);if(f=f.M,S=y.type||y,typeof y=="string")y=new le(y,f);else if(y instanceof le)y.target=y.target||f;else{var z=y;y=new le(S,f),O(y,z)}if(z=!0,_)for(var G=_.length-1;0<=G;G--){var ue=y.g=_[G];z=Cn(ue,S,!0,y)&&z}if(ue=y.g=f,z=Cn(ue,S,!0,y)&&z,z=Cn(ue,S,!1,y)&&z,_)for(G=0;G<_.length;G++)ue=y.g=_[G],z=Cn(ue,S,!1,y)&&z}Et.prototype.N=function(){if(Et.aa.N.call(this),this.i){var f=this.i,y;for(y in f.g){for(var _=f.g[y],S=0;S<_.length;S++)Ni(_[S]);delete f.g[y],f.h--}}this.F=null},Et.prototype.K=function(f,y,_,S){return this.i.add(String(f),y,!1,_,S)},Et.prototype.L=function(f,y,_,S){return this.i.add(String(f),y,!0,_,S)};function Cn(f,y,_,S){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,G=0;G<y.length;++G){var ue=y[G];if(ue&&!ue.da&&ue.capture==_){var Fe=ue.listener,Lt=ue.ha||ue.src;ue.fa&&Va(f.i,ue),z=Fe.call(Lt,S)!==!1&&z}}return z&&!S.defaultPrevented}function ln(f,y,_){if(typeof f=="function")_&&(f=T(f,_));else if(f&&typeof f.handleEvent=="function")f=T(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:h.setTimeout(f,y||0)}function wc(f){f.g=ln(()=>{f.g=null,f.i&&(f.i=!1,wc(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class Od extends fe{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:wc(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ha(f){fe.call(this),this.h=f,this.g={}}N(Ha,fe);var za=[];function Ya(f){ce(f.g,function(y,_){this.g.hasOwnProperty(_)&&zs(y)},f),f.g={}}Ha.prototype.N=function(){Ha.aa.N.call(this),Ya(this)},Ha.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rr=h.JSON.stringify,Fs=h.JSON.parse,Fa=class{stringify(f){return h.JSON.stringify(f,void 0)}parse(f){return h.JSON.parse(f,void 0)}};function El(){}El.prototype.h=null;function wl(f){return f.h||(f.h=f.i())}function Tl(){}var Qr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kr(){le.call(this,"d")}N(Kr,le);function bl(){le.call(this,"c")}N(bl,le);var gr={},Sl=null;function xi(){return Sl=Sl||new Et}gr.La="serverreachability";function qs(f){le.call(this,gr.La,f)}N(qs,le);function Pi(f){const y=xi();tt(y,new qs(y))}gr.STAT_EVENT="statevent";function Tc(f,y){le.call(this,gr.STAT_EVENT,f),this.stat=y}N(Tc,le);function pt(f){const y=xi();tt(y,new Tc(y,f))}gr.Ma="timingevent";function Vt(f,y){le.call(this,gr.Ma,f),this.size=y}N(Vt,le);function Mt(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){f()},y)}function Hn(){this.g=!0}Hn.prototype.xa=function(){this.g=!1};function Dl(f,y,_,S,z,G){f.info(function(){if(f.g)if(G)for(var ue="",Fe=G.split("&"),Lt=0;Lt<Fe.length;Lt++){var qe=Fe[Lt].split("=");if(1<qe.length){var Gt=qe[0];qe=qe[1];var Ut=Gt.split("_");ue=2<=Ut.length&&Ut[1]=="type"?ue+(Gt+"="+qe+"&"):ue+(Gt+"=redacted&")}}else ue=null;else ue=G;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+y+`
`+_+`
`+ue})}function kd(f,y,_,S,z,G,ue){f.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+y+`
`+_+`
`+G+" "+ue})}function Vi(f,y,_,S){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+qa(f,_)+(S?" "+S:"")})}function bc(f,y){f.info(function(){return"TIMEOUT: "+y})}Hn.prototype.info=function(){};function qa(f,y){if(!f.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(f=0;f<_.length;f++)if(Array.isArray(_[f])){var S=_[f];if(!(2>S.length)){var z=S[1];if(Array.isArray(z)&&!(1>z.length)){var G=z[0];if(G!="noop"&&G!="stop"&&G!="close")for(var ue=1;ue<z.length;ue++)z[ue]=""}}}}return rr(_)}catch{return y}}var Li={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Wr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yr;function vr(){}N(vr,El),vr.prototype.g=function(){return new XMLHttpRequest},vr.prototype.i=function(){return{}},yr=new vr;function gn(f,y,_,S){this.j=f,this.i=y,this.l=_,this.R=S||1,this.U=new Ha(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new St}function St(){this.i=null,this.g="",this.h=!1}var Al={},js={};function ir(f,y,_){f.L=1,f.v=Wa(In(y)),f.m=_,f.P=!0,Xr(f,null)}function Xr(f,y){f.F=Date.now(),ja(f),f.A=In(f.v);var _=f.A,S=f.R;Array.isArray(S)||(S=[String(S)]),kl(_.i,"t",S),f.C=0,_=f.j.J,f.h=new St,f.g=Bc(f.j,_?y:null,!f.m),0<f.O&&(f.M=new Od(T(f.Y,f,f.g),f.O)),y=f.U,_=f.g,S=f.ca;var z="readystatechange";Array.isArray(z)||(z&&(za[0]=z.toString()),z=za);for(var G=0;G<z.length;G++){var ue=_c(_,z[G],S||y.handleEvent,!1,y.h||y);if(!ue)break;y.g[ue.key]=ue}y=f.H?D(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),Pi(),Dl(f.i,f.u,f.A,f.l,f.R,f.m)}gn.prototype.ca=function(f){f=f.target;const y=this.M;y&&qn(f)==3?y.j():this.Y(f)},gn.prototype.Y=function(f){try{if(f==this.g)e:{const Ut=qn(this.g);var y=this.g.Ba();const ii=this.g.Z();if(!(3>Ut)&&(Ut!=3||this.g&&(this.h.h||this.g.oa()||Oc(this.g)))){this.J||Ut!=4||y==7||(y==8||0>=ii?Pi(3):Pi(2)),Ui(this);var _=this.g.Z();this.X=_;t:if(Sc(this)){var S=Oc(this.g);f="";var z=S.length,G=qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zt(this),_r(this);var ue="";break t}this.h.i=new h.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,f+=this.h.i.decode(S[y],{stream:!(G&&y==z-1)});S.length=0,this.h.g+=f,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=_==200,kd(this.i,this.u,this.A,this.l,this.R,Ut,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,Lt=this.g;if((Fe=Lt.g?Lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Fe)){var qe=Fe;break t}}qe=null}if(_=qe)Vi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ga(this,_);else{this.o=!1,this.s=3,pt(12),Zt(this),_r(this);break e}}if(this.P){_=!0;let Jt;for(;!this.J&&this.C<ue.length;)if(Jt=Dc(this,ue),Jt==js){Ut==4&&(this.s=4,pt(14),_=!1),Vi(this.i,this.l,null,"[Incomplete Response]");break}else if(Jt==Al){this.s=4,pt(15),Vi(this.i,this.l,ue,"[Invalid Chunk]"),_=!1;break}else Vi(this.i,this.l,Jt,null),Ga(this,Jt);if(Sc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ut!=4||ue.length!=0||this.h.h||(this.s=1,pt(16),_=!1),this.o=this.o&&_,!_)Vi(this.i,this.l,ue,"[Invalid Chunked Response]"),Zt(this),_r(this);else if(0<ue.length&&!this.W){this.W=!0;var Gt=this.j;Gt.g==this&&Gt.ba&&!Gt.M&&(Gt.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),rs(Gt),Gt.M=!0,pt(11))}}else Vi(this.i,this.l,ue,null),Ga(this,ue);Ut==4&&Zt(this),this.o&&!this.J&&(Ut==4?Vc(this.j,this):(this.o=!1,ja(this)))}else Ld(this.g),_==400&&0<ue.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),Zt(this),_r(this)}}}catch{}finally{}};function Sc(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Dc(f,y){var _=f.C,S=y.indexOf(`
`,_);return S==-1?js:(_=Number(y.substring(_,S)),isNaN(_)?Al:(S+=1,S+_>y.length?js:(y=y.slice(S,S+_),f.C=S+_,y)))}gn.prototype.cancel=function(){this.J=!0,Zt(this)};function ja(f){f.S=Date.now()+f.I,Ac(f,f.I)}function Ac(f,y){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Mt(T(f.ba,f),y)}function Ui(f){f.B&&(h.clearTimeout(f.B),f.B=null)}gn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(bc(this.i,this.A),this.L!=2&&(Pi(),pt(17)),Zt(this),this.s=2,_r(this)):Ac(this,this.S-f)};function _r(f){f.j.G==0||f.J||Vc(f.j,f)}function Zt(f){Ui(f);var y=f.M;y&&typeof y.ma=="function"&&y.ma(),f.M=null,Ya(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function Ga(f,y){try{var _=f.j;if(_.G!=0&&(_.g==f||Rl(_.h,f))){if(!f.K&&Rl(_.h,f)&&_.G==3){try{var S=_.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<f.F)ro(_),to(_);else break e;Ll(_),pt(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=Mt(T(_.Za,_),6e3));if(1>=Qs(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else ri(_,11)}else if((f.K||_.g==f)&&ro(_),!W(y))for(z=_.Da.g.parse(y),y=0;y<z.length;y++){let qe=z[y];if(_.T=qe[0],qe=qe[1],_.G==2)if(qe[0]=="c"){_.K=qe[1],_.ia=qe[2];const Gt=qe[3];Gt!=null&&(_.la=Gt,_.j.info("VER="+_.la));const Ut=qe[4];Ut!=null&&(_.Aa=Ut,_.j.info("SVER="+_.Aa));const ii=qe[5];ii!=null&&typeof ii=="number"&&0<ii&&(S=1.5*ii,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Jt=f.g;if(Jt){const Ar=Jt.g?Jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ar){var G=S.h;G.g||Ar.indexOf("spdy")==-1&&Ar.indexOf("quic")==-1&&Ar.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Ks(G,G.h),G.h=null))}if(S.D){const Bl=Jt.g?Jt.g.getResponseHeader("X-HTTP-Session-Id"):null;Bl&&(S.ya=Bl,st(S.I,S.D,Bl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-f.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var ue=f;if(S.qa=Uc(S,S.J?S.ia:null,S.W),ue.K){yn(S.h,ue);var Fe=ue,Lt=S.L;Lt&&(Fe.I=Lt),Fe.B&&(Ui(Fe),ja(Fe)),S.g=ue}else xc(S);0<_.i.length&&no(_)}else qe[0]!="stop"&&qe[0]!="close"||ri(_,7);else _.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?ri(_,7):Pl(_):qe[0]!="noop"&&_.l&&_.l.ta(qe),_.v=0)}}Pi(4)}catch{}}var Rc=class{constructor(f,y){this.g=f,this.map=y}};function $r(f){this.l=f||10,h.PerformanceNavigationTiming?(f=h.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gs(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Qs(f){return f.h?1:f.g?f.g.size:0}function Rl(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function Ks(f,y){f.g?f.g.add(y):f.h=y}function yn(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}$r.prototype.cancel=function(){if(this.i=Cl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Cl(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const _ of f.g.values())y=y.concat(_.D);return y}return U(f.i)}function Nd(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(p(f)){for(var y=[],_=f.length,S=0;S<_;S++)y.push(f[S]);return y}y=[],_=0;for(S in f)y[_++]=f[S];return y}function Ws(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(p(f)||typeof f=="string"){var y=[];f=f.length;for(var _=0;_<f;_++)y.push(_);return y}y=[],_=0;for(const S in f)y[_++]=S;return y}}}function Il(f,y){if(f.forEach&&typeof f.forEach=="function")f.forEach(y,void 0);else if(p(f)||typeof f=="string")Array.prototype.forEach.call(f,y,void 0);else for(var _=Ws(f),S=Nd(f),z=S.length,G=0;G<z;G++)y.call(void 0,S[G],_&&_[G],f)}var Qa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xd(f,y){if(f){f=f.split("&");for(var _=0;_<f.length;_++){var S=f[_].indexOf("="),z=null;if(0<=S){var G=f[_].substring(0,S);z=f[_].substring(S+1)}else G=f[_];y(G,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Ot(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Ot){this.h=f.h,Ka(this,f.j),this.o=f.o,this.g=f.g,Bi(this,f.s),this.l=f.l;var y=f.i,_=new Jr;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Zr(this,_),this.m=f.m}else f&&(y=String(f).match(Qa))?(this.h=!1,Ka(this,y[1]||"",!0),this.o=zn(y[2]||""),this.g=zn(y[3]||"",!0),Bi(this,y[4]),this.l=zn(y[5]||"",!0),Zr(this,y[6]||"",!0),this.m=zn(y[7]||"")):(this.h=!1,this.i=new Jr(null,this.h))}Ot.prototype.toString=function(){var f=[],y=this.j;y&&f.push(Xa(y,Ml,!0),":");var _=this.g;return(_||y=="file")&&(f.push("//"),(y=this.o)&&f.push(Xa(y,Ml,!0),"@"),f.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&f.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&f.push("/"),f.push(Xa(_,_.charAt(0)=="/"?Pd:Ol,!0))),(_=this.i.toString())&&f.push("?",_),(_=this.m)&&f.push("#",Xa(_,Xs)),f.join("")};function In(f){return new Ot(f)}function Ka(f,y,_){f.j=_?zn(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function Bi(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function Zr(f,y,_){y instanceof Jr?(f.i=y,Ic(f.i,f.h)):(_||(y=Xa(y,Vd)),f.i=new Jr(y,f.h))}function st(f,y,_){f.i.set(y,_)}function Wa(f){return st(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function zn(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Xa(f,y,_){return typeof f=="string"?(f=encodeURI(f).replace(y,Cc),_&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Cc(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Ml=/[#\/\?@]/g,Ol=/[#\?:]/g,Pd=/[#\?]/g,Vd=/[#\?@]/g,Xs=/#/g;function Jr(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function Yn(f){f.g||(f.g=new Map,f.h=0,f.i&&xd(f.i,function(y,_){f.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=Jr.prototype,i.add=function(f,y){Yn(this),this.i=null,f=Er(this,f);var _=this.g.get(f);return _||this.g.set(f,_=[]),_.push(y),this.h+=1,this};function ei(f,y){Yn(f),y=Er(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function ti(f,y){return Yn(f),y=Er(f,y),f.g.has(y)}i.forEach=function(f,y){Yn(this),this.g.forEach(function(_,S){_.forEach(function(z){f.call(y,z,S,this)},this)},this)},i.na=function(){Yn(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let S=0;S<y.length;S++){const z=f[S];for(let G=0;G<z.length;G++)_.push(y[S])}return _},i.V=function(f){Yn(this);let y=[];if(typeof f=="string")ti(this,f)&&(y=y.concat(this.g.get(Er(this,f))));else{f=Array.from(this.g.values());for(let _=0;_<f.length;_++)y=y.concat(f[_])}return y},i.set=function(f,y){return Yn(this),this.i=null,f=Er(this,f),ti(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},i.get=function(f,y){return f?(f=this.V(f),0<f.length?String(f[0]):y):y};function kl(f,y,_){ei(f,y),0<_.length&&(f.i=null,f.g.set(Er(f,y),U(_)),f.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var S=y[_];const G=encodeURIComponent(String(S)),ue=this.V(S);for(S=0;S<ue.length;S++){var z=G;ue[S]!==""&&(z+="="+encodeURIComponent(String(ue[S]))),f.push(z)}}return this.i=f.join("&")};function Er(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function Ic(f,y){y&&!f.j&&(Yn(f),f.i=null,f.g.forEach(function(_,S){var z=S.toLowerCase();S!=z&&(ei(this,S),kl(this,z,_))},f)),f.j=y}function $a(f,y){const _=new Hn;if(h.Image){const S=new Image;S.onload=A(Fn,_,"TestLoadImage: loaded",!0,y,S),S.onerror=A(Fn,_,"TestLoadImage: error",!1,y,S),S.onabort=A(Fn,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=A(Fn,_,"TestLoadImage: timeout",!1,y,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=f}else y(!1)}function ar(f,y){const _=new Hn,S=new AbortController,z=setTimeout(()=>{S.abort(),Fn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:S.signal}).then(G=>{clearTimeout(z),G.ok?Fn(_,"TestPingServer: ok",!0,y):Fn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Fn(_,"TestPingServer: error",!1,y)})}function Fn(f,y,_,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(_)}catch{}}function Za(){this.g=new Fa}function wr(f,y,_){const S=_||"";try{Il(f,function(z,G){let ue=z;g(z)&&(ue=rr(z)),y.push(S+G+"="+encodeURIComponent(ue))})}catch(z){throw y.push(S+"type="+encodeURIComponent("_badmap")),z}}function Hi(f){this.l=f.Ub||null,this.j=f.eb||!1}N(Hi,El),Hi.prototype.g=function(){return new ni(this.l,this.j)},Hi.prototype.i=function(f){return function(){return f}}({});function ni(f,y){Et.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(ni,Et),i=ni.prototype,i.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,br(this)},i.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||h).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Tr(this)),this.readyState=0},i.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,br(this)),this.g&&(this.readyState=3,br(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Nl(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Nl(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}i.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?Tr(this):br(this),this.readyState==3&&Nl(this)}},i.Ra=function(f){this.g&&(this.response=this.responseText=f,Tr(this))},i.Qa=function(f){this.g&&(this.response=f,Tr(this))},i.ga=function(){this.g&&Tr(this)};function Tr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,br(f)}i.setRequestHeader=function(f,y){this.u.append(f,y)},i.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,f.push(_[0]+": "+_[1]),_=y.next();return f.join(`\r
`)};function br(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ni.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function xl(f){let y="";return ce(f,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function jt(f,y,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=xl(_),typeof f=="string"?_!=null&&encodeURIComponent(String(_)):st(f,y,_))}function Ze(f){Et.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Ze,Et);var $s=/^https?$/i,Ja=["POST","PUT"];i=Ze.prototype,i.Ha=function(f){this.J=f},i.ea=function(f,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yr.g(),this.v=this.o?wl(this.o):wl(yr),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(G){Mc(this,G);return}if(f=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)_.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())_.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),z=h.FormData&&f instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Ja,y,void 0))||S||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ue]of _)this.g.setRequestHeader(G,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{es(this),this.u=!0,this.g.send(f),this.u=!1}catch(G){Mc(this,G)}};function Mc(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,Zs(f),Sr(f)}function Zs(f){f.A||(f.A=!0,tt(f,"complete"),tt(f,"error"))}i.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,tt(this,"complete"),tt(this,"abort"),Sr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sr(this,!0)),Ze.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Js(this):this.bb())},i.bb=function(){Js(this)};function Js(f){if(f.h&&typeof c<"u"&&(!f.v[1]||qn(f)!=4||f.Z()!=2)){if(f.u&&qn(f)==4)ln(f.Ea,0,f);else if(tt(f,"readystatechange"),qn(f)==4){f.h=!1;try{const ue=f.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var S;if(S=ue===0){var z=String(f.D).match(Qa)[1]||null;!z&&h.self&&h.self.location&&(z=h.self.location.protocol.slice(0,-1)),S=!$s.test(z?z.toLowerCase():"")}_=S}if(_)tt(f,"complete"),tt(f,"success");else{f.m=6;try{var G=2<qn(f)?f.g.statusText:""}catch{G=""}f.l=G+" ["+f.Z()+"]",Zs(f)}}finally{Sr(f)}}}}function Sr(f,y){if(f.g){es(f);const _=f.g,S=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||tt(f,"ready");try{_.onreadystatechange=S}catch{}}}function es(f){f.I&&(h.clearTimeout(f.I),f.I=null)}i.isActive=function(){return!!this.g};function qn(f){return f.g?f.g.readyState:0}i.Z=function(){try{return 2<qn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),Fs(y)}};function Oc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Ld(f){const y={};f=(f.g&&2<=qn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<f.length;S++){if(W(f[S]))continue;var _=P(f[S]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=y[z]||[];y[z]=G,G.push(_)}M(y,function(S){return S.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ts(f,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[f]||y}function eo(f){this.Aa=0,this.i=[],this.j=new Hn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ts("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ts("baseRetryDelayMs",5e3,f),this.cb=ts("retryDelaySeedMs",1e4,f),this.Wa=ts("forwardChannelMaxRetries",2,f),this.wa=ts("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new $r(f&&f.concurrentRequestLimit),this.Da=new Za,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=eo.prototype,i.la=8,i.G=1,i.connect=function(f,y,_,S){pt(0),this.W=f,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Uc(this,null,this.W),no(this)};function Pl(f){if(kc(f),f.G==3){var y=f.U++,_=In(f.I);if(st(_,"SID",f.K),st(_,"RID",y),st(_,"TYPE","terminate"),ns(f,_),y=new gn(f,f.j,y),y.L=2,y.v=Wa(In(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&h.Image&&(new Image().src=y.v,_=!0),_||(y.g=Bc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ja(y)}Lc(f)}function to(f){f.g&&(rs(f),f.g.cancel(),f.g=null)}function kc(f){to(f),f.u&&(h.clearTimeout(f.u),f.u=null),ro(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&h.clearTimeout(f.s),f.s=null)}function no(f){if(!Gs(f.h)&&!f.s){f.s=!0;var y=f.Ga;J||x(),se||(J(),se=!0),Te.add(y,f),f.B=0}}function Ud(f,y){return Qs(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=y.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Mt(T(f.Ga,f,y),Ul(f,f.B)),f.B++,!0)}i.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const z=new gn(this,this.j,f);let G=this.o;if(this.S&&(G?(G=D(G),O(G,this.S)):G=this.S),this.m!==null||this.O||(z.H=G,G=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Nc(this,z,y),_=In(this.I),st(_,"RID",f),st(_,"CVER",22),this.D&&st(_,"X-HTTP-Session-Id",this.D),ns(this,_),G&&(this.O?y="headers="+encodeURIComponent(String(xl(G)))+"&"+y:this.m&&jt(_,this.m,G)),Ks(this.h,z),this.Ua&&st(_,"TYPE","init"),this.P?(st(_,"$req",y),st(_,"SID","null"),z.T=!0,ir(z,_,null)):ir(z,_,y),this.G=2}}else this.G==3&&(f?Vl(this,f):this.i.length==0||Gs(this.h)||Vl(this))};function Vl(f,y){var _;y?_=y.l:_=f.U++;const S=In(f.I);st(S,"SID",f.K),st(S,"RID",_),st(S,"AID",f.T),ns(f,S),f.m&&f.o&&jt(S,f.m,f.o),_=new gn(f,f.j,_,f.B+1),f.m===null&&(_.H=f.o),y&&(f.i=y.D.concat(f.i)),y=Nc(f,_,1e3),_.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Ks(f.h,_),ir(_,S,y)}function ns(f,y){f.H&&ce(f.H,function(_,S){st(y,S,_)}),f.l&&Il({},function(_,S){st(y,S,_)})}function Nc(f,y,_){_=Math.min(f.i.length,_);var S=f.l?T(f.l.Na,f.l,f):null;e:{var z=f.i;let G=-1;for(;;){const ue=["count="+_];G==-1?0<_?(G=z[0].g,ue.push("ofs="+G)):G=0:ue.push("ofs="+G);let Fe=!0;for(let Lt=0;Lt<_;Lt++){let qe=z[Lt].g;const Gt=z[Lt].map;if(qe-=G,0>qe)G=Math.max(0,z[Lt].g-100),Fe=!1;else try{wr(Gt,ue,"req"+qe+"_")}catch{S&&S(Gt)}}if(Fe){S=ue.join("&");break e}}}return f=f.i.splice(0,_),y.D=f,S}function xc(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;J||x(),se||(J(),se=!0),Te.add(y,f),f.v=0}}function Ll(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Mt(T(f.Fa,f),Ul(f,f.v)),f.v++,!0)}i.Fa=function(){if(this.u=null,Pc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Mt(T(this.ab,this),f)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),to(this),Pc(this))};function rs(f){f.A!=null&&(h.clearTimeout(f.A),f.A=null)}function Pc(f){f.g=new gn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var y=In(f.qa);st(y,"RID","rpc"),st(y,"SID",f.K),st(y,"AID",f.T),st(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&st(y,"TO",f.ja),st(y,"TYPE","xmlhttp"),ns(f,y),f.m&&f.o&&jt(y,f.m,f.o),f.L&&(f.g.I=f.L);var _=f.g;f=f.ia,_.L=1,_.v=Wa(In(y)),_.m=null,_.P=!0,Xr(_,f)}i.Za=function(){this.C!=null&&(this.C=null,to(this),Ll(this),pt(19))};function ro(f){f.C!=null&&(h.clearTimeout(f.C),f.C=null)}function Vc(f,y){var _=null;if(f.g==y){ro(f),rs(f),f.g=null;var S=2}else if(Rl(f.h,y))_=y.D,yn(f.h,y),S=1;else return;if(f.G!=0){if(y.o)if(S==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var z=f.B;S=xi(),tt(S,new Vt(S,_)),no(f)}else xc(f);else if(z=y.s,z==3||z==0&&0<y.X||!(S==1&&Ud(f,y)||S==2&&Ll(f)))switch(_&&0<_.length&&(y=f.h,y.i=y.i.concat(_)),z){case 1:ri(f,5);break;case 4:ri(f,10);break;case 3:ri(f,6);break;default:ri(f,2)}}}function Ul(f,y){let _=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(_*=2),_*y}function ri(f,y){if(f.j.info("Error code "+y),y==2){var _=T(f.fb,f),S=f.Xa;const z=!S;S=new Ot(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ka(S,"https"),Wa(S),z?$a(S.toString(),_):ar(S.toString(),_)}else pt(2);f.G=0,f.l&&f.l.sa(y),Lc(f),kc(f)}i.fb=function(f){f?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function Lc(f){if(f.G=0,f.ka=[],f.l){const y=Cl(f.h);(y.length!=0||f.i.length!=0)&&(I(f.ka,y),I(f.ka,f.i),f.h.i.length=0,U(f.i),f.i.length=0),f.l.ra()}}function Uc(f,y,_){var S=_ instanceof Ot?In(_):new Ot(_);if(S.g!="")y&&(S.g=y+"."+S.g),Bi(S,S.s);else{var z=h.location;S=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var G=new Ot(null);S&&Ka(G,S),y&&(G.g=y),z&&Bi(G,z),_&&(G.l=_),S=G}return _=f.D,y=f.ya,_&&y&&st(S,_,y),st(S,"VER",f.la),ns(f,S),S}function Bc(f,y,_){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Ca&&!f.pa?new Ze(new Hi({eb:_})):new Ze(f.pa),y.Ha(f.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hc(){}i=Hc.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function io(){}io.prototype.g=function(f,y){return new vn(f,y)};function vn(f,y){Et.call(this),this.g=new eo(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!W(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!W(y)&&(this.g.D=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new Dr(this)}N(vn,Et),vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){Pl(this.g)},vn.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var _={};_.__data__=f,f=_}else this.u&&(_={},_.__data__=rr(f),f=_);y.i.push(new Rc(y.Ya++,f)),y.G==3&&no(y)},vn.prototype.N=function(){this.g.l=null,delete this.j,Pl(this.g),delete this.g,vn.aa.N.call(this)};function zc(f){Kr.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const _ in y){f=_;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}N(zc,Kr);function Yc(){bl.call(this),this.status=1}N(Yc,bl);function Dr(f){this.g=f}N(Dr,Hc),Dr.prototype.ua=function(){tt(this.g,"a")},Dr.prototype.ta=function(f){tt(this.g,new zc(f))},Dr.prototype.sa=function(f){tt(this.g,new Yc)},Dr.prototype.ra=function(){tt(this.g,"b")},io.prototype.createWebChannel=io.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,kb=function(){return new io},Ob=function(){return xi()},Mb=gr,cg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Li.NO_ERROR=0,Li.TIMEOUT=8,Li.HTTP_ERROR=6,uh=Li,Wr.COMPLETE="complete",Ib=Wr,Tl.EventType=Qr,Qr.OPEN="a",Qr.CLOSE="b",Qr.ERROR="c",Qr.MESSAGE="d",Et.prototype.listen=Et.prototype.K,Nu=Tl,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,Cb=Ze}).apply(typeof jf<"u"?jf:typeof self<"u"?self:typeof window<"u"?window:{});const YE="@firebase/firestore",FE="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fl="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new Lg("@firebase/firestore");function Po(){return ks.logLevel}function pe(i,...e){if(ks.logLevel<=ze.DEBUG){const t=e.map(Wg);ks.debug(`Firestore (${fl}): ${i}`,...t)}}function Ci(i,...e){if(ks.logLevel<=ze.ERROR){const t=e.map(Wg);ks.error(`Firestore (${fl}): ${i}`,...t)}}function Ko(i,...e){if(ks.logLevel<=ze.WARN){const t=e.map(Wg);ks.warn(`Firestore (${fl}): ${i}`,...t)}}function Wg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(i,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,Nb(i,n,t)}function Nb(i,e,t){let n=`FIRESTORE (${fl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw Ci(n),new Error(n)}function et(i,e,t,n){let a="Unexpected state";typeof t=="string"?a=t:n=t,i||Nb(e,a,n)}function ke(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Oi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(hn.UNAUTHENTICATED))}shutdown(){}}class SM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class DM{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){et(this.o===void 0,42304);let n=this.i;const a=p=>this.i!==n?(n=this.i,t(p)):Promise.resolve();let o=new Ss;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ss,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const p=o;e.enqueueRetryable(async()=>{await p.promise,await a(this.currentUser)})},h=p=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>h(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ss)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(et(typeof n.accessToken=="string",31837,{l:n}),new xb(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class AM{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class RM{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new AM(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CM{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,tr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){et(this.o===void 0,3512);const n=o=>{o.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,pe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>n(o))};const a=o=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>a(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new qE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(et(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new qE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<i;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const a=IM(40);for(let o=0;o<a.length;++o)n.length<20&&a[o]<t&&(n+=e.charAt(a[o]%62))}return n}}function Pe(i,e){return i<e?-1:i>e?1:0}function fg(i,e){let t=0;for(;t<i.length&&t<e.length;){const n=i.codePointAt(t),a=e.codePointAt(t);if(n!==a){if(n<128&&a<128)return Pe(n,a);{const o=Pb(),c=MM(o.encode(jE(i,t)),o.encode(jE(e,t)));return c!==0?c:Pe(n,a)}}t+=n>65535?2:1}return Pe(i.length,e.length)}function jE(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function MM(i,e){for(let t=0;t<i.length&&t<e.length;++t)if(i[t]!==e[t])return Pe(i[t],e[t]);return Pe(i.length,e.length)}function Wo(i,e,t){return i.length===e.length&&i.every((n,a)=>t(n,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE=-62135596800,QE=1e6;class zt{static now(){return zt.fromMillis(Date.now())}static fromDate(e){return zt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*QE);return new zt(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<GE)throw new ge(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/QE}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-GE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new zt(0,0))}static max(){return new Oe(new zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="__name__";class kr{constructor(e,t,n){t===void 0?t=0:t>e.length&&Ae(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&Ae(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return kr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof kr?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let a=0;a<n;a++){const o=kr.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return Pe(e.length,t.length)}static compareSegments(e,t){const n=kr.isNumericId(e),a=kr.isNumericId(t);return n&&!a?-1:!n&&a?1:n&&a?kr.extractNumericId(e).compare(kr.extractNumericId(t)):fg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _a.fromString(e.substring(4,e.length-2))}}class dt extends kr{construct(e,t,n){return new dt(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new ge(re.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(a=>a.length>0))}return new dt(t)}static emptyPath(){return new dt([])}}const OM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends kr{construct(e,t,n){return new an(e,t,n)}static isValidIdentifier(e){return OM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===KE}static keyField(){return new an([KE])}static fromServerFormat(e){const t=[];let n="",a=0;const o=()=>{if(n.length===0)throw new ge(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let c=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new ge(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ge(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=p,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(n+=h,a++):(o(),a++)}if(o(),c)throw new ge(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(t)}static emptyPath(){return new an([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(dt.fromString(e))}static fromName(e){return new _e(dt.fromString(e).popFirst(5))}static empty(){return new _e(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return dt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new dt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku=-1;function kM(i,e){const t=i.toTimestamp().seconds,n=i.toTimestamp().nanoseconds+1,a=Oe.fromTimestamp(n===1e9?new zt(t+1,0):new zt(t,n));return new Sa(a,_e.empty(),e)}function NM(i){return new Sa(i.readTime,i.key,Ku)}class Sa{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Sa(Oe.min(),_e.empty(),Ku)}static max(){return new Sa(Oe.max(),_e.empty(),Ku)}}function xM(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(i.documentKey,e.documentKey),t!==0?t:Pe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hl(i){if(i.code!==re.FAILED_PRECONDITION||i.message!==PM)throw i;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((n,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(n,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,n)=>{t(e)})}static reject(e){return new ne((t,n)=>{n(e)})}static waitFor(e){return new ne((t,n)=>{let a=0,o=0,c=!1;e.forEach(h=>{++a,h.next(()=>{++o,c&&o===a&&t()},p=>n(p))}),c=!0,o===a&&t()})}static or(e){let t=ne.resolve(!1);for(const n of e)t=t.next(a=>a?ne.resolve(a):n());return t}static forEach(e,t){const n=[];return e.forEach((a,o)=>{n.push(t.call(this,a,o))}),this.waitFor(n)}static mapArray(e,t){return new ne((n,a)=>{const o=e.length,c=new Array(o);let h=0;for(let p=0;p<o;p++){const g=p;t(e[g]).next(v=>{c[g]=v,++h,h===o&&n(c)},v=>a(v))}})}static doWhile(e,t){return new ne((n,a)=>{const o=()=>{e()===!0?t().next(()=>{o()},a):n()};o()})}}function LM(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function dl(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ue(n),this.ce=n=>t.writeSequenceNumber(n))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}id.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg=-1;function ad(i){return i==null}function Ih(i){return i===0&&1/i==-1/0}function UM(i){return typeof i=="number"&&Number.isInteger(i)&&!Ih(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="";function BM(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=WE(e)),e=HM(i.get(t),e);return WE(e)}function HM(i,e){let t=e;const n=i.length;for(let a=0;a<n;a++){const o=i.charAt(a);switch(o){case"\0":t+="";break;case Lb:t+="";break;default:t+=o}}return t}function WE(i){return i+Lb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function xa(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Ub(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,t){this.comparator=e,this.root=t||rn.EMPTY}insert(e,t){return new _t(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return t+n.left.size;a<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gf(this.root,e,this.comparator,!0)}}class Gf{constructor(e,t,n,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,t,n,a,o){this.key=e,this.value=t,this.color=n??rn.RED,this.left=a??rn.EMPTY,this.right=o??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,a,o){return new rn(e??this.key,t??this.value,n??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let a=this;const o=n(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,n),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return rn.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,t,n,a,o){return this}insert(e,t,n){return new rn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new $E(this.data.getIterator())}getIteratorFrom(e){return new $E(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof Yt)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=n.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Yt(this.comparator);return t.data=e,t}}class $E{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new Ln([])}unionWith(e){let t=new Yt(an.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Ln(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Wo(this.fields,e.fields,(t,n)=>t.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Bb("Invalid base64 string: "+o):o}}(e);return new on(t)}static fromUint8Array(e){const t=function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o}(e);return new on(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let a=0;a<t.length;a++)n[a]=t.charCodeAt(a);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const zM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Da(i){if(et(!!i,39018),typeof i=="string"){let e=0;const t=zM.exec(i);if(et(!!t,46558,{timestamp:i}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const n=new Date(i);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Rt(i.seconds),nanos:Rt(i.nanos)}}function Rt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Aa(i){return typeof i=="string"?on.fromBase64String(i):on.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="server_timestamp",zb="__type__",Yb="__previous_value__",Fb="__local_write_time__";function $g(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[zb])===null||t===void 0?void 0:t.stringValue)===Hb}function sd(i){const e=i.mapValue.fields[Yb];return $g(e)?sd(e):e}function Wu(i){const e=Da(i.mapValue.fields[Fb].timestampValue);return new zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e,t,n,a,o,c,h,p,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Mh="(default)";class Xu{constructor(e,t){this.projectId=e,this.database=t||Mh}static empty(){return new Xu("","")}get isDefaultDatabase(){return this.database===Mh}isEqual(e){return e instanceof Xu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="__type__",FM="__max__",Qf={mapValue:{}},jb="__vector__",Oh="value";function Ra(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?$g(i)?4:jM(i)?9007199254740991:qM(i)?10:11:Ae(28295,{value:i})}function Fr(i,e){if(i===e)return!0;const t=Ra(i);if(t!==Ra(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Wu(i).isEqual(Wu(e));case 3:return function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=Da(a.timestampValue),h=Da(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,o){return Aa(a.bytesValue).isEqual(Aa(o.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,o){return Rt(a.geoPointValue.latitude)===Rt(o.geoPointValue.latitude)&&Rt(a.geoPointValue.longitude)===Rt(o.geoPointValue.longitude)}(i,e);case 2:return function(a,o){if("integerValue"in a&&"integerValue"in o)return Rt(a.integerValue)===Rt(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=Rt(a.doubleValue),h=Rt(o.doubleValue);return c===h?Ih(c)===Ih(h):isNaN(c)&&isNaN(h)}return!1}(i,e);case 9:return Wo(i.arrayValue.values||[],e.arrayValue.values||[],Fr);case 10:case 11:return function(a,o){const c=a.mapValue.fields||{},h=o.mapValue.fields||{};if(XE(c)!==XE(h))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(h[p]===void 0||!Fr(c[p],h[p])))return!1;return!0}(i,e);default:return Ae(52216,{left:i})}}function $u(i,e){return(i.values||[]).find(t=>Fr(t,e))!==void 0}function Xo(i,e){if(i===e)return 0;const t=Ra(i),n=Ra(e);if(t!==n)return Pe(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return Pe(i.booleanValue,e.booleanValue);case 2:return function(o,c){const h=Rt(o.integerValue||o.doubleValue),p=Rt(c.integerValue||c.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1}(i,e);case 3:return ZE(i.timestampValue,e.timestampValue);case 4:return ZE(Wu(i),Wu(e));case 5:return fg(i.stringValue,e.stringValue);case 6:return function(o,c){const h=Aa(o),p=Aa(c);return h.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(o,c){const h=o.split("/"),p=c.split("/");for(let g=0;g<h.length&&g<p.length;g++){const v=Pe(h[g],p[g]);if(v!==0)return v}return Pe(h.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(o,c){const h=Pe(Rt(o.latitude),Rt(c.latitude));return h!==0?h:Pe(Rt(o.longitude),Rt(c.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return JE(i.arrayValue,e.arrayValue);case 10:return function(o,c){var h,p,g,v;const E=o.fields||{},T=c.fields||{},A=(h=E[Oh])===null||h===void 0?void 0:h.arrayValue,N=(p=T[Oh])===null||p===void 0?void 0:p.arrayValue,U=Pe(((g=A==null?void 0:A.values)===null||g===void 0?void 0:g.length)||0,((v=N==null?void 0:N.values)===null||v===void 0?void 0:v.length)||0);return U!==0?U:JE(A,N)}(i.mapValue,e.mapValue);case 11:return function(o,c){if(o===Qf.mapValue&&c===Qf.mapValue)return 0;if(o===Qf.mapValue)return 1;if(c===Qf.mapValue)return-1;const h=o.fields||{},p=Object.keys(h),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let E=0;E<p.length&&E<v.length;++E){const T=fg(p[E],v[E]);if(T!==0)return T;const A=Xo(h[p[E]],g[v[E]]);if(A!==0)return A}return Pe(p.length,v.length)}(i.mapValue,e.mapValue);default:throw Ae(23264,{Pe:t})}}function ZE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Pe(i,e);const t=Da(i),n=Da(e),a=Pe(t.seconds,n.seconds);return a!==0?a:Pe(t.nanos,n.nanos)}function JE(i,e){const t=i.values||[],n=e.values||[];for(let a=0;a<t.length&&a<n.length;++a){const o=Xo(t[a],n[a]);if(o)return o}return Pe(t.length,n.length)}function $o(i){return hg(i)}function hg(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const n=Da(t);return`time(${n.seconds},${n.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return Aa(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return _e.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let n="[",a=!0;for(const o of t.values||[])a?a=!1:n+=",",n+=hg(o);return n+"]"}(i.arrayValue):"mapValue"in i?function(t){const n=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const c of n)o?o=!1:a+=",",a+=`${c}:${hg(t.fields[c])}`;return a+"}"}(i.mapValue):Ae(61005,{value:i})}function ch(i){switch(Ra(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sd(i);return e?16+ch(e):16;case 5:return 2*i.stringValue.length;case 6:return Aa(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((a,o)=>a+ch(o),0)}(i.arrayValue);case 10:case 11:return function(n){let a=0;return xa(n.fields,(o,c)=>{a+=o.length+ch(c)}),a}(i.mapValue);default:throw Ae(13486,{value:i})}}function ew(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function dg(i){return!!i&&"integerValue"in i}function Zg(i){return!!i&&"arrayValue"in i}function tw(i){return!!i&&"nullValue"in i}function nw(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function fh(i){return!!i&&"mapValue"in i}function qM(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[qb])===null||t===void 0?void 0:t.stringValue)===jb}function zu(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return xa(i.mapValue.fields,(t,n)=>e.mapValue.fields[t]=zu(n)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=zu(i.arrayValue.values[t]);return e}return Object.assign({},i)}function jM(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===FM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!fh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=zu(t)}setAll(e){let t=an.emptyPath(),n={},a=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,n,a),n={},a=[],t=h.popLast()}c?n[h.lastSegment()]=zu(c):a.push(h.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,n,a)}delete(e){const t=this.field(e.popLast());fh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let a=t.mapValue.fields[e.get(n)];fh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,n){xa(t,(a,o)=>e[a]=o);for(const a of n)delete e[a]}clone(){return new An(zu(this.value))}}function Gb(i){const e=[];return xa(i.fields,(t,n)=>{const a=new an([t]);if(fh(n)){const o=Gb(n.mapValue).fields;if(o.length===0)e.push(a);else for(const c of o)e.push(a.child(c))}else e.push(a)}),new Ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,t,n,a,o,c,h){this.key=e,this.documentType=t,this.version=n,this.readTime=a,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(e){return new dn(e,0,Oe.min(),Oe.min(),Oe.min(),An.empty(),0)}static newFoundDocument(e,t,n,a){return new dn(e,1,t,Oe.min(),n,a,0)}static newNoDocument(e,t){return new dn(e,2,t,Oe.min(),Oe.min(),An.empty(),0)}static newUnknownDocument(e,t){return new dn(e,3,t,Oe.min(),Oe.min(),An.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,t){this.position=e,this.inclusive=t}}function rw(i,e,t){let n=0;for(let a=0;a<i.position.length;a++){const o=e[a],c=i.position[a];if(o.field.isKeyField()?n=_e.comparator(_e.fromName(c.referenceValue),t.key):n=Xo(c,t.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function iw(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Fr(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,t="asc"){this.field=e,this.dir=t}}function GM(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{}class Pt extends Qb{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new KM(e,t,n):t==="array-contains"?new $M(e,n):t==="in"?new ZM(e,n):t==="not-in"?new JM(e,n):t==="array-contains-any"?new eO(e,n):new Pt(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new WM(e,n):new XM(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Xo(t,this.value)):t!==null&&Ra(this.value)===Ra(t)&&this.matchesComparison(Xo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dr extends Qb{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new dr(e,t)}matches(e){return Kb(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Kb(i){return i.op==="and"}function Wb(i){return QM(i)&&Kb(i)}function QM(i){for(const e of i.filters)if(e instanceof dr)return!1;return!0}function pg(i){if(i instanceof Pt)return i.field.canonicalString()+i.op.toString()+$o(i.value);if(Wb(i))return i.filters.map(e=>pg(e)).join(",");{const e=i.filters.map(t=>pg(t)).join(",");return`${i.op}(${e})`}}function Xb(i,e){return i instanceof Pt?function(n,a){return a instanceof Pt&&n.op===a.op&&n.field.isEqual(a.field)&&Fr(n.value,a.value)}(i,e):i instanceof dr?function(n,a){return a instanceof dr&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce((o,c,h)=>o&&Xb(c,a.filters[h]),!0):!1}(i,e):void Ae(19439)}function $b(i){return i instanceof Pt?function(t){return`${t.field.canonicalString()} ${t.op} ${$o(t.value)}`}(i):i instanceof dr?function(t){return t.op.toString()+" {"+t.getFilters().map($b).join(" ,")+"}"}(i):"Filter"}class KM extends Pt{constructor(e,t,n){super(e,t,n),this.key=_e.fromName(n.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class WM extends Pt{constructor(e,t){super(e,"in",t),this.keys=Zb("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class XM extends Pt{constructor(e,t){super(e,"not-in",t),this.keys=Zb("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Zb(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(n=>_e.fromName(n.referenceValue))}class $M extends Pt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Zg(t)&&$u(t.arrayValue,this.value)}}class ZM extends Pt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&$u(this.value.arrayValue,t)}}class JM extends Pt{constructor(e,t){super(e,"not-in",t)}matches(e){if($u(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!$u(this.value.arrayValue,t)}}class eO extends Pt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Zg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>$u(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e,t=null,n=[],a=[],o=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=a,this.limit=o,this.startAt=c,this.endAt=h,this.Ie=null}}function aw(i,e=null,t=[],n=[],a=null,o=null,c=null){return new tO(i,e,t,n,a,o,c)}function Jg(i){const e=ke(i);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>pg(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(o){return o.field.canonicalString()+o.dir}(n)).join(","),ad(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>$o(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>$o(n)).join(",")),e.Ie=t}return e.Ie}function ey(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!GM(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!Xb(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!iw(i.startAt,e.startAt)&&iw(i.endAt,e.endAt)}function mg(i){return _e.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,t=null,n=[],a=[],o=null,c="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=a,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function nO(i,e,t,n,a,o,c,h){return new uc(i,e,t,n,a,o,c,h)}function ty(i){return new uc(i)}function sw(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Jb(i){return i.collectionGroup!==null}function Yu(i){const e=ke(i);if(e.Ee===null){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Yt(an.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(h=h.add(g.field))})}),h})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Nh(o,n))}),t.has(an.keyField().canonicalString())||e.Ee.push(new Nh(an.keyField(),n))}return e.Ee}function Hr(i){const e=ke(i);return e.de||(e.de=rO(e,Yu(i))),e.de}function rO(i,e){if(i.limitType==="F")return aw(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const o=a.dir==="desc"?"asc":"desc";return new Nh(a.field,o)});const t=i.endAt?new kh(i.endAt.position,i.endAt.inclusive):null,n=i.startAt?new kh(i.startAt.position,i.startAt.inclusive):null;return aw(i.path,i.collectionGroup,e,i.filters,i.limit,t,n)}}function gg(i,e){const t=i.filters.concat([e]);return new uc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function yg(i,e,t){return new uc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function od(i,e){return ey(Hr(i),Hr(e))&&i.limitType===e.limitType}function eS(i){return`${Jg(Hr(i))}|lt:${i.limitType}`}function Vo(i){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(a=>$b(a)).join(", ")}]`),ad(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(a=>$o(a)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(a=>$o(a)).join(",")),`Target(${n})`}(Hr(i))}; limitType=${i.limitType})`}function ld(i,e){return e.isFoundDocument()&&function(n,a){const o=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):_e.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(i,e)&&function(n,a){for(const o of Yu(n))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0}(i,e)&&function(n,a){for(const o of n.filters)if(!o.matches(a))return!1;return!0}(i,e)&&function(n,a){return!(n.startAt&&!function(c,h,p){const g=rw(c,h,p);return c.inclusive?g<=0:g<0}(n.startAt,Yu(n),a)||n.endAt&&!function(c,h,p){const g=rw(c,h,p);return c.inclusive?g>=0:g>0}(n.endAt,Yu(n),a))}(i,e)}function iO(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function tS(i){return(e,t)=>{let n=!1;for(const a of Yu(i)){const o=aO(a,e,t);if(o!==0)return o;n=n||a.field.isKeyField()}return 0}}function aO(i,e,t){const n=i.field.isKeyField()?_e.comparator(e.key,t.key):function(o,c,h){const p=c.data.field(o),g=h.data.field(o);return p!==null&&g!==null?Xo(p,g):Ae(42886)}(i.field,e,t);switch(i.dir){case"asc":return n;case"desc":return-1*n;default:return Ae(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[a,o]of n)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],e))return n.length===1?delete this.inner[t]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(e){xa(this.inner,(t,n)=>{for(const[a,o]of n)e(a,o)})}isEmpty(){return Ub(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO=new _t(_e.comparator);function Ii(){return sO}const nS=new _t(_e.comparator);function xu(...i){let e=nS;for(const t of i)e=e.insert(t.key,t);return e}function rS(i){let e=nS;return i.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function ws(){return Fu()}function iS(){return Fu()}function Fu(){return new Us(i=>i.toString(),(i,e)=>i.isEqual(e))}const oO=new _t(_e.comparator),lO=new Yt(_e.comparator);function Ye(...i){let e=lO;for(const t of i)e=e.add(t);return e}const uO=new Yt(Pe);function cO(){return uO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ih(e)?"-0":e}}function aS(i){return{integerValue:""+i}}function fO(i,e){return UM(e)?aS(e):ny(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(){this._=void 0}}function hO(i,e,t){return i instanceof xh?function(a,o){const c={fields:{[zb]:{stringValue:Hb},[Fb]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&$g(o)&&(o=sd(o)),o&&(c.fields[Yb]=o),{mapValue:c}}(t,e):i instanceof Zu?oS(i,e):i instanceof Ju?lS(i,e):function(a,o){const c=sS(a,o),h=ow(c)+ow(a.Re);return dg(c)&&dg(a.Re)?aS(h):ny(a.serializer,h)}(i,e)}function dO(i,e,t){return i instanceof Zu?oS(i,e):i instanceof Ju?lS(i,e):t}function sS(i,e){return i instanceof Ph?function(n){return dg(n)||function(o){return!!o&&"doubleValue"in o}(n)}(e)?e:{integerValue:0}:null}class xh extends ud{}class Zu extends ud{constructor(e){super(),this.elements=e}}function oS(i,e){const t=uS(e);for(const n of i.elements)t.some(a=>Fr(a,n))||t.push(n);return{arrayValue:{values:t}}}class Ju extends ud{constructor(e){super(),this.elements=e}}function lS(i,e){let t=uS(e);for(const n of i.elements)t=t.filter(a=>!Fr(a,n));return{arrayValue:{values:t}}}class Ph extends ud{constructor(e,t){super(),this.serializer=e,this.Re=t}}function ow(i){return Rt(i.integerValue||i.doubleValue)}function uS(i){return Zg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function pO(i,e){return i.field.isEqual(e.field)&&function(n,a){return n instanceof Zu&&a instanceof Zu||n instanceof Ju&&a instanceof Ju?Wo(n.elements,a.elements,Fr):n instanceof Ph&&a instanceof Ph?Fr(n.Re,a.Re):n instanceof xh&&a instanceof xh}(i.transform,e.transform)}class mO{constructor(e,t){this.version=e,this.transformResults=t}}class cr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new cr}static exists(e){return new cr(void 0,e)}static updateTime(e){return new cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class cd{}function cS(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new ry(i.key,cr.none()):new cc(i.key,i.data,cr.none());{const t=i.data,n=An.empty();let a=new Yt(an.comparator);for(let o of e.fields)if(!a.has(o)){let c=t.field(o);c===null&&o.length>1&&(o=o.popLast(),c=t.field(o)),c===null?n.delete(o):n.set(o,c),a=a.add(o)}return new Pa(i.key,n,new Ln(a.toArray()),cr.none())}}function gO(i,e,t){i instanceof cc?function(a,o,c){const h=a.value.clone(),p=uw(a.fieldTransforms,o,c.transformResults);h.setAll(p),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(i,e,t):i instanceof Pa?function(a,o,c){if(!hh(a.precondition,o))return void o.convertToUnknownDocument(c.version);const h=uw(a.fieldTransforms,o,c.transformResults),p=o.data;p.setAll(fS(a)),p.setAll(h),o.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(i,e,t):function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function qu(i,e,t,n){return i instanceof cc?function(o,c,h,p){if(!hh(o.precondition,c))return h;const g=o.value.clone(),v=cw(o.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(i,e,t,n):i instanceof Pa?function(o,c,h,p){if(!hh(o.precondition,c))return h;const g=cw(o.fieldTransforms,p,c),v=c.data;return v.setAll(fS(o)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(E=>E.field))}(i,e,t,n):function(o,c,h){return hh(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h}(i,e,t)}function yO(i,e){let t=null;for(const n of i.fieldTransforms){const a=e.data.field(n.field),o=sS(n.transform,a||null);o!=null&&(t===null&&(t=An.empty()),t.set(n.field,o))}return t||null}function lw(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&Wo(n,a,(o,c)=>pO(o,c))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class cc extends cd{constructor(e,t,n,a=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Pa extends cd{constructor(e,t,n,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function fS(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=i.data.field(t);e.set(t,n)}}),e}function uw(i,e,t){const n=new Map;et(i.length===t.length,32656,{Ve:t.length,me:i.length});for(let a=0;a<t.length;a++){const o=i[a],c=o.transform,h=e.data.field(o.field);n.set(o.field,dO(c,h,t[a]))}return n}function cw(i,e,t){const n=new Map;for(const a of i){const o=a.transform,c=t.data.field(a.field);n.set(a.field,hO(o,c,e))}return n}class ry extends cd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vO extends cd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e,t,n,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&gO(o,e,n[a])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=qu(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=qu(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=iS();return this.mutations.forEach(a=>{const o=e.get(a.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=t.has(a.key)?null:h;const p=cS(c,h);p!==null&&n.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(Oe.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ye())}isEqual(e){return this.batchId===e.batchId&&Wo(this.mutations,e.mutations,(t,n)=>lw(t,n))&&Wo(this.baseMutations,e.baseMutations,(t,n)=>lw(t,n))}}class iy{constructor(e,t,n,a){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=a}static from(e,t,n){et(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let a=function(){return oO}();const o=e.mutations;for(let c=0;c<o.length;c++)a=a.insert(o[c].key,n[c].version);return new iy(e,t,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt,Ge;function TO(i){switch(i){case re.OK:return Ae(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Ae(15467,{code:i})}}function hS(i){if(i===void 0)return Ci("GRPC error has no .code"),re.UNKNOWN;switch(i){case xt.OK:return re.OK;case xt.CANCELLED:return re.CANCELLED;case xt.UNKNOWN:return re.UNKNOWN;case xt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case xt.INTERNAL:return re.INTERNAL;case xt.UNAVAILABLE:return re.UNAVAILABLE;case xt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case xt.NOT_FOUND:return re.NOT_FOUND;case xt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case xt.ABORTED:return re.ABORTED;case xt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case xt.DATA_LOSS:return re.DATA_LOSS;default:return Ae(39323,{code:i})}}(Ge=xt||(xt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO=new _a([4294967295,4294967295],0);function fw(i){const e=Pb().encode(i),t=new Rb;return t.update(e),new Uint8Array(t.digest())}function hw(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new _a([t,n],0),new _a([a,o],0)]}class ay{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Pu(`Invalid padding: ${t}`);if(n<0)throw new Pu(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Pu(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Pu(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=_a.fromNumber(this.pe)}we(e,t,n){let a=e.add(t.multiply(_a.fromNumber(n)));return a.compare(bO)===1&&(a=new _a([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=fw(e),[n,a]=hw(t);for(let o=0;o<this.hashCount;o++){const c=this.we(n,a,o);if(!this.be(c))return!1}return!0}static create(e,t,n){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new ay(o,a,t);return n.forEach(h=>c.insert(h)),c}insert(e){if(this.pe===0)return;const t=fw(e),[n,a]=hw(t);for(let o=0;o<this.hashCount;o++){const c=this.we(n,a,o);this.Se(c)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Pu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,t,n,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const a=new Map;return a.set(e,fc.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new fd(Oe.min(),a,new _t(Pe),Ii(),Ye())}}class fc{constructor(e,t,n,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new fc(n,t,Ye(),Ye(),Ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,t,n,a){this.De=e,this.removedTargetIds=t,this.key=n,this.ve=a}}class dS{constructor(e,t){this.targetId=e,this.Ce=t}}class pS{constructor(e,t,n=on.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=a}}class dw{constructor(){this.Fe=0,this.Me=pw(),this.xe=on.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ye(),t=Ye(),n=Ye();return this.Me.forEach((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:n=n.add(a);break;default:Ae(38017,{changeType:o})}}),new fc(this.xe,this.Oe,e,t,n)}Qe(){this.Ne=!1,this.Me=pw()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,et(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class SO{constructor(e){this.ze=e,this.je=new Map,this.He=Ii(),this.Je=Kf(),this.Ye=Kf(),this.Ze=new _t(Pe)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const n=this.rt(t);switch(e.state){case 0:this.it(t)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(t);break;case 3:this.it(t)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),n.ke(e.resumeToken));break;default:Ae(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((n,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,n=e.Ce.count,a=this._t(t);if(a){const o=a.target;if(mg(o))if(n===0){const c=new _e(o.path);this.tt(t,c,dn.newNoDocument(c,Oe.min()))}else et(n===1,20013,{expectedCount:n});else{const c=this.ut(t);if(c!==n){const h=this.ct(e),p=h?this.lt(h,e,c):1;if(p!==0){this.st(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:a=0},hashCount:o=0}=t;let c,h;try{c=Aa(n).toUint8Array()}catch(p){if(p instanceof Bb)return Ko("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{h=new ay(c,a,o)}catch(p){return Ko(p instanceof Pu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return h.pe===0?null:h}lt(e,t,n){return t.Ce.count===n-this.Tt(e,t.targetId)?0:2}Tt(e,t){const n=this.ze.getRemoteKeysForTarget(t);let a=0;return n.forEach(o=>{const c=this.ze.Pt(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.tt(t,o,null),a++)}),a}It(e){const t=new Map;this.je.forEach((o,c)=>{const h=this._t(c);if(h){if(o.current&&mg(h.target)){const p=new _e(h.target.path);this.Et(p).has(c)||this.dt(c,p)||this.tt(c,p,dn.newNoDocument(p,e))}o.Le&&(t.set(c,o.qe()),o.Qe())}});let n=Ye();this.Ye.forEach((o,c)=>{let h=!0;c.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(n=n.add(o))}),this.He.forEach((o,c)=>c.setReadTime(e));const a=new fd(e,t,this.Ze,this.He,n);return this.He=Ii(),this.Je=Kf(),this.Ye=Kf(),this.Ze=new _t(Pe),a}et(e,t){if(!this.it(e))return;const n=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,n),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,n){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),n&&(this.He=this.He.insert(t,n))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new dw,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Yt(Pe),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Yt(Pe),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new dw),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Kf(){return new _t(_e.comparator)}function pw(){return new _t(_e.comparator)}const DO={asc:"ASCENDING",desc:"DESCENDING"},AO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RO={and:"AND",or:"OR"};class CO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function vg(i,e){return i.useProto3Json||ad(e)?e:{value:e}}function Vh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mS(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function IO(i,e){return Vh(i,e.toTimestamp())}function zr(i){return et(!!i,49232),Oe.fromTimestamp(function(t){const n=Da(t);return new zt(n.seconds,n.nanos)}(i))}function sy(i,e){return _g(i,e).canonicalString()}function _g(i,e){const t=function(a){return new dt(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?t:t.child(e)}function gS(i){const e=dt.fromString(i);return et(wS(e),10190,{key:e.toString()}),e}function Eg(i,e){return sy(i.databaseId,e.path)}function Ym(i,e){const t=gS(e);if(t.get(1)!==i.databaseId.projectId)throw new ge(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new ge(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new _e(vS(t))}function yS(i,e){return sy(i.databaseId,e)}function MO(i){const e=gS(i);return e.length===4?dt.emptyPath():vS(e)}function wg(i){return new dt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function vS(i){return et(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function mw(i,e,t){return{name:Eg(i,e),fields:t.value.mapValue.fields}}function OO(i,e){let t;if("targetChange"in e){e.targetChange;const n=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ae(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=function(g,v){return g.useProto3Json?(et(v===void 0||typeof v=="string",58123),on.fromBase64String(v||"")):(et(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),on.fromUint8Array(v||new Uint8Array))}(i,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(g){const v=g.code===void 0?re.UNKNOWN:hS(g.code);return new ge(v,g.message||"")}(c);t=new pS(n,a,o,h||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const a=Ym(i,n.document.name),o=zr(n.document.updateTime),c=n.document.createTime?zr(n.document.createTime):Oe.min(),h=new An({mapValue:{fields:n.document.fields}}),p=dn.newFoundDocument(a,o,c,h),g=n.targetIds||[],v=n.removedTargetIds||[];t=new dh(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const a=Ym(i,n.document),o=n.readTime?zr(n.readTime):Oe.min(),c=dn.newNoDocument(a,o),h=n.removedTargetIds||[];t=new dh([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const a=Ym(i,n.document),o=n.removedTargetIds||[];t=new dh([],o,a,null)}else{if(!("filter"in e))return Ae(11601,{Vt:e});{e.filter;const n=e.filter;n.targetId;const{count:a=0,unchangedNames:o}=n,c=new wO(a,o),h=n.targetId;t=new dS(h,c)}}return t}function kO(i,e){let t;if(e instanceof cc)t={update:mw(i,e.key,e.value)};else if(e instanceof ry)t={delete:Eg(i,e.key)};else if(e instanceof Pa)t={update:mw(i,e.key,e.data),updateMask:zO(e.fieldMask)};else{if(!(e instanceof vO))return Ae(16599,{ft:e.type});t={verify:Eg(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(o,c){const h=c.transform;if(h instanceof xh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Zu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Ju)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Ph)return{fieldPath:c.field.canonicalString(),increment:h.Re};throw Ae(20930,{transform:c.transform})}(0,n))),e.precondition.isNone||(t.currentDocument=function(a,o){return o.updateTime!==void 0?{updateTime:IO(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ae(27497)}(i,e.precondition)),t}function NO(i,e){return i&&i.length>0?(et(e!==void 0,14353),i.map(t=>function(a,o){let c=a.updateTime?zr(a.updateTime):zr(o);return c.isEqual(Oe.min())&&(c=zr(o)),new mO(c,a.transformResults||[])}(t,e))):[]}function xO(i,e){return{documents:[yS(i,e.path)]}}function PO(i,e){const t={structuredQuery:{}},n=e.path;let a;e.collectionGroup!==null?(a=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=yS(i,a);const o=function(g){if(g.length!==0)return ES(dr.create(g,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const c=function(g){if(g.length!==0)return g.map(v=>function(T){return{field:Lo(T.field),direction:UO(T.dir)}}(v))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=vg(i,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:t,parent:a}}function VO(i){let e=MO(i.parent);const t=i.structuredQuery,n=t.from?t.from.length:0;let a=null;if(n>0){et(n===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let o=[];t.where&&(o=function(E){const T=_S(E);return T instanceof dr&&Wb(T)?T.getFilters():[T]}(t.where));let c=[];t.orderBy&&(c=function(E){return E.map(T=>function(N){return new Nh(Uo(N.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(T))}(t.orderBy));let h=null;t.limit&&(h=function(E){let T;return T=typeof E=="object"?E.value:E,ad(T)?null:T}(t.limit));let p=null;t.startAt&&(p=function(E){const T=!!E.before,A=E.values||[];return new kh(A,T)}(t.startAt));let g=null;return t.endAt&&(g=function(E){const T=!E.before,A=E.values||[];return new kh(A,T)}(t.endAt)),nO(e,a,c,o,h,"F",p,g)}function LO(i,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function _S(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Uo(t.unaryFilter.field);return Pt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=Uo(t.unaryFilter.field);return Pt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Uo(t.unaryFilter.field);return Pt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Uo(t.unaryFilter.field);return Pt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}}(i):i.fieldFilter!==void 0?function(t){return Pt.create(Uo(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return dr.create(t.compositeFilter.filters.map(n=>_S(n)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}}(t.compositeFilter.op))}(i):Ae(30097,{filter:i})}function UO(i){return DO[i]}function BO(i){return AO[i]}function HO(i){return RO[i]}function Lo(i){return{fieldPath:i.canonicalString()}}function Uo(i){return an.fromServerFormat(i.fieldPath)}function ES(i){return i instanceof Pt?function(t){if(t.op==="=="){if(nw(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NAN"}};if(tw(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(nw(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NOT_NAN"}};if(tw(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lo(t.field),op:BO(t.op),value:t.value}}}(i):i instanceof dr?function(t){const n=t.getFilters().map(a=>ES(a));return n.length===1?n[0]:{compositeFilter:{op:HO(t.op),filters:n}}}(i):Ae(54877,{filter:i})}function zO(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function wS(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,t,n,a,o=Oe.min(),c=Oe.min(),h=on.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new pa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e){this.wt=e}}function FO(i){const e=VO({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?yg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(){this.Cn=new jO}addToCollectionParentIndex(e,t){return this.Cn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(Sa.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(Sa.min())}updateCollectionGroup(e,t,n){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class jO{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),a=this.index[t]||new Yt(dt.comparator),o=!a.has(n);return this.index[t]=a.add(n),o}has(e){const t=e.lastSegment(),n=e.popLast(),a=this.index[t];return a&&a.has(n)}getEntries(e){return(this.index[e]||new Yt(dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TS=41943040;class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(TS,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Zo(0)}static lr(){return new Zo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="LruGarbageCollector",GO=1048576;function vw([i,e],[t,n]){const a=Pe(i,t);return a===0?Pe(e,n):a}class QO{constructor(e){this.Er=e,this.buffer=new Yt(vw),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();vw(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class KO{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){pe(yw,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){dl(t)?pe(yw,"Ignoring IndexedDB error during garbage collection: ",t):await hl(t)}await this.mr(3e5)})}}class WO{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(n=>Math.floor(t/100*n))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(id.le);const n=new QO(t);return this.gr.forEachTarget(e,a=>n.Rr(a.sequenceNumber)).next(()=>this.gr.yr(e,a=>n.Rr(a))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.gr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(gw)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gw):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let n,a,o,c,h,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),a=this.params.maximumSequenceNumbersToCollect):a=E,c=Date.now(),this.nthSequenceNumber(e,a))).next(E=>(n=E,h=Date.now(),this.removeTargets(e,n,t))).next(E=>(o=E,p=Date.now(),this.removeOrphanedDocuments(e,n))).next(E=>(g=Date.now(),Po()<=ze.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${o} targets in `+(p-h)+`ms
	Removed ${E} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:E})))}}function XO(i,e){return new WO(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(){this.changes=new Us(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?ne.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e,t,n,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=a}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(n=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(n!==null&&qu(n.mutation,a,Ln.empty(),zt.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,Ye()).next(()=>n))}getLocalViewOfDocuments(e,t,n=Ye()){const a=ws();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,n).next(o=>{let c=xu();return o.forEach((h,p)=>{c=c.insert(h,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const n=ws();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Ye()))}populateOverlays(e,t,n){const a=[];return n.forEach(o=>{t.has(o)||a.push(o)}),this.documentOverlayCache.getOverlays(e,a).next(o=>{o.forEach((c,h)=>{t.set(c,h)})})}computeViews(e,t,n,a){let o=Ii();const c=Fu(),h=function(){return Fu()}();return t.forEach((p,g)=>{const v=n.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof Pa)?o=o.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),qu(v.mutation,g,v.mutation.getFieldMask(),zt.now())):c.set(g.key,Ln.empty())}),this.recalculateAndSaveOverlays(e,o).next(p=>(p.forEach((g,v)=>c.set(g,v)),t.forEach((g,v)=>{var E;return h.set(g,new ZO(v,(E=c.get(g))!==null&&E!==void 0?E:null))}),h))}recalculateAndSaveOverlays(e,t){const n=Fu();let a=new _t((c,h)=>c-h),o=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const h of c)h.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let v=n.get(p)||Ln.empty();v=h.applyToLocalView(g,v),n.set(p,v);const E=(a.get(h.batchId)||Ye()).add(p);a=a.insert(h.batchId,E)})}).next(()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),g=p.key,v=p.value,E=iS();v.forEach(T=>{if(!o.has(T)){const A=cS(t.get(T),n.get(T));A!==null&&E.set(T,A),o=o.add(T)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,E))}return ne.waitFor(c)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,a){return function(c){return _e.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Jb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,a):this.getDocumentsMatchingCollectionQuery(e,t,n,a)}getNextDocuments(e,t,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,a).next(o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,a-o.size):ne.resolve(ws());let h=Ku,p=o;return c.next(g=>ne.forEach(g,(v,E)=>(h<E.largestBatchId&&(h=E.largestBatchId),o.get(v)?ne.resolve():this.remoteDocumentCache.getEntry(e,v).next(T=>{p=p.insert(v,T)}))).next(()=>this.populateOverlays(e,g,o)).next(()=>this.computeViews(e,p,g,Ye())).next(v=>({batchId:h,changes:rS(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(n=>{let a=xu();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,n,a){const o=t.collectionGroup;let c=xu();return this.indexManager.getCollectionParents(e,o).next(h=>ne.forEach(h,p=>{const g=function(E,T){return new uc(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,p.child(o));return this.getDocumentsMatchingCollectionQuery(e,g,n,a).next(v=>{v.forEach((E,T)=>{c=c.insert(E,T)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,n,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,o,a))).next(c=>{o.forEach((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,dn.newInvalidDocument(v)))});let h=xu();return c.forEach((p,g)=>{const v=o.get(p);v!==void 0&&qu(v.mutation,g,Ln.empty(),zt.now()),ld(t,g)&&(h=h.insert(p,g))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return ne.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:zr(a.createTime)}}(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(a){return{name:a.name,query:FO(a.bundledQuery),readTime:zr(a.readTime)}}(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(){this.overlays=new _t(_e.comparator),this.Qr=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const n=ws();return ne.forEach(t,a=>this.getOverlay(e,a).next(o=>{o!==null&&n.set(a,o)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((a,o)=>{this.St(e,t,o)}),ne.resolve()}removeOverlaysForBatchId(e,t,n){const a=this.Qr.get(n);return a!==void 0&&(a.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(n)),ne.resolve()}getOverlaysForCollection(e,t,n){const a=ws(),o=t.length+1,c=new _e(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const p=h.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===o&&p.largestBatchId>n&&a.set(p.getKey(),p)}return ne.resolve(a)}getOverlaysForCollectionGroup(e,t,n,a){let o=new _t((g,v)=>g-v);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>n){let v=o.get(g.largestBatchId);v===null&&(v=ws(),o=o.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const h=ws(),p=o.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>h.set(g,v)),!(h.size()>=a)););return ne.resolve(h)}St(e,t,n){const a=this.overlays.get(n.key);if(a!==null){const c=this.Qr.get(a.largestBatchId).delete(n.key);this.Qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(n.key,new EO(t,n));let o=this.Qr.get(t);o===void 0&&(o=Ye(),this.Qr.set(t,o)),this.Qr.set(t,o.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(){this.$r=new Yt(Xt.Ur),this.Kr=new Yt(Xt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const n=new Xt(e,t);this.$r=this.$r.add(n),this.Kr=this.Kr.add(n)}Gr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.zr(new Xt(e,t))}jr(e,t){e.forEach(n=>this.removeReference(n,t))}Hr(e){const t=new _e(new dt([])),n=new Xt(t,e),a=new Xt(t,e+1),o=[];return this.Kr.forEachInRange([n,a],c=>{this.zr(c),o.push(c.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new _e(new dt([])),n=new Xt(t,e),a=new Xt(t,e+1);let o=Ye();return this.Kr.forEachInRange([n,a],c=>{o=o.add(c.key)}),o}containsKey(e){const t=new Xt(e,0),n=this.$r.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class Xt{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return _e.comparator(e.key,t.key)||Pe(e.Zr,t.Zr)}static Wr(e,t){return Pe(e.Zr,t.Zr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Yt(Xt.Ur)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,a){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new _O(o,t,n,a);this.mutationQueue.push(c);for(const h of a)this.Xr=this.Xr.add(new Xt(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ne.resolve(c)}lookupMutationBatch(e,t){return ne.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,a=this.ti(n),o=a<0?0:a;return ne.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Xg:this.nr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Xt(t,0),a=new Xt(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([n,a],c=>{const h=this.ei(c.Zr);o.push(h)}),ne.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Yt(Pe);return t.forEach(a=>{const o=new Xt(a,0),c=new Xt(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,c],h=>{n=n.add(h.Zr)})}),ne.resolve(this.ni(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,a=n.length+1;let o=n;_e.isDocumentKey(o)||(o=o.child(""));const c=new Xt(new _e(o),0);let h=new Yt(Pe);return this.Xr.forEachWhile(p=>{const g=p.key.path;return!!n.isPrefixOf(g)&&(g.length===a&&(h=h.add(p.Zr)),!0)},c),ne.resolve(this.ni(h))}ni(e){const t=[];return e.forEach(n=>{const a=this.ei(n);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){et(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Xr;return ne.forEach(t.mutations,a=>{const o=new Xt(a.key,t.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Xr=n})}sr(e){}containsKey(e,t){const n=new Xt(t,0),a=this.Xr.firstAfterOrEqual(n);return ne.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e){this.ii=e,this.docs=function(){return new _t(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,a=this.docs.get(n),o=a?a.size:0,c=this.ii(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ne.resolve(n?n.document.mutableCopy():dn.newInvalidDocument(t))}getEntries(e,t){let n=Ii();return t.forEach(a=>{const o=this.docs.get(a);n=n.insert(a,o?o.document.mutableCopy():dn.newInvalidDocument(a))}),ne.resolve(n)}getDocumentsMatchingQuery(e,t,n,a){let o=Ii();const c=t.path,h=new _e(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||xM(NM(v),n)<=0||(a.has(v.key)||ld(t,v))&&(o=o.insert(v.key,v.mutableCopy()))}return ne.resolve(o)}getAllFromCollectionGroup(e,t,n,a){Ae(9500)}si(e,t){return ne.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new ak(this)}getSize(e){return ne.resolve(this.size)}}class ak extends $O{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((n,a)=>{a.isValidDocument()?t.push(this.Br.addEntry(e,a)):this.Br.removeEntry(n)}),ne.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e){this.persistence=e,this.oi=new Us(t=>Jg(t),ey),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this._i=0,this.ai=new oy,this.targetCount=0,this.ui=Zo.cr()}forEachTarget(e,t){return this.oi.forEach((n,a)=>t(a)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this._i&&(this._i=t),ne.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new Zo(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.Tr(t),ne.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,n){let a=0;const o=[];return this.oi.forEach((c,h)=>{h.sequenceNumber<=t&&n.get(h.targetId)===null&&(this.oi.delete(c),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)}),ne.waitFor(o).next(()=>a)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const n=this.oi.get(t)||null;return ne.resolve(n)}addMatchingKeys(e,t,n){return this.ai.Gr(t,n),ne.resolve()}removeMatchingKeys(e,t,n){this.ai.jr(t,n);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach(c=>{o.push(a.markPotentiallyOrphaned(e,c))}),ne.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ai.Yr(t);return ne.resolve(n)}containsKey(e,t){return ne.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,t){this.ci={},this.overlays={},this.li=new id(0),this.hi=!1,this.hi=!0,this.Pi=new nk,this.referenceDelegate=e(this),this.Ti=new sk(this),this.indexManager=new qO,this.remoteDocumentCache=function(a){return new ik(a)}(n=>this.referenceDelegate.Ii(n)),this.serializer=new YO(t),this.Ei=new ek(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new tk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ci[e.toKey()];return n||(n=new rk(t,this.referenceDelegate),this.ci[e.toKey()]=n),n}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,n){pe("MemoryPersistence","Starting transaction:",e);const a=new ok(this.li.next());return this.referenceDelegate.di(),n(a).next(o=>this.referenceDelegate.Ai(a).next(()=>o)).toPromise().then(o=>(a.raiseOnCommittedEvent(),o))}Ri(e,t){return ne.or(Object.values(this.ci).map(n=>()=>n.containsKey(e,t)))}}class ok extends VM{constructor(e){super(),this.currentSequenceNumber=e}}class ly{constructor(e){this.persistence=e,this.Vi=new oy,this.mi=null}static fi(e){return new ly(e)}get gi(){if(this.mi)return this.mi;throw Ae(60996)}addReference(e,t,n){return this.Vi.addReference(n,t),this.gi.delete(n.toString()),ne.resolve()}removeReference(e,t,n){return this.Vi.removeReference(n,t),this.gi.add(n.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(a=>this.gi.add(a.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(o=>this.gi.add(o.toString()))}).next(()=>n.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.gi,n=>{const a=_e.fromPath(n);return this.pi(e,a).next(o=>{o||t.removeEntry(a,Oe.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(n=>{n?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return ne.or([()=>ne.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Lh{constructor(e,t){this.persistence=e,this.yi=new Us(n=>BM(n.path),(n,a)=>n.isEqual(a)),this.garbageCollector=XO(this,t)}static fi(e,t){return new Lh(e,t)}di(){}Ai(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>t.next(a=>n+a))}br(e){let t=0;return this.yr(e,n=>{t++}).next(()=>t)}yr(e,t){return ne.forEach(this.yi,(n,a)=>this.Dr(e,n,a).next(o=>o?ne.resolve():t(a)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.si(e,c=>this.Dr(e,c,t).next(h=>{h||(n++,o.removeEntry(c,Oe.min()))})).next(()=>o.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),ne.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ch(e.data.value)),t}Dr(e,t,n){return ne.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.yi.get(t);return ne.resolve(a!==void 0&&a>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,t,n,a){this.targetId=e,this.fromCache=t,this.ds=n,this.As=a}static Rs(e,t){let n=Ye(),a=Ye();for(const o of t.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new uy(e,t.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return Y1()?8:LM(mn())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,n,a){const o={result:null};return this.ws(e,t).next(c=>{o.result=c}).next(()=>{if(!o.result)return this.bs(e,t,a,n).next(c=>{o.result=c})}).next(()=>{if(o.result)return;const c=new lk;return this.Ss(e,t,c).next(h=>{if(o.result=h,this.fs)return this.Ds(e,t,c,h.size)})}).next(()=>o.result)}Ds(e,t,n,a){return n.documentReadCount<this.gs?(Po()<=ze.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Vo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ne.resolve()):(Po()<=ze.DEBUG&&pe("QueryEngine","Query:",Vo(t),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.ps*a?(Po()<=ze.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Vo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hr(t))):ne.resolve())}ws(e,t){if(sw(t))return ne.resolve(null);let n=Hr(t);return this.indexManager.getIndexType(e,n).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=yg(t,null,"F"),n=Hr(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(o=>{const c=Ye(...o);return this.ys.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,n).next(p=>{const g=this.vs(t,h);return this.Cs(t,g,c,p.readTime)?this.ws(e,yg(t,null,"F")):this.Fs(e,g,t,p)}))})))}bs(e,t,n,a){return sw(t)||a.isEqual(Oe.min())?ne.resolve(null):this.ys.getDocuments(e,n).next(o=>{const c=this.vs(t,o);return this.Cs(t,c,n,a)?ne.resolve(null):(Po()<=ze.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Vo(t)),this.Fs(e,c,t,kM(a,Ku)).next(h=>h))})}vs(e,t){let n=new Yt(tS(e));return t.forEach((a,o)=>{ld(e,o)&&(n=n.add(o))}),n}Cs(e,t,n,a){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(e,t,n){return Po()<=ze.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Vo(t)),this.ys.getDocumentsMatchingQuery(e,t,Sa.min(),n)}Fs(e,t,n,a){return this.ys.getDocumentsMatchingQuery(e,n,a).next(o=>(t.forEach(c=>{o=o.insert(c.key,c)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy="LocalStore",ck=3e8;class fk{constructor(e,t,n,a){this.persistence=e,this.Ms=t,this.serializer=a,this.xs=new _t(Pe),this.Os=new Us(o=>Jg(o),ey),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(n)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new JO(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function hk(i,e,t,n){return new fk(i,e,t,n)}async function SS(i,e){const t=ke(i);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let a;return t.mutationQueue.getAllMutationBatches(n).next(o=>(a=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(n))).next(o=>{const c=[],h=[];let p=Ye();for(const g of a){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of o){h.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(n,p).next(g=>({ks:g,removedBatchIds:c,addedBatchIds:h}))})})}function dk(i,e){const t=ke(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const a=e.batch.keys(),o=t.Bs.newChangeBuffer({trackRemovals:!0});return function(h,p,g,v){const E=g.batch,T=E.keys();let A=ne.resolve();return T.forEach(N=>{A=A.next(()=>v.getEntry(p,N)).next(U=>{const I=g.docVersions.get(N);et(I!==null,48541),U.version.compareTo(I)<0&&(E.applyToRemoteDocument(U,g),U.isValidDocument()&&(U.setReadTime(g.commitVersion),v.addEntry(U)))})}),A.next(()=>h.mutationQueue.removeMutationBatch(p,E))}(t,n,e,o).next(()=>o.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(h){let p=Ye();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(p=p.add(h.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(n,a))})}function DS(i){const e=ke(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function pk(i,e){const t=ke(i),n=e.snapshotVersion;let a=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=t.Bs.newChangeBuffer({trackRemovals:!0});a=t.xs;const h=[];e.targetChanges.forEach((v,E)=>{const T=a.get(E);if(!T)return;h.push(t.Ti.removeMatchingKeys(o,v.removedDocuments,E).next(()=>t.Ti.addMatchingKeys(o,v.addedDocuments,E)));let A=T.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(E)!==null?A=A.withResumeToken(on.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,n)),a=a.insert(E,A),function(U,I,Q){return U.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=ck?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(T,A,v)&&h.push(t.Ti.updateTargetData(o,A))});let p=Ii(),g=Ye();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,v))}),h.push(mk(o,c,e.documentUpdates).next(v=>{p=v.qs,g=v.Qs})),!n.isEqual(Oe.min())){const v=t.Ti.getLastRemoteSnapshotVersion(o).next(E=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,n));h.push(v)}return ne.waitFor(h).next(()=>c.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,p,g)).next(()=>p)}).then(o=>(t.xs=a,o))}function mk(i,e,t){let n=Ye(),a=Ye();return t.forEach(o=>n=n.add(o)),e.getEntries(i,n).next(o=>{let c=Ii();return t.forEach((h,p)=>{const g=o.get(h);p.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(h)),p.isNoDocument()&&p.version.isEqual(Oe.min())?(e.removeEntry(h,p.readTime),c=c.insert(h,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(h,p)):pe(cy,"Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",p.version)}),{qs:c,Qs:a}})}function gk(i,e){const t=ke(i);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=Xg),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function yk(i,e){const t=ke(i);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let a;return t.Ti.getTargetData(n,e).next(o=>o?(a=o,ne.resolve(a)):t.Ti.allocateTargetId(n).next(c=>(a=new pa(e,c,"TargetPurposeListen",n.currentSequenceNumber),t.Ti.addTargetData(n,a).next(()=>a))))}).then(n=>{const a=t.xs.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.xs=t.xs.insert(n.targetId,n),t.Os.set(e,n.targetId)),n})}async function Tg(i,e,t){const n=ke(i),a=n.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",o,c=>n.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!dl(c))throw c;pe(cy,`Failed to update sequence numbers for target ${e}: ${c}`)}n.xs=n.xs.remove(e),n.Os.delete(a.target)}function _w(i,e,t){const n=ke(i);let a=Oe.min(),o=Ye();return n.persistence.runTransaction("Execute query","readwrite",c=>function(p,g,v){const E=ke(p),T=E.Os.get(v);return T!==void 0?ne.resolve(E.xs.get(T)):E.Ti.getTargetData(g,v)}(n,c,Hr(e)).next(h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,n.Ti.getMatchingKeysForTargetId(c,h.targetId).next(p=>{o=p})}).next(()=>n.Ms.getDocumentsMatchingQuery(c,e,t?a:Oe.min(),t?o:Ye())).next(h=>(vk(n,iO(e),h),{documents:h,$s:o})))}function vk(i,e,t){let n=i.Ns.get(e)||Oe.min();t.forEach((a,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)}),i.Ns.set(e,n)}class Ew{constructor(){this.activeTargetIds=cO()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _k{constructor(){this.xo=new Ew,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,n){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Ew,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="ConnectivityMonitor";class Tw{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){pe(ww,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){pe(ww,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wf=null;function bg(){return Wf===null?Wf=function(){return 268435456+Math.round(2147483648*Math.random())}():Wf++,"0x"+Wf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm="RestConnection",wk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Tk{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${n}/databases/${a}`,this.Go=this.databaseId.database===Mh?`project_id=${n}`:`project_id=${n}&database_id=${a}`}zo(e,t,n,a,o){const c=bg(),h=this.jo(e,t.toUriEncodedString());pe(Fm,`Sending RPC '${e}' ${c}:`,h,n);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,a,o);const{host:g}=new URL(h),v=nc(g);return this.Jo(e,h,p,n,v).then(E=>(pe(Fm,`Received RPC '${e}' ${c}: `,E),E),E=>{throw Ko(Fm,`RPC '${e}' ${c} failed with error: `,E,"url: ",h,"request:",n),E})}Yo(e,t,n,a,o,c){return this.zo(e,t,n,a,o)}Ho(e,t,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,o)=>e[o]=a),n&&n.headers.forEach((a,o)=>e[o]=a)}jo(e,t){const n=wk[e];return`${this.Ko}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn="WebChannelConnection";class Sk extends Tk{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,a,o){const c=bg();return new Promise((h,p)=>{const g=new Cb;g.setWithCredentials(!0),g.listenOnce(Ib.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case uh.NO_ERROR:const E=g.getResponseJson();pe(fn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),h(E);break;case uh.TIMEOUT:pe(fn,`RPC '${e}' ${c} timed out`),p(new ge(re.DEADLINE_EXCEEDED,"Request time out"));break;case uh.HTTP_ERROR:const T=g.getStatus();if(pe(fn,`RPC '${e}' ${c} failed with status:`,T,"response text:",g.getResponseText()),T>0){let A=g.getResponseJson();Array.isArray(A)&&(A=A[0]);const N=A==null?void 0:A.error;if(N&&N.status&&N.message){const U=function(Q){const W=Q.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(W)>=0?W:re.UNKNOWN}(N.status);p(new ge(U,N.message))}else p(new ge(re.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ge(re.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{h_:e,streamId:c,P_:g.getLastErrorCode(),T_:g.getLastError()})}}finally{pe(fn,`RPC '${e}' ${c} completed.`)}});const v=JSON.stringify(a);pe(fn,`RPC '${e}' ${c} sending request:`,a),g.send(t,"POST",v,n,15)})}I_(e,t,n){const a=bg(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=kb(),h=Ob(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,t,n),p.encodeInitMessageHeaders=!0;const v=o.join("");pe(fn,`Creating RPC '${e}' stream ${a}: ${v}`,p);const E=c.createWebChannel(v,p);this.E_(E);let T=!1,A=!1;const N=new bk({Zo:I=>{A?pe(fn,`Not sending because RPC '${e}' stream ${a} is closed:`,I):(T||(pe(fn,`Opening RPC '${e}' stream ${a} transport.`),E.open(),T=!0),pe(fn,`RPC '${e}' stream ${a} sending:`,I),E.send(I))},Xo:()=>E.close()}),U=(I,Q,W)=>{I.listen(Q,K=>{try{W(K)}catch(ae){setTimeout(()=>{throw ae},0)}})};return U(E,Nu.EventType.OPEN,()=>{A||(pe(fn,`RPC '${e}' stream ${a} transport opened.`),N.__())}),U(E,Nu.EventType.CLOSE,()=>{A||(A=!0,pe(fn,`RPC '${e}' stream ${a} transport closed`),N.u_(),this.d_(E))}),U(E,Nu.EventType.ERROR,I=>{A||(A=!0,Ko(fn,`RPC '${e}' stream ${a} transport errored. Name:`,I.name,"Message:",I.message),N.u_(new ge(re.UNAVAILABLE,"The operation could not be completed")))}),U(E,Nu.EventType.MESSAGE,I=>{var Q;if(!A){const W=I.data[0];et(!!W,16349);const K=W,ae=(K==null?void 0:K.error)||((Q=K[0])===null||Q===void 0?void 0:Q.error);if(ae){pe(fn,`RPC '${e}' stream ${a} received error:`,ae);const ie=ae.status;let ce=function(R){const O=xt[R];if(O!==void 0)return hS(O)}(ie),M=ae.message;ce===void 0&&(ce=re.INTERNAL,M="Unknown error status: "+ie+" with message "+ae.message),A=!0,N.u_(new ge(ce,M)),E.close()}else pe(fn,`RPC '${e}' stream ${a} received:`,W),N.c_(W)}}),U(h,Mb.STAT_EVENT,I=>{I.stat===cg.PROXY?pe(fn,`RPC '${e}' stream ${a} detected buffering proxy`):I.stat===cg.NOPROXY&&pe(fn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{N.a_()},0),N}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function qm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(i){return new CO(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,t,n=1e3,a=1.5,o=6e4){this.xi=e,this.timerId=t,this.A_=n,this.R_=a,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),n=Math.max(0,Date.now()-this.g_),a=Math.max(0,t-n);a>0&&pe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="PersistentStream";class RS{constructor(e,t,n,a,o,c,h,p){this.xi=e,this.S_=n,this.D_=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new AS(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(Ci(t.toString()),Ci("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,a])=>{this.v_===t&&this.z_(n,a)},n=>{e(()=>{const a=new ge(re.UNKNOWN,"Fetching auth token failed: "+n.message);return this.j_(a)})})}z_(e,t){const n=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{n(()=>this.listener.e_())}),this.stream.n_(()=>{n(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{n(()=>this.j_(a))}),this.stream.onMessage(a=>{n(()=>++this.M_==1?this.J_(a):this.onNext(a))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return pe(bw,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(pe(bw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Dk extends RS{constructor(e,t,n,a,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,a,c),this.serializer=o}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=OO(this.serializer,e),n=function(o){if(!("targetChange"in o))return Oe.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Oe.min():c.readTime?zr(c.readTime):Oe.min()}(e);return this.listener.Y_(t,n)}Z_(e){const t={};t.database=wg(this.serializer),t.addTarget=function(o,c){let h;const p=c.target;if(h=mg(p)?{documents:xO(o,p)}:{query:PO(o,p).gt},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=mS(o,c.resumeToken);const g=vg(o,c.expectedCount);g!==null&&(h.expectedCount=g)}else if(c.snapshotVersion.compareTo(Oe.min())>0){h.readTime=Vh(o,c.snapshotVersion.toTimestamp());const g=vg(o,c.expectedCount);g!==null&&(h.expectedCount=g)}return h}(this.serializer,e);const n=LO(this.serializer,e);n&&(t.labels=n),this.Q_(t)}X_(e){const t={};t.database=wg(this.serializer),t.removeTarget=e,this.Q_(t)}}class Ak extends RS{constructor(e,t,n,a,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,a,c),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=NO(e.writeResults,e.commitTime),n=zr(e.commitTime);return this.listener.ra(n,t)}ia(){const e={};e.database=wg(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>kO(this.serializer,n))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{}class Ck extends Rk{constructor(e,t,n,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=a,this.sa=!1}oa(){if(this.sa)throw new ge(re.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,n,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.zo(e,_g(t,n),a,o,c)).catch(o=>{throw o.name==="FirebaseError"?(o.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ge(re.UNKNOWN,o.toString())})}Yo(e,t,n,a,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.Yo(e,_g(t,n),a,c,h,o)).catch(c=>{throw c.name==="FirebaseError"?(c.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ge(re.UNKNOWN,c.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class Ik{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ci(t),this.ua=!1):pe("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="RemoteStore";class Mk{constructor(e,t,n,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(c=>{n.enqueueAndForget(async()=>{Bs(this)&&(pe(Ns,"Restarting streams for network reachability change."),await async function(p){const g=ke(p);g.da.add(4),await hc(g),g.Va.set("Unknown"),g.da.delete(4),await dd(g)}(this))})}),this.Va=new Ik(n,a)}}async function dd(i){if(Bs(i))for(const e of i.Aa)await e(!0)}async function hc(i){for(const e of i.Aa)await e(!1)}function CS(i,e){const t=ke(i);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),py(t)?dy(t):pl(t).N_()&&hy(t,e))}function fy(i,e){const t=ke(i),n=pl(t);t.Ea.delete(e),n.N_()&&IS(t,e),t.Ea.size===0&&(n.N_()?n.k_():Bs(t)&&t.Va.set("Unknown"))}function hy(i,e){if(i.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}pl(i).Z_(e)}function IS(i,e){i.ma.Ke(e),pl(i).X_(e)}function dy(i){i.ma=new SO({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>i.Ea.get(e)||null,Pt:()=>i.datastore.serializer.databaseId}),pl(i).start(),i.Va.ca()}function py(i){return Bs(i)&&!pl(i).O_()&&i.Ea.size>0}function Bs(i){return ke(i).da.size===0}function MS(i){i.ma=void 0}async function Ok(i){i.Va.set("Online")}async function kk(i){i.Ea.forEach((e,t)=>{hy(i,e)})}async function Nk(i,e){MS(i),py(i)?(i.Va.Pa(e),dy(i)):i.Va.set("Unknown")}async function xk(i,e,t){if(i.Va.set("Online"),e instanceof pS&&e.state===2&&e.cause)try{await async function(a,o){const c=o.cause;for(const h of o.targetIds)a.Ea.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ea.delete(h),a.ma.removeTarget(h))}(i,e)}catch(n){pe(Ns,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Uh(i,n)}else if(e instanceof dh?i.ma.Xe(e):e instanceof dS?i.ma.ot(e):i.ma.nt(e),!t.isEqual(Oe.min()))try{const n=await DS(i.localStore);t.compareTo(n)>=0&&await function(o,c){const h=o.ma.It(c);return h.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=o.Ea.get(g);v&&o.Ea.set(g,v.withResumeToken(p.resumeToken,c))}}),h.targetMismatches.forEach((p,g)=>{const v=o.Ea.get(p);if(!v)return;o.Ea.set(p,v.withResumeToken(on.EMPTY_BYTE_STRING,v.snapshotVersion)),IS(o,p);const E=new pa(v.target,p,g,v.sequenceNumber);hy(o,E)}),o.remoteSyncer.applyRemoteEvent(h)}(i,t)}catch(n){pe(Ns,"Failed to raise snapshot:",n),await Uh(i,n)}}async function Uh(i,e,t){if(!dl(e))throw e;i.da.add(1),await hc(i),i.Va.set("Offline"),t||(t=()=>DS(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{pe(Ns,"Retrying IndexedDB access"),await t(),i.da.delete(1),await dd(i)})}function OS(i,e){return e().catch(t=>Uh(i,t,e))}async function pd(i){const e=ke(i),t=Ca(e);let n=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Xg;for(;Pk(e);)try{const a=await gk(e.localStore,n);if(a===null){e.Ia.length===0&&t.k_();break}n=a.batchId,Vk(e,a)}catch(a){await Uh(e,a)}kS(e)&&NS(e)}function Pk(i){return Bs(i)&&i.Ia.length<10}function Vk(i,e){i.Ia.push(e);const t=Ca(i);t.N_()&&t.ea&&t.ta(e.mutations)}function kS(i){return Bs(i)&&!Ca(i).O_()&&i.Ia.length>0}function NS(i){Ca(i).start()}async function Lk(i){Ca(i).ia()}async function Uk(i){const e=Ca(i);for(const t of i.Ia)e.ta(t.mutations)}async function Bk(i,e,t){const n=i.Ia.shift(),a=iy.from(n,e,t);await OS(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),await pd(i)}async function Hk(i,e){e&&Ca(i).ea&&await async function(n,a){if(function(c){return TO(c)&&c!==re.ABORTED}(a.code)){const o=n.Ia.shift();Ca(n).L_(),await OS(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,a)),await pd(n)}}(i,e),kS(i)&&NS(i)}async function Sw(i,e){const t=ke(i);t.asyncQueue.verifyOperationInProgress(),pe(Ns,"RemoteStore received new credentials");const n=Bs(t);t.da.add(3),await hc(t),n&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await dd(t)}async function zk(i,e){const t=ke(i);e?(t.da.delete(2),await dd(t)):e||(t.da.add(2),await hc(t),t.Va.set("Unknown"))}function pl(i){return i.fa||(i.fa=function(t,n,a){const o=ke(t);return o.oa(),new Dk(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(i.datastore,i.asyncQueue,{e_:Ok.bind(null,i),n_:kk.bind(null,i),i_:Nk.bind(null,i),Y_:xk.bind(null,i)}),i.Aa.push(async e=>{e?(i.fa.L_(),py(i)?dy(i):i.Va.set("Unknown")):(await i.fa.stop(),MS(i))})),i.fa}function Ca(i){return i.ga||(i.ga=function(t,n,a){const o=ke(t);return o.oa(),new Ak(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(i.datastore,i.asyncQueue,{e_:()=>Promise.resolve(),n_:Lk.bind(null,i),i_:Hk.bind(null,i),na:Uk.bind(null,i),ra:Bk.bind(null,i)}),i.Aa.push(async e=>{e?(i.ga.L_(),await pd(i)):(await i.ga.stop(),i.Ia.length>0&&(pe(Ns,`Stopping write stream with ${i.Ia.length} pending writes`),i.Ia=[]))})),i.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,t,n,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=a,this.removalCallback=o,this.deferred=new Ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,a,o){const c=Date.now()+n,h=new my(e,t,c,a,o);return h.start(n),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gy(i,e){if(Ci("AsyncQueue",`${e}: ${i}`),dl(i))return new ge(re.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{static emptySet(e){return new qo(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||_e.comparator(t.key,n.key):(t,n)=>_e.comparator(t.key,n.key),this.keyedMap=xu(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof qo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=n.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new qo;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(){this.pa=new _t(_e.comparator)}track(e){const t=e.doc.key,n=this.pa.get(t);n?e.type!==0&&n.type===3?this.pa=this.pa.insert(t,e):e.type===3&&n.type!==1?this.pa=this.pa.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.pa=this.pa.remove(t):e.type===1&&n.type===2?this.pa=this.pa.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Ae(63341,{Vt:e,ya:n}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,n)=>{e.push(n)}),e}}class Jo{constructor(e,t,n,a,o,c,h,p,g){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,n,a,o){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new Jo(e,t,qo.emptySet(t),c,n,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&od(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==n[a].type||!t[a].doc.isEqual(n[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class Fk{constructor(){this.queries=Aw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,n){const a=ke(t),o=a.queries;a.queries=Aw(),o.forEach((c,h)=>{for(const p of h.Sa)p.onError(n)})})(this,new ge(re.ABORTED,"Firestore shutting down"))}}function Aw(){return new Us(i=>eS(i),od)}async function qk(i,e){const t=ke(i);let n=3;const a=e.query;let o=t.queries.get(a);o?!o.Da()&&e.va()&&(n=2):(o=new Yk,n=e.va()?0:1);try{switch(n){case 0:o.ba=await t.onListen(a,!0);break;case 1:o.ba=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const h=gy(c,`Initialization of query '${Vo(e.query)}' failed`);return void e.onError(h)}t.queries.set(a,o),o.Sa.push(e),e.Fa(t.onlineState),o.ba&&e.Ma(o.ba)&&yy(t)}async function jk(i,e){const t=ke(i),n=e.query;let a=3;const o=t.queries.get(n);if(o){const c=o.Sa.indexOf(e);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?a=e.va()?0:1:!o.Da()&&e.va()&&(a=2))}switch(a){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function Gk(i,e){const t=ke(i);let n=!1;for(const a of e){const o=a.query,c=t.queries.get(o);if(c){for(const h of c.Sa)h.Ma(a)&&(n=!0);c.ba=a}}n&&yy(t)}function Qk(i,e,t){const n=ke(i),a=n.queries.get(e);if(a)for(const o of a.Sa)o.onError(t);n.queries.delete(e)}function yy(i){i.Ca.forEach(e=>{e.next()})}var Sg,Rw;(Rw=Sg||(Sg={})).xa="default",Rw.Cache="cache";class Kk{constructor(e,t,n){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=n||{}}Ma(e){if(!this.options.includeMetadataChanges){const n=[];for(const a of e.docChanges)a.type!==3&&n.push(a);e=new Jo(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const n=t!=="Offline";return(!this.options.Qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=Jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Sg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e){this.key=e}}class PS{constructor(e){this.key=e}}class Wk{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ye(),this.mutatedKeys=Ye(),this.Za=tS(e),this.Xa=new qo(this.Za)}get eu(){return this.Ha}tu(e,t){const n=t?t.nu:new Dw,a=t?t.Xa:this.Xa;let o=t?t.mutatedKeys:this.mutatedKeys,c=a,h=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((v,E)=>{const T=a.get(v),A=ld(this.query,E)?E:null,N=!!T&&this.mutatedKeys.has(T.key),U=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let I=!1;T&&A?T.data.isEqual(A.data)?N!==U&&(n.track({type:3,doc:A}),I=!0):this.ru(T,A)||(n.track({type:2,doc:A}),I=!0,(p&&this.Za(A,p)>0||g&&this.Za(A,g)<0)&&(h=!0)):!T&&A?(n.track({type:0,doc:A}),I=!0):T&&!A&&(n.track({type:1,doc:T}),I=!0,(p||g)&&(h=!0)),I&&(A?(c=c.add(A),o=U?o.add(v):o.delete(v)):(c=c.delete(v),o=o.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),o=o.delete(v.key),n.track({type:1,doc:v})}return{Xa:c,nu:n,Cs:h,mutatedKeys:o}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,a){const o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const c=e.nu.wa();c.sort((v,E)=>function(A,N){const U=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Vt:I})}};return U(A)-U(N)}(v.type,E.type)||this.Za(v.doc,E.doc)),this.iu(n),a=a!=null&&a;const h=t&&!a?this.su():[],p=this.Ya.size===0&&this.current&&!a?1:0,g=p!==this.Ja;return this.Ja=p,c.length!==0||g?{snapshot:new Jo(this.query,e.Xa,o,c,e.mutatedKeys,p===0,g,!1,!!n&&n.resumeToken.approximateByteSize()>0),ou:h}:{ou:h}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Dw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Ye(),this.Xa.forEach(n=>{this._u(n.key)&&(this.Ya=this.Ya.add(n.key))});const t=[];return e.forEach(n=>{this.Ya.has(n)||t.push(new PS(n))}),this.Ya.forEach(n=>{e.has(n)||t.push(new xS(n))}),t}au(e){this.Ha=e.$s,this.Ya=Ye();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return Jo.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const vy="SyncEngine";class Xk{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class $k{constructor(e){this.key=e,this.cu=!1}}class Zk{constructor(e,t,n,a,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.lu={},this.hu=new Us(h=>eS(h),od),this.Pu=new Map,this.Tu=new Set,this.Iu=new _t(_e.comparator),this.Eu=new Map,this.du=new oy,this.Au={},this.Ru=new Map,this.Vu=Zo.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function Jk(i,e,t=!0){const n=zS(i);let a;const o=n.hu.get(e);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.uu()):a=await VS(n,e,t,!0),a}async function eN(i,e){const t=zS(i);await VS(t,e,!0,!1)}async function VS(i,e,t,n){const a=await yk(i.localStore,Hr(e)),o=a.targetId,c=i.sharedClientState.addLocalQueryTarget(o,t);let h;return n&&(h=await tN(i,e,o,c==="current",a.resumeToken)),i.isPrimaryClient&&t&&CS(i.remoteStore,a),h}async function tN(i,e,t,n,a){i.fu=(E,T,A)=>async function(U,I,Q,W){let K=I.view.tu(Q);K.Cs&&(K=await _w(U.localStore,I.query,!1).then(({documents:M})=>I.view.tu(M,K)));const ae=W&&W.targetChanges.get(I.targetId),ie=W&&W.targetMismatches.get(I.targetId)!=null,ce=I.view.applyChanges(K,U.isPrimaryClient,ae,ie);return Iw(U,I.targetId,ce.ou),ce.snapshot}(i,E,T,A);const o=await _w(i.localStore,e,!0),c=new Wk(e,o.$s),h=c.tu(o.documents),p=fc.createSynthesizedTargetChangeForCurrentChange(t,n&&i.onlineState!=="Offline",a),g=c.applyChanges(h,i.isPrimaryClient,p);Iw(i,t,g.ou);const v=new Xk(e,t,c);return i.hu.set(e,v),i.Pu.has(t)?i.Pu.get(t).push(e):i.Pu.set(t,[e]),g.snapshot}async function nN(i,e,t){const n=ke(i),a=n.hu.get(e),o=n.Pu.get(a.targetId);if(o.length>1)return n.Pu.set(a.targetId,o.filter(c=>!od(c,e))),void n.hu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await Tg(n.localStore,a.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(a.targetId),t&&fy(n.remoteStore,a.targetId),Dg(n,a.targetId)}).catch(hl)):(Dg(n,a.targetId),await Tg(n.localStore,a.targetId,!0))}async function rN(i,e){const t=ke(i),n=t.hu.get(e),a=t.Pu.get(n.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),fy(t.remoteStore,n.targetId))}async function iN(i,e,t){const n=fN(i);try{const a=await function(c,h){const p=ke(c),g=zt.now(),v=h.reduce((A,N)=>A.add(N.key),Ye());let E,T;return p.persistence.runTransaction("Locally write mutations","readwrite",A=>{let N=Ii(),U=Ye();return p.Bs.getEntries(A,v).next(I=>{N=I,N.forEach((Q,W)=>{W.isValidDocument()||(U=U.add(Q))})}).next(()=>p.localDocuments.getOverlayedDocuments(A,N)).next(I=>{E=I;const Q=[];for(const W of h){const K=yO(W,E.get(W.key).overlayedDocument);K!=null&&Q.push(new Pa(W.key,K,Gb(K.value.mapValue),cr.exists(!0)))}return p.mutationQueue.addMutationBatch(A,g,Q,h)}).next(I=>{T=I;const Q=I.applyToLocalDocumentSet(E,U);return p.documentOverlayCache.saveOverlays(A,I.batchId,Q)})}).then(()=>({batchId:T.batchId,changes:rS(E)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(a.batchId),function(c,h,p){let g=c.Au[c.currentUser.toKey()];g||(g=new _t(Pe)),g=g.insert(h,p),c.Au[c.currentUser.toKey()]=g}(n,a.batchId,t),await dc(n,a.changes),await pd(n.remoteStore)}catch(a){const o=gy(a,"Failed to persist write");t.reject(o)}}async function LS(i,e){const t=ke(i);try{const n=await pk(t.localStore,e);e.targetChanges.forEach((a,o)=>{const c=t.Eu.get(o);c&&(et(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.cu=!0:a.modifiedDocuments.size>0?et(c.cu,14607):a.removedDocuments.size>0&&(et(c.cu,42227),c.cu=!1))}),await dc(t,n,e)}catch(n){await hl(n)}}function Cw(i,e,t){const n=ke(i);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const a=[];n.hu.forEach((o,c)=>{const h=c.view.Fa(e);h.snapshot&&a.push(h.snapshot)}),function(c,h){const p=ke(c);p.onlineState=h;let g=!1;p.queries.forEach((v,E)=>{for(const T of E.Sa)T.Fa(h)&&(g=!0)}),g&&yy(p)}(n.eventManager,e),a.length&&n.lu.Y_(a),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function aN(i,e,t){const n=ke(i);n.sharedClientState.updateQueryState(e,"rejected",t);const a=n.Eu.get(e),o=a&&a.key;if(o){let c=new _t(_e.comparator);c=c.insert(o,dn.newNoDocument(o,Oe.min()));const h=Ye().add(o),p=new fd(Oe.min(),new Map,new _t(Pe),c,h);await LS(n,p),n.Iu=n.Iu.remove(o),n.Eu.delete(e),_y(n)}else await Tg(n.localStore,e,!1).then(()=>Dg(n,e,t)).catch(hl)}async function sN(i,e){const t=ke(i),n=e.batch.batchId;try{const a=await dk(t.localStore,e);BS(t,n,null),US(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await dc(t,a)}catch(a){await hl(a)}}async function oN(i,e,t){const n=ke(i);try{const a=await function(c,h){const p=ke(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return p.mutationQueue.lookupMutationBatch(g,h).next(E=>(et(E!==null,37113),v=E.keys(),p.mutationQueue.removeMutationBatch(g,E))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,h)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>p.localDocuments.getDocuments(g,v))})}(n.localStore,e);BS(n,e,t),US(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await dc(n,a)}catch(a){await hl(a)}}function US(i,e){(i.Ru.get(e)||[]).forEach(t=>{t.resolve()}),i.Ru.delete(e)}function BS(i,e,t){const n=ke(i);let a=n.Au[n.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),n.Au[n.currentUser.toKey()]=a}}function Dg(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const n of i.Pu.get(e))i.hu.delete(n),t&&i.lu.gu(n,t);i.Pu.delete(e),i.isPrimaryClient&&i.du.Hr(e).forEach(n=>{i.du.containsKey(n)||HS(i,n)})}function HS(i,e){i.Tu.delete(e.path.canonicalString());const t=i.Iu.get(e);t!==null&&(fy(i.remoteStore,t),i.Iu=i.Iu.remove(e),i.Eu.delete(t),_y(i))}function Iw(i,e,t){for(const n of t)n instanceof xS?(i.du.addReference(n.key,e),lN(i,n)):n instanceof PS?(pe(vy,"Document no longer in limbo: "+n.key),i.du.removeReference(n.key,e),i.du.containsKey(n.key)||HS(i,n.key)):Ae(19791,{pu:n})}function lN(i,e){const t=e.key,n=t.path.canonicalString();i.Iu.get(t)||i.Tu.has(n)||(pe(vy,"New document in limbo: "+t),i.Tu.add(n),_y(i))}function _y(i){for(;i.Tu.size>0&&i.Iu.size<i.maxConcurrentLimboResolutions;){const e=i.Tu.values().next().value;i.Tu.delete(e);const t=new _e(dt.fromString(e)),n=i.Vu.next();i.Eu.set(n,new $k(t)),i.Iu=i.Iu.insert(t,n),CS(i.remoteStore,new pa(Hr(ty(t.path)),n,"TargetPurposeLimboResolution",id.le))}}async function dc(i,e,t){const n=ke(i),a=[],o=[],c=[];n.hu.isEmpty()||(n.hu.forEach((h,p)=>{c.push(n.fu(p,e,t).then(g=>{var v;if((g||t)&&n.isPrimaryClient){const E=g?!g.fromCache:(v=t==null?void 0:t.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;n.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){a.push(g);const E=uy.Rs(p.targetId,g);o.push(E)}}))}),await Promise.all(c),n.lu.Y_(a),await async function(p,g){const v=ke(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>ne.forEach(g,T=>ne.forEach(T.ds,A=>v.persistence.referenceDelegate.addReference(E,T.targetId,A)).next(()=>ne.forEach(T.As,A=>v.persistence.referenceDelegate.removeReference(E,T.targetId,A)))))}catch(E){if(!dl(E))throw E;pe(cy,"Failed to update sequence numbers: "+E)}for(const E of g){const T=E.targetId;if(!E.fromCache){const A=v.xs.get(T),N=A.snapshotVersion,U=A.withLastLimboFreeSnapshotVersion(N);v.xs=v.xs.insert(T,U)}}}(n.localStore,o))}async function uN(i,e){const t=ke(i);if(!t.currentUser.isEqual(e)){pe(vy,"User change. New user:",e.toKey());const n=await SS(t.localStore,e);t.currentUser=e,function(o,c){o.Ru.forEach(h=>{h.forEach(p=>{p.reject(new ge(re.CANCELLED,c))})}),o.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await dc(t,n.ks)}}function cN(i,e){const t=ke(i),n=t.Eu.get(e);if(n&&n.cu)return Ye().add(n.key);{let a=Ye();const o=t.Pu.get(e);if(!o)return a;for(const c of o){const h=t.hu.get(c);a=a.unionWith(h.view.eu)}return a}}function zS(i){const e=ke(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=LS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aN.bind(null,e),e.lu.Y_=Gk.bind(null,e.eventManager),e.lu.gu=Qk.bind(null,e.eventManager),e}function fN(i){const e=ke(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oN.bind(null,e),e}class Bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hd(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return hk(this.persistence,new uk,e.initialUser,this.serializer)}Su(e){return new bS(ly.fi,this.serializer)}bu(e){return new _k}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bh.provider={build:()=>new Bh};class hN extends Bh{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){et(this.persistence.referenceDelegate instanceof Lh,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new KO(n,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new bS(n=>Lh.fi(n,t),this.serializer)}}class Ag{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>Cw(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=uN.bind(null,this.syncEngine),await zk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Fk}()}createDatastore(e){const t=hd(e.databaseInfo.databaseId),n=function(o){return new Sk(o)}(e.databaseInfo);return function(o,c,h,p){return new Ck(o,c,h,p)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(n,a,o,c,h){return new Mk(n,a,o,c,h)}(this.localStore,this.datastore,e.asyncQueue,t=>Cw(this.syncEngine,t,0),function(){return Tw.C()?new Tw:new Ek}())}createSyncEngine(e,t){return function(a,o,c,h,p,g,v){const E=new Zk(a,o,c,h,p,g);return v&&(E.mu=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const o=ke(a);pe(Ns,"RemoteStore shutting down."),o.da.add(5),await hc(o),o.Ra.shutdown(),o.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Ag.provider={build:()=>new Ag};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Ci("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="FirestoreClient";class pN{constructor(e,t,n,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=a,this.user=hn.UNAUTHENTICATED,this.clientId=Vb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,async c=>{pe(Ia,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(n,c=>(pe(Ia,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=gy(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function jm(i,e){i.asyncQueue.verifyOperationInProgress(),pe(Ia,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let n=t.initialUser;i.setCredentialChangeListener(async a=>{n.isEqual(a)||(await SS(e.localStore,a),n=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function Mw(i,e){i.asyncQueue.verifyOperationInProgress();const t=await mN(i);pe(Ia,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(n=>Sw(e.remoteStore,n)),i.setAppCheckTokenChangeListener((n,a)=>Sw(e.remoteStore,a)),i._onlineComponents=e}async function mN(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){pe(Ia,"Using user provided OfflineComponentProvider");try{await jm(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===re.FAILED_PRECONDITION||a.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Ko("Error using user provided cache. Falling back to memory cache: "+t),await jm(i,new Bh)}}else pe(Ia,"Using default OfflineComponentProvider"),await jm(i,new hN(void 0));return i._offlineComponents}async function YS(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(pe(Ia,"Using user provided OnlineComponentProvider"),await Mw(i,i._uninitializedComponentsProvider._online)):(pe(Ia,"Using default OnlineComponentProvider"),await Mw(i,new Ag))),i._onlineComponents}function gN(i){return YS(i).then(e=>e.syncEngine)}async function Ow(i){const e=await YS(i),t=e.eventManager;return t.onListen=Jk.bind(null,e.syncEngine),t.onUnlisten=nN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=eN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=rN.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(i,e,t){if(!t)throw new ge(re.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function yN(i,e,t,n){if(e===!0&&n===!0)throw new ge(re.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Nw(i){if(!_e.isDocumentKey(i))throw new ge(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function xw(i){if(_e.isDocumentKey(i))throw new ge(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function md(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ae(12329,{type:typeof i})}function Ea(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ge(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=md(i);throw new ge(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS="firestore.googleapis.com",Pw=!0;class Vw{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jS,this.ssl=Pw}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Pw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=TS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<GO)throw new ge(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FS((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ge(re.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ge(re.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ge(re.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,a){return n.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gd{constructor(e,t,n,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new bM;switch(n.type){case"firstParty":return new RM(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ge(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=kw.get(t);n&&(pe("ComponentProvider","Removing Datastore"),kw.delete(t),n.terminate())}(this),Promise.resolve()}}function vN(i,e,t,n={}){var a;i=Ea(i,gd);const o=nc(e),c=i._getSettings(),h=Object.assign(Object.assign({},c),{emulatorOptions:i._getEmulatorOptions()}),p=`${e}:${t}`;o&&(BT(`https://${p}`),HT("Firestore",!0)),c.host!==jS&&c.host!==p&&Ko("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},c),{host:p,ssl:o,emulatorOptions:n});if(!Cs(g,h)&&(i._setSettings(g),n.mockUserToken)){let v,E;if(typeof n.mockUserToken=="string")v=n.mockUserToken,E=hn.MOCK_USER;else{v=N1(n.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const T=n.mockUserToken.sub||n.mockUserToken.user_id;if(!T)throw new ge(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new hn(T)}i._authCredentials=new SM(new xb(v,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ml(this.firestore,e,this._query)}}class Rn{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rn(this.firestore,e,this._key)}}class wa extends ml{constructor(e,t,n){super(e,t,ty(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rn(this.firestore,null,new _e(e))}withConverter(e){return new wa(this.firestore,e,this._path)}}function Lw(i,e,...t){if(i=Ft(i),qS("collection","path",e),i instanceof gd){const n=dt.fromString(e,...t);return xw(n),new wa(i,null,n)}{if(!(i instanceof Rn||i instanceof wa))throw new ge(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=i._path.child(dt.fromString(e,...t));return xw(n),new wa(i.firestore,null,n)}}function Rg(i,e,...t){if(i=Ft(i),arguments.length===1&&(e=Vb.newId()),qS("doc","path",e),i instanceof gd){const n=dt.fromString(e,...t);return Nw(n),new Rn(i,null,new _e(n))}{if(!(i instanceof Rn||i instanceof wa))throw new ge(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=i._path.child(dt.fromString(e,...t));return Nw(n),new Rn(i.firestore,i instanceof wa?i.converter:null,new _e(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="AsyncQueue";class Bw{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new AS(this,"async_queue_retry"),this.rc=()=>{const n=qm();n&&pe(Uw,"Visibility state changed to "+n.visibilityState),this.x_.b_()},this.sc=e;const t=qm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=qm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new Ss;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!dl(e))throw e;pe(Uw,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(n=>{throw this.Xu=n,this.ec=!1,Ci("INTERNAL UNHANDLED ERROR: ",Hw(n)),n}).then(n=>(this.ec=!1,n))));return this.sc=t,t}enqueueAfterDelay(e,t,n){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const a=my.createAndSchedule(this,e,t,n,o=>this.uc(o));return this.Zu.push(a),a}oc(){this.Xu&&Ae(47125,{cc:Hw(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function Hw(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(i){return function(t,n){if(typeof t!="object"||t===null)return!1;const a=t;for(const o of n)if(o in a&&typeof a[o]=="function")return!0;return!1}(i,["next","error","complete"])}class el extends gd{constructor(e,t,n,a){super(e,t,n,a),this.type="firestore",this._queue=new Bw,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Bw(e),this._firestoreClient=void 0,await e}}}function _N(i,e){const t=typeof i=="object"?i:qT(),n=typeof i=="string"?i:Mh,a=Bg(t,"firestore").getImmediate({identifier:n});if(!a._initialized){const o=O1("firestore");o&&vN(a,...o)}return a}function GS(i){if(i._terminated)throw new ge(re.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||EN(i),i._firestoreClient}function EN(i){var e,t,n;const a=i._freezeSettings(),o=function(h,p,g,v){return new YM(h,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,FS(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=a.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new pN(i._authCredentials,i._appCheckCredentials,i._queue,o,i._componentsProvider&&function(h){const p=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new tl(on.fromBase64String(e))}catch(t){throw new ge(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new tl(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,a){if(n.length!==a.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==a[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=/^__.*__$/;class TN{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new Pa(e,this.data,this.fieldMask,t,this.fieldTransforms):new cc(e,this.data,t,this.fieldTransforms)}}class QS{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Pa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function KS(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ic:i})}}class by{constructor(e,t,n,a,o,c){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=a,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new by(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.dc({path:n,Rc:!1});return a.Vc(e),a}mc(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.dc({path:n,Rc:!1});return a.Ec(),a}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Hh(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(KS(this.Ic)&&wN.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class bN{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||hd(e)}bc(e,t,n,a=!1){return new by({Ic:e,methodName:t,wc:n,path:an.emptyPath(),Rc:!1,yc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sy(i){const e=i._freezeSettings(),t=hd(i._databaseId);return new bN(i._databaseId,!!e.ignoreUndefinedProperties,t)}function SN(i,e,t,n,a,o={}){const c=i.bc(o.merge||o.mergeFields?2:0,e,t,a);Dy("Data must be an object, but it was:",c,n);const h=WS(n,c);let p,g;if(o.merge)p=new Ln(c.fieldMask),g=c.fieldTransforms;else if(o.mergeFields){const v=[];for(const E of o.mergeFields){const T=Cg(e,E,t);if(!c.contains(T))throw new ge(re.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);$S(v,T)||v.push(T)}p=new Ln(v),g=c.fieldTransforms.filter(E=>p.covers(E.field))}else p=null,g=c.fieldTransforms;return new TN(new An(h),p,g)}class vd extends Ey{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vd}}function DN(i,e,t,n){const a=i.bc(1,e,t);Dy("Data must be an object, but it was:",a,n);const o=[],c=An.empty();xa(n,(p,g)=>{const v=Ay(e,p,t);g=Ft(g);const E=a.mc(v);if(g instanceof vd)o.push(v);else{const T=pc(g,E);T!=null&&(o.push(v),c.set(v,T))}});const h=new Ln(o);return new QS(c,h,a.fieldTransforms)}function AN(i,e,t,n,a,o){const c=i.bc(1,e,t),h=[Cg(e,n,t)],p=[a];if(o.length%2!=0)throw new ge(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<o.length;T+=2)h.push(Cg(e,o[T])),p.push(o[T+1]);const g=[],v=An.empty();for(let T=h.length-1;T>=0;--T)if(!$S(g,h[T])){const A=h[T];let N=p[T];N=Ft(N);const U=c.mc(A);if(N instanceof vd)g.push(A);else{const I=pc(N,U);I!=null&&(g.push(A),v.set(A,I))}}const E=new Ln(g);return new QS(v,E,c.fieldTransforms)}function RN(i,e,t,n=!1){return pc(t,i.bc(n?4:3,e))}function pc(i,e){if(XS(i=Ft(i)))return Dy("Unsupported field value:",e,i),WS(i,e);if(i instanceof Ey)return function(n,a){if(!KS(a.Ic))throw a.gc(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.gc(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(a);o&&a.fieldTransforms.push(o)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(n,a){const o=[];let c=0;for(const h of n){let p=pc(h,a.fc(c));p==null&&(p={nullValue:"NULL_VALUE"}),o.push(p),c++}return{arrayValue:{values:o}}}(i,e)}return function(n,a){if((n=Ft(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return fO(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=zt.fromDate(n);return{timestampValue:Vh(a.serializer,o)}}if(n instanceof zt){const o=new zt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Vh(a.serializer,o)}}if(n instanceof wy)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof tl)return{bytesValue:mS(a.serializer,n._byteString)};if(n instanceof Rn){const o=a.databaseId,c=n.firestore._databaseId;if(!c.isEqual(o))throw a.gc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:sy(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof Ty)return function(c,h){return{mapValue:{fields:{[qb]:{stringValue:jb},[Oh]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw h.gc("VectorValues must only contain numeric values.");return ny(h.serializer,g)})}}}}}}(n,a);throw a.gc(`Unsupported field value: ${md(n)}`)}(i,e)}function WS(i,e){const t={};return Ub(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xa(i,(n,a)=>{const o=pc(a,e.Ac(n));o!=null&&(t[n]=o)}),{mapValue:{fields:t}}}function XS(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof zt||i instanceof wy||i instanceof tl||i instanceof Rn||i instanceof Ey||i instanceof Ty)}function Dy(i,e,t){if(!XS(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const n=md(t);throw n==="an object"?e.gc(i+" a custom object"):e.gc(i+" "+n)}}function Cg(i,e,t){if((e=Ft(e))instanceof yd)return e._internalPath;if(typeof e=="string")return Ay(i,e);throw Hh("Field path arguments must be of type string or ",i,!1,void 0,t)}const CN=new RegExp("[~\\*/\\[\\]]");function Ay(i,e,t){if(e.search(CN)>=0)throw Hh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new yd(...e.split("."))._internalPath}catch{throw Hh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Hh(i,e,t,n,a){const o=n&&!n.isEmpty(),c=a!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(o||c)&&(p+=" (found",o&&(p+=` in field ${n}`),c&&(p+=` in document ${a}`),p+=")"),new ge(re.INVALID_ARGUMENT,h+i+p)}function $S(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e,t,n,a,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new IN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ry("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class IN extends ZS{data(){return super.data()}}function Ry(i,e){return typeof e=="string"?Ay(i,e):e instanceof yd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ge(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cy{}class ON extends Cy{}function kN(i,e,...t){let n=[];e instanceof Cy&&n.push(e),n=n.concat(t),function(o){const c=o.filter(p=>p instanceof Iy).length,h=o.filter(p=>p instanceof _d).length;if(c>1||c>0&&h>0)throw new ge(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)i=a._apply(i);return i}class _d extends ON{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new _d(e,t,n)}_apply(e){const t=this._parse(e);return JS(e._query,t),new ml(e.firestore,e.converter,gg(e._query,t))}_parse(e){const t=Sy(e.firestore);return function(o,c,h,p,g,v,E){let T;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ge(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){qw(E,v);const N=[];for(const U of E)N.push(Fw(p,o,U));T={arrayValue:{values:N}}}else T=Fw(p,o,E)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||qw(E,v),T=RN(h,c,E,v==="in"||v==="not-in");return Pt.create(g,v,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Yw(i,e,t){const n=e,a=Ry("where",i);return _d._create(a,n,t)}class Iy extends Cy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Iy(e,t)}_parse(e){const t=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return t.length===1?t[0]:dr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,o){let c=a;const h=o.getFlattenedFilters();for(const p of h)JS(c,p),c=gg(c,p)}(e._query,t),new ml(e.firestore,e.converter,gg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Fw(i,e,t){if(typeof(t=Ft(t))=="string"){if(t==="")throw new ge(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Jb(e)&&t.indexOf("/")!==-1)throw new ge(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(dt.fromString(t));if(!_e.isDocumentKey(n))throw new ge(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return ew(i,new _e(n))}if(t instanceof Rn)return ew(i,t._key);throw new ge(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${md(t)}.`)}function qw(i,e){if(!Array.isArray(i)||i.length===0)throw new ge(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JS(i,e){const t=function(a,o){for(const c of a)for(const h of c.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(i.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ge(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class NN{convertValue(e,t="none"){switch(Ra(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Aa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return xa(e,(a,o)=>{n[a]=this.convertValue(o,t)}),n}convertVectorValue(e){var t,n,a;const o=(a=(n=(t=e.fields)===null||t===void 0?void 0:t[Oh].arrayValue)===null||n===void 0?void 0:n.values)===null||a===void 0?void 0:a.map(c=>Rt(c.doubleValue));return new Ty(o)}convertGeoPoint(e){return new wy(Rt(e.latitude),Rt(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=sd(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Wu(e));default:return null}}convertTimestamp(e){const t=Da(e);return new zt(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=dt.fromString(e);et(wS(n),9688,{name:e});const a=new Xu(n.get(1),n.get(3)),o=new _e(n.popFirst(5));return a.isEqual(t)||Ci(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(i,e,t){let n;return n=i?i.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eD extends ZS{constructor(e,t,n,a,o,c){super(e,t,n,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ph(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Ry("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class ph extends eD{data(e={}){return super.data(e)}}class PN{constructor(e,t,n,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Vu(a.hasPendingWrites,a.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new ph(this._firestore,this._userDataWriter,n.key,n,new Vu(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(h=>{const p=new ph(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Vu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const p=new ph(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Vu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return h.type!==0&&(g=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),v=c.indexOf(h.doc.key)),{type:VN(h.type),doc:p,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function VN(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:i})}}class tD extends NN{constructor(e){super(),this.firestore=e}convertBytes(e){return new tl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,t)}}function jw(i,e,t,...n){i=Ea(i,Rn);const a=Ea(i.firestore,el),o=Sy(a);let c;return c=typeof(e=Ft(e))=="string"||e instanceof yd?AN(o,"updateDoc",i._key,e,t,n):DN(o,"updateDoc",i._key,e),My(a,[c.toMutation(i._key,cr.exists(!0))])}function LN(i){return My(Ea(i.firestore,el),[new ry(i._key,cr.none())])}function UN(i,e){const t=Ea(i.firestore,el),n=Rg(i),a=xN(i.converter,e);return My(t,[SN(Sy(i.firestore),"addDoc",n._key,a,i.converter!==null,{}).toMutation(n._key,cr.exists(!1))]).then(()=>n)}function BN(i,...e){var t,n,a;i=Ft(i);let o={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||zw(e[c])||(o=e[c],c++);const h={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(zw(e[c])){const E=e[c];e[c]=(t=E.next)===null||t===void 0?void 0:t.bind(E),e[c+1]=(n=E.error)===null||n===void 0?void 0:n.bind(E),e[c+2]=(a=E.complete)===null||a===void 0?void 0:a.bind(E)}let p,g,v;if(i instanceof Rn)g=Ea(i.firestore,el),v=ty(i._key.path),p={next:E=>{e[c]&&e[c](HN(g,i,E))},error:e[c+1],complete:e[c+2]};else{const E=Ea(i,ml);g=Ea(E.firestore,el),v=E._query;const T=new tD(g);p={next:A=>{e[c]&&e[c](new PN(g,T,E,A))},error:e[c+1],complete:e[c+2]},MN(i._query)}return function(T,A,N,U){const I=new dN(U),Q=new Kk(A,I,N);return T.asyncQueue.enqueueAndForget(async()=>qk(await Ow(T),Q)),()=>{I.xu(),T.asyncQueue.enqueueAndForget(async()=>jk(await Ow(T),Q))}}(GS(g),v,h,p)}function My(i,e){return function(n,a){const o=new Ss;return n.asyncQueue.enqueueAndForget(async()=>iN(await gN(n),a,o)),o.promise}(GS(i),e)}function HN(i,e,t){const n=t.docs.get(e._key),a=new tD(i);return new eD(i,a,e._key,n,new Vu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){fl=a})(ul),Qo(new Is("firestore",(n,{instanceIdentifier:a,options:o})=>{const c=n.getProvider("app").getImmediate(),h=new el(new DM(n.getProvider("auth-internal")),new CM(c,n.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ge(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xu(g.options.projectId,v)}(c,a),c);return o=Object.assign({useFetchStreams:t},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),va(YE,FE,e),va(YE,FE,"esm2017")})();const zN={apiKey:"AIzaSyDb8U7YtetZuUdAa1Uxa8_a0OSxCA6rlyo",authDomain:"react-to-do-app-fbda1.firebaseapp.com",projectId:"react-to-do-app-fbda1",storageBucket:"react-to-do-app-fbda1.firebasestorage.app",messagingSenderId:"982911359523",appId:"1:982911359523:web:8a50588084594aab7def96"},nD=FT(zN),Xf=wM(nD),$f=_N(nD);function rD(i){var e,t,n="";if(typeof i=="string"||typeof i=="number")n+=i;else if(typeof i=="object")if(Array.isArray(i)){var a=i.length;for(e=0;e<a;e++)i[e]&&(t=rD(i[e]))&&(n&&(n+=" "),n+=t)}else for(t in i)i[t]&&(n&&(n+=" "),n+=t);return n}function sn(){for(var i,e,t=0,n="",a=arguments.length;t<a;t++)(i=arguments[t])&&(e=rD(i))&&(n&&(n+=" "),n+=e);return n}const iD=6048e5,YN=864e5,Ed=6e4,wd=36e5,FN=1e3,Gw=Symbol.for("constructDateFrom");function at(i,e){return typeof i=="function"?i(e):i&&typeof i=="object"&&Gw in i?i[Gw](e):i instanceof Date?new i.constructor(e):new Date(e)}function ye(i,e){return at(e||i,i)}function fr(i,e,t){const n=ye(i,t==null?void 0:t.in);return isNaN(e)?at((t==null?void 0:t.in)||i,NaN):(e&&n.setDate(n.getDate()+e),n)}function pr(i,e,t){const n=ye(i,t==null?void 0:t.in);if(isNaN(e))return at(i,NaN);if(!e)return n;const a=n.getDate(),o=at(i,n.getTime());o.setMonth(n.getMonth()+e+1,0);const c=o.getDate();return a>=c?o:(n.setFullYear(o.getFullYear(),o.getMonth(),a),n)}function aD(i,e,t){return at(i,+ye(i)+e)}function qN(i,e,t){return aD(i,e*wd)}let jN={};function Hs(){return jN}function Mi(i,e){var h,p,g,v;const t=Hs(),n=(e==null?void 0:e.weekStartsOn)??((p=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??t.weekStartsOn??((v=(g=t.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??0,a=ye(i,e==null?void 0:e.in),o=a.getDay(),c=(o<n?7:0)+o-n;return a.setDate(a.getDate()-c),a.setHours(0,0,0,0),a}function nl(i,e){return Mi(i,{...e,weekStartsOn:1})}function sD(i,e){const t=ye(i,e==null?void 0:e.in),n=t.getFullYear(),a=at(t,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const o=nl(a),c=at(t,0);c.setFullYear(n,0,4),c.setHours(0,0,0,0);const h=nl(c);return t.getTime()>=o.getTime()?n+1:t.getTime()>=h.getTime()?n:n-1}function zh(i){const e=ye(i),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+i-+t}function ki(i,...e){const t=at.bind(null,e.find(n=>typeof n=="object"));return e.map(t)}function xs(i,e){const t=ye(i,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function rl(i,e,t){const[n,a]=ki(t==null?void 0:t.in,i,e),o=xs(n),c=xs(a),h=+o-zh(o),p=+c-zh(c);return Math.round((h-p)/YN)}function GN(i,e){const t=sD(i,e),n=at(i,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),nl(n)}function Ig(i,e,t){const n=ye(i,t==null?void 0:t.in);return n.setTime(n.getTime()+e*Ed),n}function Oy(i,e,t){return pr(i,e*3,t)}function QN(i,e,t){return aD(i,e*1e3)}function Yh(i,e,t){return fr(i,e*7,t)}function wi(i,e,t){return pr(i,e*12,t)}function Qw(i,e){let t,n=e==null?void 0:e.in;return i.forEach(a=>{!n&&typeof a=="object"&&(n=at.bind(null,a));const o=ye(a,n);(!t||t<o||isNaN(+o))&&(t=o)}),at(n,t||NaN)}function Kw(i,e){let t,n=e==null?void 0:e.in;return i.forEach(a=>{!n&&typeof a=="object"&&(n=at.bind(null,a));const o=ye(a,n);(!t||t>o||isNaN(+o))&&(t=o)}),at(n,t||NaN)}function KN(i,e,t){const[n,a]=ki(t==null?void 0:t.in,i,e);return+xs(n)==+xs(a)}function Ti(i){return i instanceof Date||typeof i=="object"&&Object.prototype.toString.call(i)==="[object Date]"}function Fh(i){return!(!Ti(i)&&typeof i!="number"||isNaN(+ye(i)))}function qh(i,e,t){const[n,a]=ki(t==null?void 0:t.in,i,e),o=n.getFullYear()-a.getFullYear(),c=n.getMonth()-a.getMonth();return o*12+c}function Ds(i,e){const t=ye(i,e==null?void 0:e.in);return Math.trunc(t.getMonth()/3)+1}function jh(i,e,t){const[n,a]=ki(t==null?void 0:t.in,i,e),o=n.getFullYear()-a.getFullYear(),c=Ds(n)-Ds(a);return o*4+c}function Gh(i,e,t){const[n,a]=ki(t==null?void 0:t.in,i,e);return n.getFullYear()-a.getFullYear()}function WN(i,e,t){const[n,a]=ki(t==null?void 0:t.in,i,e),o=Ww(n,a),c=Math.abs(rl(n,a));n.setDate(n.getDate()-o*c);const h=+(Ww(n,a)===-o),p=o*(c-h);return p===0?0:p}function Ww(i,e){const t=i.getFullYear()-e.getFullYear()||i.getMonth()-e.getMonth()||i.getDate()-e.getDate()||i.getHours()-e.getHours()||i.getMinutes()-e.getMinutes()||i.getSeconds()-e.getSeconds()||i.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function oD(i,e){const t=ye(i,e==null?void 0:e.in);return t.setHours(23,59,59,999),t}function lD(i,e){const t=ye(i,e==null?void 0:e.in),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Mg(i,e){const t=ye(i,e==null?void 0:e.in),n=t.getMonth(),a=n-n%3;return t.setMonth(a,1),t.setHours(0,0,0,0),t}function uD(i,e){const t=ye(i,e==null?void 0:e.in);return t.setDate(1),t.setHours(0,0,0,0),t}function cD(i,e){const t=ye(i,e==null?void 0:e.in),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function Td(i,e){const t=ye(i,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function XN(i,e){var h,p;const t=Hs(),n=t.weekStartsOn??((p=(h=t.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,a=ye(i,e==null?void 0:e.in),o=a.getDay(),c=(o<n?-7:0)+6-(o-n);return a.setDate(a.getDate()+c),a.setHours(23,59,59,999),a}const $N={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ZN=(i,e,t)=>{let n;const a=$N[i];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function Gm(i){return(e={})=>{const t=e.width?String(e.width):i.defaultWidth;return i.formats[t]||i.formats[i.defaultWidth]}}const JN={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},e2={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},t2={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},n2={date:Gm({formats:JN,defaultWidth:"full"}),time:Gm({formats:e2,defaultWidth:"full"}),dateTime:Gm({formats:t2,defaultWidth:"full"})},r2={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},i2=(i,e,t,n)=>r2[i];function Ru(i){return(e,t)=>{const n=t!=null&&t.context?String(t.context):"standalone";let a;if(n==="formatting"&&i.formattingValues){const c=i.defaultFormattingWidth||i.defaultWidth,h=t!=null&&t.width?String(t.width):c;a=i.formattingValues[h]||i.formattingValues[c]}else{const c=i.defaultWidth,h=t!=null&&t.width?String(t.width):i.defaultWidth;a=i.values[h]||i.values[c]}const o=i.argumentCallback?i.argumentCallback(e):e;return a[o]}}const a2={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},s2={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},o2={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},l2={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},u2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},c2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},f2=(i,e)=>{const t=Number(i),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},h2={ordinalNumber:f2,era:Ru({values:a2,defaultWidth:"wide"}),quarter:Ru({values:s2,defaultWidth:"wide",argumentCallback:i=>i-1}),month:Ru({values:o2,defaultWidth:"wide"}),day:Ru({values:l2,defaultWidth:"wide"}),dayPeriod:Ru({values:u2,defaultWidth:"wide",formattingValues:c2,defaultFormattingWidth:"wide"})};function Cu(i){return(e,t={})=>{const n=t.width,a=n&&i.matchPatterns[n]||i.matchPatterns[i.defaultMatchWidth],o=e.match(a);if(!o)return null;const c=o[0],h=n&&i.parsePatterns[n]||i.parsePatterns[i.defaultParseWidth],p=Array.isArray(h)?p2(h,E=>E.test(c)):d2(h,E=>E.test(c));let g;g=i.valueCallback?i.valueCallback(p):p,g=t.valueCallback?t.valueCallback(g):g;const v=e.slice(c.length);return{value:g,rest:v}}}function d2(i,e){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t)&&e(i[t]))return t}function p2(i,e){for(let t=0;t<i.length;t++)if(e(i[t]))return t}function m2(i){return(e,t={})=>{const n=e.match(i.matchPattern);if(!n)return null;const a=n[0],o=e.match(i.parsePattern);if(!o)return null;let c=i.valueCallback?i.valueCallback(o[0]):o[0];c=t.valueCallback?t.valueCallback(c):c;const h=e.slice(a.length);return{value:c,rest:h}}}const g2=/^(\d+)(th|st|nd|rd)?/i,y2=/\d+/i,v2={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_2={any:[/^b/i,/^(a|c)/i]},E2={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},w2={any:[/1/i,/2/i,/3/i,/4/i]},T2={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},b2={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},S2={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},D2={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},A2={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},R2={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},C2={ordinalNumber:m2({matchPattern:g2,parsePattern:y2,valueCallback:i=>parseInt(i,10)}),era:Cu({matchPatterns:v2,defaultMatchWidth:"wide",parsePatterns:_2,defaultParseWidth:"any"}),quarter:Cu({matchPatterns:E2,defaultMatchWidth:"wide",parsePatterns:w2,defaultParseWidth:"any",valueCallback:i=>i+1}),month:Cu({matchPatterns:T2,defaultMatchWidth:"wide",parsePatterns:b2,defaultParseWidth:"any"}),day:Cu({matchPatterns:S2,defaultMatchWidth:"wide",parsePatterns:D2,defaultParseWidth:"any"}),dayPeriod:Cu({matchPatterns:A2,defaultMatchWidth:"any",parsePatterns:R2,defaultParseWidth:"any"})},fD={code:"en-US",formatDistance:ZN,formatLong:n2,formatRelative:i2,localize:h2,match:C2,options:{weekStartsOn:0,firstWeekContainsDate:1}};function I2(i,e){const t=ye(i,e==null?void 0:e.in);return rl(t,Td(t))+1}function ky(i,e){const t=ye(i,e==null?void 0:e.in),n=+nl(t)-+GN(t);return Math.round(n/iD)+1}function Ny(i,e){var v,E,T,A;const t=ye(i,e==null?void 0:e.in),n=t.getFullYear(),a=Hs(),o=(e==null?void 0:e.firstWeekContainsDate)??((E=(v=e==null?void 0:e.locale)==null?void 0:v.options)==null?void 0:E.firstWeekContainsDate)??a.firstWeekContainsDate??((A=(T=a.locale)==null?void 0:T.options)==null?void 0:A.firstWeekContainsDate)??1,c=at((e==null?void 0:e.in)||i,0);c.setFullYear(n+1,0,o),c.setHours(0,0,0,0);const h=Mi(c,e),p=at((e==null?void 0:e.in)||i,0);p.setFullYear(n,0,o),p.setHours(0,0,0,0);const g=Mi(p,e);return+t>=+h?n+1:+t>=+g?n:n-1}function M2(i,e){var h,p,g,v;const t=Hs(),n=(e==null?void 0:e.firstWeekContainsDate)??((p=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??t.firstWeekContainsDate??((v=(g=t.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??1,a=Ny(i,e),o=at((e==null?void 0:e.in)||i,0);return o.setFullYear(a,0,n),o.setHours(0,0,0,0),Mi(o,e)}function hD(i,e){const t=ye(i,e==null?void 0:e.in),n=+Mi(t,e)-+M2(t,e);return Math.round(n/iD)+1}function it(i,e){const t=i<0?"-":"",n=Math.abs(i).toString().padStart(e,"0");return t+n}const ua={y(i,e){const t=i.getFullYear(),n=t>0?t:1-t;return it(e==="yy"?n%100:n,e.length)},M(i,e){const t=i.getMonth();return e==="M"?String(t+1):it(t+1,2)},d(i,e){return it(i.getDate(),e.length)},a(i,e){const t=i.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(i,e){return it(i.getHours()%12||12,e.length)},H(i,e){return it(i.getHours(),e.length)},m(i,e){return it(i.getMinutes(),e.length)},s(i,e){return it(i.getSeconds(),e.length)},S(i,e){const t=e.length,n=i.getMilliseconds(),a=Math.trunc(n*Math.pow(10,t-3));return it(a,e.length)}},xo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Xw={G:function(i,e,t){const n=i.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(i,e,t){if(e==="yo"){const n=i.getFullYear(),a=n>0?n:1-n;return t.ordinalNumber(a,{unit:"year"})}return ua.y(i,e)},Y:function(i,e,t,n){const a=Ny(i,n),o=a>0?a:1-a;if(e==="YY"){const c=o%100;return it(c,2)}return e==="Yo"?t.ordinalNumber(o,{unit:"year"}):it(o,e.length)},R:function(i,e){const t=sD(i);return it(t,e.length)},u:function(i,e){const t=i.getFullYear();return it(t,e.length)},Q:function(i,e,t){const n=Math.ceil((i.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return it(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(i,e,t){const n=Math.ceil((i.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return it(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(i,e,t){const n=i.getMonth();switch(e){case"M":case"MM":return ua.M(i,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(i,e,t){const n=i.getMonth();switch(e){case"L":return String(n+1);case"LL":return it(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(i,e,t,n){const a=hD(i,n);return e==="wo"?t.ordinalNumber(a,{unit:"week"}):it(a,e.length)},I:function(i,e,t){const n=ky(i);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):it(n,e.length)},d:function(i,e,t){return e==="do"?t.ordinalNumber(i.getDate(),{unit:"date"}):ua.d(i,e)},D:function(i,e,t){const n=I2(i);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):it(n,e.length)},E:function(i,e,t){const n=i.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(i,e,t,n){const a=i.getDay(),o=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return it(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(a,{width:"short",context:"formatting"});case"eeee":default:return t.day(a,{width:"wide",context:"formatting"})}},c:function(i,e,t,n){const a=i.getDay(),o=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return it(o,e.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(a,{width:"narrow",context:"standalone"});case"cccccc":return t.day(a,{width:"short",context:"standalone"});case"cccc":default:return t.day(a,{width:"wide",context:"standalone"})}},i:function(i,e,t){const n=i.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return it(a,e.length);case"io":return t.ordinalNumber(a,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(i,e,t){const a=i.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(i,e,t){const n=i.getHours();let a;switch(n===12?a=xo.noon:n===0?a=xo.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(i,e,t){const n=i.getHours();let a;switch(n>=17?a=xo.evening:n>=12?a=xo.afternoon:n>=4?a=xo.morning:a=xo.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(i,e,t){if(e==="ho"){let n=i.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return ua.h(i,e)},H:function(i,e,t){return e==="Ho"?t.ordinalNumber(i.getHours(),{unit:"hour"}):ua.H(i,e)},K:function(i,e,t){const n=i.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):it(n,e.length)},k:function(i,e,t){let n=i.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):it(n,e.length)},m:function(i,e,t){return e==="mo"?t.ordinalNumber(i.getMinutes(),{unit:"minute"}):ua.m(i,e)},s:function(i,e,t){return e==="so"?t.ordinalNumber(i.getSeconds(),{unit:"second"}):ua.s(i,e)},S:function(i,e){return ua.S(i,e)},X:function(i,e,t){const n=i.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return Zw(n);case"XXXX":case"XX":return Es(n);case"XXXXX":case"XXX":default:return Es(n,":")}},x:function(i,e,t){const n=i.getTimezoneOffset();switch(e){case"x":return Zw(n);case"xxxx":case"xx":return Es(n);case"xxxxx":case"xxx":default:return Es(n,":")}},O:function(i,e,t){const n=i.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+$w(n,":");case"OOOO":default:return"GMT"+Es(n,":")}},z:function(i,e,t){const n=i.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+$w(n,":");case"zzzz":default:return"GMT"+Es(n,":")}},t:function(i,e,t){const n=Math.trunc(+i/1e3);return it(n,e.length)},T:function(i,e,t){return it(+i,e.length)}};function $w(i,e=""){const t=i>0?"-":"+",n=Math.abs(i),a=Math.trunc(n/60),o=n%60;return o===0?t+String(a):t+String(a)+e+it(o,2)}function Zw(i,e){return i%60===0?(i>0?"-":"+")+it(Math.abs(i)/60,2):Es(i,e)}function Es(i,e=""){const t=i>0?"-":"+",n=Math.abs(i),a=it(Math.trunc(n/60),2),o=it(n%60,2);return t+a+e+o}const Jw=(i,e)=>{switch(i){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},dD=(i,e)=>{switch(i){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},O2=(i,e)=>{const t=i.match(/(P+)(p+)?/)||[],n=t[1],a=t[2];if(!a)return Jw(i,e);let o;switch(n){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",Jw(n,e)).replace("{{time}}",dD(a,e))},Og={p:dD,P:O2},k2=/^D+$/,N2=/^Y+$/,x2=["D","DD","YY","YYYY"];function P2(i){return k2.test(i)}function V2(i){return N2.test(i)}function L2(i,e,t){const n=U2(i,e,t);if(console.warn(n),x2.includes(i))throw new RangeError(n)}function U2(i,e,t){const n=i[0]==="Y"?"years":"days of the month";return`Use \`${i.toLowerCase()}\` instead of \`${i}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const B2=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,H2=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,z2=/^'([^]*?)'?$/,Y2=/''/g,F2=/[a-zA-Z]/;function eT(i,e,t){var v,E,T,A,N,U,I,Q;const n=Hs(),a=(t==null?void 0:t.locale)??n.locale??fD,o=(t==null?void 0:t.firstWeekContainsDate)??((E=(v=t==null?void 0:t.locale)==null?void 0:v.options)==null?void 0:E.firstWeekContainsDate)??n.firstWeekContainsDate??((A=(T=n.locale)==null?void 0:T.options)==null?void 0:A.firstWeekContainsDate)??1,c=(t==null?void 0:t.weekStartsOn)??((U=(N=t==null?void 0:t.locale)==null?void 0:N.options)==null?void 0:U.weekStartsOn)??n.weekStartsOn??((Q=(I=n.locale)==null?void 0:I.options)==null?void 0:Q.weekStartsOn)??0,h=ye(i,t==null?void 0:t.in);if(!Fh(h))throw new RangeError("Invalid time value");let p=e.match(H2).map(W=>{const K=W[0];if(K==="p"||K==="P"){const ae=Og[K];return ae(W,a.formatLong)}return W}).join("").match(B2).map(W=>{if(W==="''")return{isToken:!1,value:"'"};const K=W[0];if(K==="'")return{isToken:!1,value:q2(W)};if(Xw[K])return{isToken:!0,value:W};if(K.match(F2))throw new RangeError("Format string contains an unescaped latin alphabet character `"+K+"`");return{isToken:!1,value:W}});a.localize.preprocessor&&(p=a.localize.preprocessor(h,p));const g={firstWeekContainsDate:o,weekStartsOn:c,locale:a};return p.map(W=>{if(!W.isToken)return W.value;const K=W.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&V2(K)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&P2(K))&&L2(K,e,String(i));const ae=Xw[K[0]];return ae(h,K,a.localize,g)}).join("")}function q2(i){const e=i.match(z2);return e?e[1].replace(Y2,"'"):i}function tT(i,e){return ye(i,e==null?void 0:e.in).getDate()}function j2(i,e){return ye(i,e==null?void 0:e.in).getDay()}function G2(i,e){const t=ye(i,e==null?void 0:e.in),n=t.getFullYear(),a=t.getMonth(),o=at(t,0);return o.setFullYear(n,a+1,0),o.setHours(0,0,0,0),o.getDate()}function Q2(){return Object.assign({},Hs())}function bi(i,e){return ye(i,e==null?void 0:e.in).getHours()}function K2(i,e){const t=ye(i,e==null?void 0:e.in).getDay();return t===0?7:t}function Si(i,e){return ye(i,e==null?void 0:e.in).getMinutes()}function pn(i,e){return ye(i,e==null?void 0:e.in).getMonth()}function Ta(i){return ye(i).getSeconds()}function kg(i){return+ye(i)}function Ve(i,e){return ye(i,e==null?void 0:e.in).getFullYear()}function Ma(i,e){return+ye(i)>+ye(e)}function Ps(i,e){return+ye(i)<+ye(e)}function W2(i,e){return+ye(i)==+ye(e)}function X2(i,e){const t=$2(e)?new e(0):at(e,0);return t.setFullYear(i.getFullYear(),i.getMonth(),i.getDate()),t.setHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),t}function $2(i){var e;return typeof i=="function"&&((e=i.prototype)==null?void 0:e.constructor)===i}const Z2=10;class pD{constructor(){de(this,"subPriority",0)}validate(e,t){return!0}}class J2 extends pD{constructor(e,t,n,a,o){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=a,o&&(this.subPriority=o)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class ex extends pD{constructor(t,n){super();de(this,"priority",Z2);de(this,"subPriority",-1);this.context=t||(a=>at(n,a))}set(t,n){return n.timestampIsSet?t:at(t,X2(t,this.context))}}class $e{run(e,t,n,a){const o=this.parse(e,t,n,a);return o?{setter:new J2(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,t,n){return!0}}class tx extends $e{constructor(){super(...arguments);de(this,"priority",140);de(this,"incompatibleTokens",["R","u","t","T"])}parse(t,n,a){switch(n){case"G":case"GG":case"GGG":return a.era(t,{width:"abbreviated"})||a.era(t,{width:"narrow"});case"GGGGG":return a.era(t,{width:"narrow"});case"GGGG":default:return a.era(t,{width:"wide"})||a.era(t,{width:"abbreviated"})||a.era(t,{width:"narrow"})}}set(t,n,a){return n.era=a,t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}}const Ct={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Pr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function It(i,e){return i&&{value:e(i.value),rest:i.rest}}function vt(i,e){const t=e.match(i);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function Vr(i,e){const t=e.match(i);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const n=t[1]==="+"?1:-1,a=t[2]?parseInt(t[2],10):0,o=t[3]?parseInt(t[3],10):0,c=t[5]?parseInt(t[5],10):0;return{value:n*(a*wd+o*Ed+c*FN),rest:e.slice(t[0].length)}}function mD(i){return vt(Ct.anyDigitsSigned,i)}function bt(i,e){switch(i){case 1:return vt(Ct.singleDigit,e);case 2:return vt(Ct.twoDigits,e);case 3:return vt(Ct.threeDigits,e);case 4:return vt(Ct.fourDigits,e);default:return vt(new RegExp("^\\d{1,"+i+"}"),e)}}function Qh(i,e){switch(i){case 1:return vt(Ct.singleDigitSigned,e);case 2:return vt(Ct.twoDigitsSigned,e);case 3:return vt(Ct.threeDigitsSigned,e);case 4:return vt(Ct.fourDigitsSigned,e);default:return vt(new RegExp("^-?\\d{1,"+i+"}"),e)}}function xy(i){switch(i){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function gD(i,e){const t=e>0,n=t?e:1-e;let a;if(n<=50)a=i||100;else{const o=n+50,c=Math.trunc(o/100)*100,h=i>=o%100;a=i+c-(h?100:0)}return t?a:1-a}function yD(i){return i%400===0||i%4===0&&i%100!==0}class nx extends $e{constructor(){super(...arguments);de(this,"priority",130);de(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,n,a){const o=c=>({year:c,isTwoDigitYear:n==="yy"});switch(n){case"y":return It(bt(4,t),o);case"yo":return It(a.ordinalNumber(t,{unit:"year"}),o);default:return It(bt(n.length,t),o)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,a){const o=t.getFullYear();if(a.isTwoDigitYear){const h=gD(a.year,o);return t.setFullYear(h,0,1),t.setHours(0,0,0,0),t}const c=!("era"in n)||n.era===1?a.year:1-a.year;return t.setFullYear(c,0,1),t.setHours(0,0,0,0),t}}class rx extends $e{constructor(){super(...arguments);de(this,"priority",130);de(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,n,a){const o=c=>({year:c,isTwoDigitYear:n==="YY"});switch(n){case"Y":return It(bt(4,t),o);case"Yo":return It(a.ordinalNumber(t,{unit:"year"}),o);default:return It(bt(n.length,t),o)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,a,o){const c=Ny(t,o);if(a.isTwoDigitYear){const p=gD(a.year,c);return t.setFullYear(p,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),Mi(t,o)}const h=!("era"in n)||n.era===1?a.year:1-a.year;return t.setFullYear(h,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),Mi(t,o)}}class ix extends $e{constructor(){super(...arguments);de(this,"priority",130);de(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,n){return Qh(n==="R"?4:n.length,t)}set(t,n,a){const o=at(t,0);return o.setFullYear(a,0,4),o.setHours(0,0,0,0),nl(o)}}class ax extends $e{constructor(){super(...arguments);de(this,"priority",130);de(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,n){return Qh(n==="u"?4:n.length,t)}set(t,n,a){return t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}}class sx extends $e{constructor(){super(...arguments);de(this,"priority",120);de(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,a){switch(n){case"Q":case"QQ":return bt(n.length,t);case"Qo":return a.ordinalNumber(t,{unit:"quarter"});case"QQQ":return a.quarter(t,{width:"abbreviated",context:"formatting"})||a.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(t,{width:"wide",context:"formatting"})||a.quarter(t,{width:"abbreviated",context:"formatting"})||a.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=1&&n<=4}set(t,n,a){return t.setMonth((a-1)*3,1),t.setHours(0,0,0,0),t}}class ox extends $e{constructor(){super(...arguments);de(this,"priority",120);de(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,a){switch(n){case"q":case"qq":return bt(n.length,t);case"qo":return a.ordinalNumber(t,{unit:"quarter"});case"qqq":return a.quarter(t,{width:"abbreviated",context:"standalone"})||a.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(t,{width:"wide",context:"standalone"})||a.quarter(t,{width:"abbreviated",context:"standalone"})||a.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=1&&n<=4}set(t,n,a){return t.setMonth((a-1)*3,1),t.setHours(0,0,0,0),t}}class lx extends $e{constructor(){super(...arguments);de(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);de(this,"priority",110)}parse(t,n,a){const o=c=>c-1;switch(n){case"M":return It(vt(Ct.month,t),o);case"MM":return It(bt(2,t),o);case"Mo":return It(a.ordinalNumber(t,{unit:"month"}),o);case"MMM":return a.month(t,{width:"abbreviated",context:"formatting"})||a.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(t,{width:"wide",context:"formatting"})||a.month(t,{width:"abbreviated",context:"formatting"})||a.month(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=11}set(t,n,a){return t.setMonth(a,1),t.setHours(0,0,0,0),t}}class ux extends $e{constructor(){super(...arguments);de(this,"priority",110);de(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,n,a){const o=c=>c-1;switch(n){case"L":return It(vt(Ct.month,t),o);case"LL":return It(bt(2,t),o);case"Lo":return It(a.ordinalNumber(t,{unit:"month"}),o);case"LLL":return a.month(t,{width:"abbreviated",context:"standalone"})||a.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(t,{width:"wide",context:"standalone"})||a.month(t,{width:"abbreviated",context:"standalone"})||a.month(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=11}set(t,n,a){return t.setMonth(a,1),t.setHours(0,0,0,0),t}}function cx(i,e,t){const n=ye(i,t==null?void 0:t.in),a=hD(n,t)-e;return n.setDate(n.getDate()-a*7),ye(n,t==null?void 0:t.in)}class fx extends $e{constructor(){super(...arguments);de(this,"priority",100);de(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,n,a){switch(n){case"w":return vt(Ct.week,t);case"wo":return a.ordinalNumber(t,{unit:"week"});default:return bt(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,a,o){return Mi(cx(t,a,o),o)}}function hx(i,e,t){const n=ye(i,t==null?void 0:t.in),a=ky(n,t)-e;return n.setDate(n.getDate()-a*7),n}class dx extends $e{constructor(){super(...arguments);de(this,"priority",100);de(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,n,a){switch(n){case"I":return vt(Ct.week,t);case"Io":return a.ordinalNumber(t,{unit:"week"});default:return bt(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,a){return nl(hx(t,a))}}const px=[31,28,31,30,31,30,31,31,30,31,30,31],mx=[31,29,31,30,31,30,31,31,30,31,30,31];class gx extends $e{constructor(){super(...arguments);de(this,"priority",90);de(this,"subPriority",1);de(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,n,a){switch(n){case"d":return vt(Ct.date,t);case"do":return a.ordinalNumber(t,{unit:"date"});default:return bt(n.length,t)}}validate(t,n){const a=t.getFullYear(),o=yD(a),c=t.getMonth();return o?n>=1&&n<=mx[c]:n>=1&&n<=px[c]}set(t,n,a){return t.setDate(a),t.setHours(0,0,0,0),t}}class yx extends $e{constructor(){super(...arguments);de(this,"priority",90);de(this,"subpriority",1);de(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,n,a){switch(n){case"D":case"DD":return vt(Ct.dayOfYear,t);case"Do":return a.ordinalNumber(t,{unit:"date"});default:return bt(n.length,t)}}validate(t,n){const a=t.getFullYear();return yD(a)?n>=1&&n<=366:n>=1&&n<=365}set(t,n,a){return t.setMonth(0,a),t.setHours(0,0,0,0),t}}function Py(i,e,t){var E,T,A,N;const n=Hs(),a=(t==null?void 0:t.weekStartsOn)??((T=(E=t==null?void 0:t.locale)==null?void 0:E.options)==null?void 0:T.weekStartsOn)??n.weekStartsOn??((N=(A=n.locale)==null?void 0:A.options)==null?void 0:N.weekStartsOn)??0,o=ye(i,t==null?void 0:t.in),c=o.getDay(),p=(e%7+7)%7,g=7-a,v=e<0||e>6?e-(c+g)%7:(p+g)%7-(c+g)%7;return fr(o,v,t)}class vx extends $e{constructor(){super(...arguments);de(this,"priority",90);de(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,n,a){switch(n){case"E":case"EE":case"EEE":return a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,a,o){return t=Py(t,a,o),t.setHours(0,0,0,0),t}}class _x extends $e{constructor(){super(...arguments);de(this,"priority",90);de(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,n,a,o){const c=h=>{const p=Math.floor((h-1)/7)*7;return(h+o.weekStartsOn+6)%7+p};switch(n){case"e":case"ee":return It(bt(n.length,t),c);case"eo":return It(a.ordinalNumber(t,{unit:"day"}),c);case"eee":return a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"eeeee":return a.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,a,o){return t=Py(t,a,o),t.setHours(0,0,0,0),t}}class Ex extends $e{constructor(){super(...arguments);de(this,"priority",90);de(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,n,a,o){const c=h=>{const p=Math.floor((h-1)/7)*7;return(h+o.weekStartsOn+6)%7+p};switch(n){case"c":case"cc":return It(bt(n.length,t),c);case"co":return It(a.ordinalNumber(t,{unit:"day"}),c);case"ccc":return a.day(t,{width:"abbreviated",context:"standalone"})||a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"});case"ccccc":return a.day(t,{width:"narrow",context:"standalone"});case"cccccc":return a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(t,{width:"wide",context:"standalone"})||a.day(t,{width:"abbreviated",context:"standalone"})||a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=6}set(t,n,a,o){return t=Py(t,a,o),t.setHours(0,0,0,0),t}}function wx(i,e,t){const n=ye(i,t==null?void 0:t.in),a=K2(n,t),o=e-a;return fr(n,o,t)}class Tx extends $e{constructor(){super(...arguments);de(this,"priority",90);de(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,n,a){const o=c=>c===0?7:c;switch(n){case"i":case"ii":return bt(n.length,t);case"io":return a.ordinalNumber(t,{unit:"day"});case"iii":return It(a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),o);case"iiiii":return It(a.day(t,{width:"narrow",context:"formatting"}),o);case"iiiiii":return It(a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),o);case"iiii":default:return It(a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),o)}}validate(t,n){return n>=1&&n<=7}set(t,n,a){return t=wx(t,a),t.setHours(0,0,0,0),t}}class bx extends $e{constructor(){super(...arguments);de(this,"priority",80);de(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,n,a){switch(n){case"a":case"aa":case"aaa":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,a){return t.setHours(xy(a),0,0,0),t}}class Sx extends $e{constructor(){super(...arguments);de(this,"priority",80);de(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,n,a){switch(n){case"b":case"bb":case"bbb":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,a){return t.setHours(xy(a),0,0,0),t}}class Dx extends $e{constructor(){super(...arguments);de(this,"priority",80);de(this,"incompatibleTokens",["a","b","t","T"])}parse(t,n,a){switch(n){case"B":case"BB":case"BBB":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,a){return t.setHours(xy(a),0,0,0),t}}class Ax extends $e{constructor(){super(...arguments);de(this,"priority",70);de(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,n,a){switch(n){case"h":return vt(Ct.hour12h,t);case"ho":return a.ordinalNumber(t,{unit:"hour"});default:return bt(n.length,t)}}validate(t,n){return n>=1&&n<=12}set(t,n,a){const o=t.getHours()>=12;return o&&a<12?t.setHours(a+12,0,0,0):!o&&a===12?t.setHours(0,0,0,0):t.setHours(a,0,0,0),t}}class Rx extends $e{constructor(){super(...arguments);de(this,"priority",70);de(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,n,a){switch(n){case"H":return vt(Ct.hour23h,t);case"Ho":return a.ordinalNumber(t,{unit:"hour"});default:return bt(n.length,t)}}validate(t,n){return n>=0&&n<=23}set(t,n,a){return t.setHours(a,0,0,0),t}}class Cx extends $e{constructor(){super(...arguments);de(this,"priority",70);de(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,n,a){switch(n){case"K":return vt(Ct.hour11h,t);case"Ko":return a.ordinalNumber(t,{unit:"hour"});default:return bt(n.length,t)}}validate(t,n){return n>=0&&n<=11}set(t,n,a){return t.getHours()>=12&&a<12?t.setHours(a+12,0,0,0):t.setHours(a,0,0,0),t}}class Ix extends $e{constructor(){super(...arguments);de(this,"priority",70);de(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,n,a){switch(n){case"k":return vt(Ct.hour24h,t);case"ko":return a.ordinalNumber(t,{unit:"hour"});default:return bt(n.length,t)}}validate(t,n){return n>=1&&n<=24}set(t,n,a){const o=a<=24?a%24:a;return t.setHours(o,0,0,0),t}}class Mx extends $e{constructor(){super(...arguments);de(this,"priority",60);de(this,"incompatibleTokens",["t","T"])}parse(t,n,a){switch(n){case"m":return vt(Ct.minute,t);case"mo":return a.ordinalNumber(t,{unit:"minute"});default:return bt(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,a){return t.setMinutes(a,0,0),t}}class Ox extends $e{constructor(){super(...arguments);de(this,"priority",50);de(this,"incompatibleTokens",["t","T"])}parse(t,n,a){switch(n){case"s":return vt(Ct.second,t);case"so":return a.ordinalNumber(t,{unit:"second"});default:return bt(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,a){return t.setSeconds(a,0),t}}class kx extends $e{constructor(){super(...arguments);de(this,"priority",30);de(this,"incompatibleTokens",["t","T"])}parse(t,n){const a=o=>Math.trunc(o*Math.pow(10,-n.length+3));return It(bt(n.length,t),a)}set(t,n,a){return t.setMilliseconds(a),t}}class Nx extends $e{constructor(){super(...arguments);de(this,"priority",10);de(this,"incompatibleTokens",["t","T","x"])}parse(t,n){switch(n){case"X":return Vr(Pr.basicOptionalMinutes,t);case"XX":return Vr(Pr.basic,t);case"XXXX":return Vr(Pr.basicOptionalSeconds,t);case"XXXXX":return Vr(Pr.extendedOptionalSeconds,t);case"XXX":default:return Vr(Pr.extended,t)}}set(t,n,a){return n.timestampIsSet?t:at(t,t.getTime()-zh(t)-a)}}class xx extends $e{constructor(){super(...arguments);de(this,"priority",10);de(this,"incompatibleTokens",["t","T","X"])}parse(t,n){switch(n){case"x":return Vr(Pr.basicOptionalMinutes,t);case"xx":return Vr(Pr.basic,t);case"xxxx":return Vr(Pr.basicOptionalSeconds,t);case"xxxxx":return Vr(Pr.extendedOptionalSeconds,t);case"xxx":default:return Vr(Pr.extended,t)}}set(t,n,a){return n.timestampIsSet?t:at(t,t.getTime()-zh(t)-a)}}class Px extends $e{constructor(){super(...arguments);de(this,"priority",40);de(this,"incompatibleTokens","*")}parse(t){return mD(t)}set(t,n,a){return[at(t,a*1e3),{timestampIsSet:!0}]}}class Vx extends $e{constructor(){super(...arguments);de(this,"priority",20);de(this,"incompatibleTokens","*")}parse(t){return mD(t)}set(t,n,a){return[at(t,a),{timestampIsSet:!0}]}}const Lx={G:new tx,y:new nx,Y:new rx,R:new ix,u:new ax,Q:new sx,q:new ox,M:new lx,L:new ux,w:new fx,I:new dx,d:new gx,D:new yx,E:new vx,e:new _x,c:new Ex,i:new Tx,a:new bx,b:new Sx,B:new Dx,h:new Ax,H:new Rx,K:new Cx,k:new Ix,m:new Mx,s:new Ox,S:new kx,X:new Nx,x:new xx,t:new Px,T:new Vx},Ux=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Bx=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Hx=/^'([^]*?)'?$/,zx=/''/g,Yx=/\S/,Fx=/[a-zA-Z]/;function qx(i,e,t,n){var I,Q,W,K,ae,ie,ce,M;const a=()=>at((n==null?void 0:n.in)||t,NaN),o=Q2(),c=(n==null?void 0:n.locale)??o.locale??fD,h=(n==null?void 0:n.firstWeekContainsDate)??((Q=(I=n==null?void 0:n.locale)==null?void 0:I.options)==null?void 0:Q.firstWeekContainsDate)??o.firstWeekContainsDate??((K=(W=o.locale)==null?void 0:W.options)==null?void 0:K.firstWeekContainsDate)??1,p=(n==null?void 0:n.weekStartsOn)??((ie=(ae=n==null?void 0:n.locale)==null?void 0:ae.options)==null?void 0:ie.weekStartsOn)??o.weekStartsOn??((M=(ce=o.locale)==null?void 0:ce.options)==null?void 0:M.weekStartsOn)??0;if(!e)return i?a():ye(t,n==null?void 0:n.in);const g={firstWeekContainsDate:h,weekStartsOn:p,locale:c},v=[new ex(n==null?void 0:n.in,t)],E=e.match(Bx).map(D=>{const R=D[0];if(R in Og){const O=Og[R];return O(D,c.formatLong)}return D}).join("").match(Ux),T=[];for(let D of E){const R=D[0],O=Lx[R];if(O){const{incompatibleTokens:P}=O;if(Array.isArray(P)){const C=T.find(Re=>P.includes(Re.token)||Re.token===R);if(C)throw new RangeError(`The format string mustn't contain \`${C.fullToken}\` and \`${D}\` at the same time`)}else if(O.incompatibleTokens==="*"&&T.length>0)throw new RangeError(`The format string mustn't contain \`${D}\` and any other token at the same time`);T.push({token:R,fullToken:D});const V=O.run(i,D,c.match,g);if(!V)return a();v.push(V.setter),i=V.rest}else{if(R.match(Fx))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");if(D==="''"?D="'":R==="'"&&(D=jx(D)),i.indexOf(D)===0)i=i.slice(D.length);else return a()}}if(i.length>0&&Yx.test(i))return a();const A=v.map(D=>D.priority).sort((D,R)=>R-D).filter((D,R,O)=>O.indexOf(D)===R).map(D=>v.filter(R=>R.priority===D).sort((R,O)=>O.subPriority-R.subPriority)).map(D=>D[0]);let N=ye(t,n==null?void 0:n.in);if(isNaN(+N))return a();const U={};for(const D of A){if(!D.validate(N,g))return a();const R=D.set(N,U,g);Array.isArray(R)?(N=R[0],Object.assign(U,R[1])):N=R}return N}function jx(i){return i.match(Hx)[1].replace(zx,"'")}function Gx(i,e,t){const[n,a]=ki(t==null?void 0:t.in,i,e);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function Qx(i,e,t){const[n,a]=ki(t==null?void 0:t.in,i,e);return+Mg(n)==+Mg(a)}function Kx(i,e,t){const[n,a]=ki(t==null?void 0:t.in,i,e);return n.getFullYear()===a.getFullYear()}function ec(i,e,t){const n=+ye(i,t==null?void 0:t.in),[a,o]=[+ye(e.start,t==null?void 0:t.in),+ye(e.end,t==null?void 0:t.in)].sort((c,h)=>c-h);return n>=a&&n<=o}function Wx(i,e,t){return fr(i,-1,t)}function Xx(i,e){const t=()=>at(e==null?void 0:e.in,NaN),a=eP(i);let o;if(a.date){const g=tP(a.date,2);o=nP(g.restDateString,g.year)}if(!o||isNaN(+o))return t();const c=+o;let h=0,p;if(a.time&&(h=rP(a.time),isNaN(h)))return t();if(a.timezone){if(p=iP(a.timezone),isNaN(p))return t()}else{const g=new Date(c+h),v=ye(0,e==null?void 0:e.in);return v.setFullYear(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate()),v.setHours(g.getUTCHours(),g.getUTCMinutes(),g.getUTCSeconds(),g.getUTCMilliseconds()),v}return ye(c+h+p,e==null?void 0:e.in)}const Zf={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},$x=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Zx=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Jx=/^([+-])(\d{2})(?::?(\d{2}))?$/;function eP(i){const e={},t=i.split(Zf.dateTimeDelimiter);let n;if(t.length>2)return e;if(/:/.test(t[0])?n=t[0]:(e.date=t[0],n=t[1],Zf.timeZoneDelimiter.test(e.date)&&(e.date=i.split(Zf.timeZoneDelimiter)[0],n=i.substr(e.date.length,i.length))),n){const a=Zf.timezone.exec(n);a?(e.time=n.replace(a[1],""),e.timezone=a[1]):e.time=n}return e}function tP(i,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=i.match(t);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:o===null?a:o*100,restDateString:i.slice((n[1]||n[2]).length)}}function nP(i,e){if(e===null)return new Date(NaN);const t=i.match($x);if(!t)return new Date(NaN);const n=!!t[4],a=Iu(t[1]),o=Iu(t[2])-1,c=Iu(t[3]),h=Iu(t[4]),p=Iu(t[5])-1;if(n)return uP(e,h,p)?aP(e,h,p):new Date(NaN);{const g=new Date(0);return!oP(e,o,c)||!lP(e,a)?new Date(NaN):(g.setUTCFullYear(e,o,Math.max(a,c)),g)}}function Iu(i){return i?parseInt(i):1}function rP(i){const e=i.match(Zx);if(!e)return NaN;const t=Qm(e[1]),n=Qm(e[2]),a=Qm(e[3]);return cP(t,n,a)?t*wd+n*Ed+a*1e3:NaN}function Qm(i){return i&&parseFloat(i.replace(",","."))||0}function iP(i){if(i==="Z")return 0;const e=i.match(Jx);if(!e)return 0;const t=e[1]==="+"?-1:1,n=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return fP(n,a)?t*(n*wd+a*Ed):NaN}function aP(i,e,t){const n=new Date(0);n.setUTCFullYear(i,0,4);const a=n.getUTCDay()||7,o=(e-1)*7+t+1-a;return n.setUTCDate(n.getUTCDate()+o),n}const sP=[31,null,31,30,31,30,31,31,30,31,30,31];function vD(i){return i%400===0||i%4===0&&i%100!==0}function oP(i,e,t){return e>=0&&e<=11&&t>=1&&t<=(sP[e]||(vD(i)?29:28))}function lP(i,e){return e>=1&&e<=(vD(i)?366:365)}function uP(i,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function cP(i,e,t){return i===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&i>=0&&i<25}function fP(i,e){return e>=0&&e<=59}function Jn(i,e,t){const n=ye(i,t==null?void 0:t.in),a=n.getFullYear(),o=n.getDate(),c=at(i,0);c.setFullYear(a,e,15),c.setHours(0,0,0,0);const h=G2(c);return n.setMonth(e,Math.min(o,h)),n}function mh(i,e,t){const n=ye(i,t==null?void 0:t.in);return n.setHours(e),n}function gh(i,e,t){const n=ye(i,t==null?void 0:t.in);return n.setMinutes(e),n}function Bo(i,e,t){const n=ye(i,t==null?void 0:t.in),a=Math.trunc(n.getMonth()/3)+1,o=e-a;return Jn(n,n.getMonth()+o*3)}function yh(i,e,t){const n=ye(i,t==null?void 0:t.in);return n.setSeconds(e),n}function Nr(i,e,t){const n=ye(i,t==null?void 0:t.in);return isNaN(+n)?at(i,NaN):(n.setFullYear(e),n)}function As(i,e,t){return pr(i,-e,t)}function _D(i,e,t){return Oy(i,-1,t)}function nT(i,e,t){return Yh(i,-1,t)}function il(i,e,t){return wi(i,-e,t)}function bd(){return typeof window<"u"}function gl(i){return ED(i)?(i.nodeName||"").toLowerCase():"#document"}function Un(i){var e;return(i==null||(e=i.ownerDocument)==null?void 0:e.defaultView)||window}function jr(i){var e;return(e=(ED(i)?i.ownerDocument:i.document)||window.document)==null?void 0:e.documentElement}function ED(i){return bd()?i instanceof Node||i instanceof Un(i).Node:!1}function wn(i){return bd()?i instanceof Element||i instanceof Un(i).Element:!1}function qr(i){return bd()?i instanceof HTMLElement||i instanceof Un(i).HTMLElement:!1}function rT(i){return!bd()||typeof ShadowRoot>"u"?!1:i instanceof ShadowRoot||i instanceof Un(i).ShadowRoot}function mc(i){const{overflow:e,overflowX:t,overflowY:n,display:a}=nr(i);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!["inline","contents"].includes(a)}function hP(i){return["table","td","th"].includes(gl(i))}function Sd(i){return[":popover-open",":modal"].some(e=>{try{return i.matches(e)}catch{return!1}})}function Vy(i){const e=Ly(),t=wn(i)?nr(i):i;return["transform","translate","scale","rotate","perspective"].some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(t.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(t.contain||"").includes(n))}function dP(i){let e=Oa(i);for(;qr(e)&&!al(e);){if(Vy(e))return e;if(Sd(e))return null;e=Oa(e)}return null}function Ly(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function al(i){return["html","body","#document"].includes(gl(i))}function nr(i){return Un(i).getComputedStyle(i)}function Dd(i){return wn(i)?{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}:{scrollLeft:i.scrollX,scrollTop:i.scrollY}}function Oa(i){if(gl(i)==="html")return i;const e=i.assignedSlot||i.parentNode||rT(i)&&i.host||jr(i);return rT(e)?e.host:e}function wD(i){const e=Oa(i);return al(e)?i.ownerDocument?i.ownerDocument.body:i.body:qr(e)&&mc(e)?e:wD(e)}function tc(i,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const a=wD(i),o=a===((n=i.ownerDocument)==null?void 0:n.body),c=Un(a);if(o){const h=Ng(c);return e.concat(c,c.visualViewport||[],mc(a)?a:[],h&&t?tc(h):[])}return e.concat(a,tc(a,[],t))}function Ng(i){return i.parent&&Object.getPrototypeOf(i.parent)?i.frameElement:null}const sl=Math.min,Rs=Math.max,Kh=Math.round,Jf=Math.floor,Yr=i=>({x:i,y:i}),pP={left:"right",right:"left",bottom:"top",top:"bottom"},mP={start:"end",end:"start"};function gP(i,e,t){return Rs(i,sl(e,t))}function Ad(i,e){return typeof i=="function"?i(e):i}function ol(i){return i.split("-")[0]}function gc(i){return i.split("-")[1]}function yP(i){return i==="x"?"y":"x"}function Uy(i){return i==="y"?"height":"width"}function Ts(i){return["top","bottom"].includes(ol(i))?"y":"x"}function By(i){return yP(Ts(i))}function vP(i,e,t){t===void 0&&(t=!1);const n=gc(i),a=By(i),o=Uy(a);let c=a==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(c=Wh(c)),[c,Wh(c)]}function _P(i){const e=Wh(i);return[xg(i),e,xg(e)]}function xg(i){return i.replace(/start|end/g,e=>mP[e])}function EP(i,e,t){const n=["left","right"],a=["right","left"],o=["top","bottom"],c=["bottom","top"];switch(i){case"top":case"bottom":return t?e?a:n:e?n:a;case"left":case"right":return e?o:c;default:return[]}}function wP(i,e,t,n){const a=gc(i);let o=EP(ol(i),t==="start",n);return a&&(o=o.map(c=>c+"-"+a),e&&(o=o.concat(o.map(xg)))),o}function Wh(i){return i.replace(/left|right|bottom|top/g,e=>pP[e])}function TP(i){return{top:0,right:0,bottom:0,left:0,...i}}function TD(i){return typeof i!="number"?TP(i):{top:i,right:i,bottom:i,left:i}}function Xh(i){const{x:e,y:t,width:n,height:a}=i;return{width:n,height:a,top:t,left:e,right:e+n,bottom:t+a,x:e,y:t}}var bP=typeof document<"u",SP=function(){},$h=bP?oe.useLayoutEffect:SP;const DP={...OT},AP=DP.useInsertionEffect,RP=AP||(i=>i());function CP(i){const e=oe.useRef(()=>{});return RP(()=>{e.current=i}),oe.useCallback(function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e.current==null?void 0:e.current(...n)},[])}var bD=kT();const IP=MT(bD);function iT(i,e,t){let{reference:n,floating:a}=i;const o=Ts(e),c=By(e),h=Uy(c),p=ol(e),g=o==="y",v=n.x+n.width/2-a.width/2,E=n.y+n.height/2-a.height/2,T=n[h]/2-a[h]/2;let A;switch(p){case"top":A={x:v,y:n.y-a.height};break;case"bottom":A={x:v,y:n.y+n.height};break;case"right":A={x:n.x+n.width,y:E};break;case"left":A={x:n.x-a.width,y:E};break;default:A={x:n.x,y:n.y}}switch(gc(e)){case"start":A[c]-=T*(t&&g?-1:1);break;case"end":A[c]+=T*(t&&g?-1:1);break}return A}const MP=async(i,e,t)=>{const{placement:n="bottom",strategy:a="absolute",middleware:o=[],platform:c}=t,h=o.filter(Boolean),p=await(c.isRTL==null?void 0:c.isRTL(e));let g=await c.getElementRects({reference:i,floating:e,strategy:a}),{x:v,y:E}=iT(g,n,p),T=n,A={},N=0;for(let U=0;U<h.length;U++){const{name:I,fn:Q}=h[U],{x:W,y:K,data:ae,reset:ie}=await Q({x:v,y:E,initialPlacement:n,placement:T,strategy:a,middlewareData:A,rects:g,platform:c,elements:{reference:i,floating:e}});v=W??v,E=K??E,A={...A,[I]:{...A[I],...ae}},ie&&N<=50&&(N++,typeof ie=="object"&&(ie.placement&&(T=ie.placement),ie.rects&&(g=ie.rects===!0?await c.getElementRects({reference:i,floating:e,strategy:a}):ie.rects),{x:v,y:E}=iT(g,T,p)),U=-1)}return{x:v,y:E,placement:T,strategy:a,middlewareData:A}};async function OP(i,e){var t;e===void 0&&(e={});const{x:n,y:a,platform:o,rects:c,elements:h,strategy:p}=i,{boundary:g="clippingAncestors",rootBoundary:v="viewport",elementContext:E="floating",altBoundary:T=!1,padding:A=0}=Ad(e,i),N=TD(A),I=h[T?E==="floating"?"reference":"floating":E],Q=Xh(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(I)))==null||t?I:I.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(h.floating)),boundary:g,rootBoundary:v,strategy:p})),W=E==="floating"?{x:n,y:a,width:c.floating.width,height:c.floating.height}:c.reference,K=await(o.getOffsetParent==null?void 0:o.getOffsetParent(h.floating)),ae=await(o.isElement==null?void 0:o.isElement(K))?await(o.getScale==null?void 0:o.getScale(K))||{x:1,y:1}:{x:1,y:1},ie=Xh(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:W,offsetParent:K,strategy:p}):W);return{top:(Q.top-ie.top+N.top)/ae.y,bottom:(ie.bottom-Q.bottom+N.bottom)/ae.y,left:(Q.left-ie.left+N.left)/ae.x,right:(ie.right-Q.right+N.right)/ae.x}}const kP=i=>({name:"arrow",options:i,async fn(e){const{x:t,y:n,placement:a,rects:o,platform:c,elements:h,middlewareData:p}=e,{element:g,padding:v=0}=Ad(i,e)||{};if(g==null)return{};const E=TD(v),T={x:t,y:n},A=By(a),N=Uy(A),U=await c.getDimensions(g),I=A==="y",Q=I?"top":"left",W=I?"bottom":"right",K=I?"clientHeight":"clientWidth",ae=o.reference[N]+o.reference[A]-T[A]-o.floating[N],ie=T[A]-o.reference[A],ce=await(c.getOffsetParent==null?void 0:c.getOffsetParent(g));let M=ce?ce[K]:0;(!M||!await(c.isElement==null?void 0:c.isElement(ce)))&&(M=h.floating[K]||o.floating[N]);const D=ae/2-ie/2,R=M/2-U[N]/2-1,O=sl(E[Q],R),P=sl(E[W],R),V=O,C=M-U[N]-P,Re=M/2-U[N]/2+D,we=gP(V,Re,C),H=!p.arrow&&gc(a)!=null&&Re!==we&&o.reference[N]/2-(Re<V?O:P)-U[N]/2<0,J=H?Re<V?Re-V:Re-C:0;return{[A]:T[A]+J,data:{[A]:we,centerOffset:Re-we-J,...H&&{alignmentOffset:J}},reset:H}}}),NP=function(i){return i===void 0&&(i={}),{name:"flip",options:i,async fn(e){var t,n;const{placement:a,middlewareData:o,rects:c,initialPlacement:h,platform:p,elements:g}=e,{mainAxis:v=!0,crossAxis:E=!0,fallbackPlacements:T,fallbackStrategy:A="bestFit",fallbackAxisSideDirection:N="none",flipAlignment:U=!0,...I}=Ad(i,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const Q=ol(a),W=Ts(h),K=ol(h)===h,ae=await(p.isRTL==null?void 0:p.isRTL(g.floating)),ie=T||(K||!U?[Wh(h)]:_P(h)),ce=N!=="none";!T&&ce&&ie.push(...wP(h,U,N,ae));const M=[h,...ie],D=await OP(e,I),R=[];let O=((n=o.flip)==null?void 0:n.overflows)||[];if(v&&R.push(D[Q]),E){const Re=vP(a,c,ae);R.push(D[Re[0]],D[Re[1]])}if(O=[...O,{placement:a,overflows:R}],!R.every(Re=>Re<=0)){var P,V;const Re=(((P=o.flip)==null?void 0:P.index)||0)+1,we=M[Re];if(we&&(!(E==="alignment"?W!==Ts(we):!1)||O.every(se=>se.overflows[0]>0&&Ts(se.placement)===W)))return{data:{index:Re,overflows:O},reset:{placement:we}};let H=(V=O.filter(J=>J.overflows[0]<=0).sort((J,se)=>J.overflows[1]-se.overflows[1])[0])==null?void 0:V.placement;if(!H)switch(A){case"bestFit":{var C;const J=(C=O.filter(se=>{if(ce){const Te=Ts(se.placement);return Te===W||Te==="y"}return!0}).map(se=>[se.placement,se.overflows.filter(Te=>Te>0).reduce((Te,x)=>Te+x,0)]).sort((se,Te)=>se[1]-Te[1])[0])==null?void 0:C[0];J&&(H=J);break}case"initialPlacement":H=h;break}if(a!==H)return{reset:{placement:H}}}return{}}}};async function xP(i,e){const{placement:t,platform:n,elements:a}=i,o=await(n.isRTL==null?void 0:n.isRTL(a.floating)),c=ol(t),h=gc(t),p=Ts(t)==="y",g=["left","top"].includes(c)?-1:1,v=o&&p?-1:1,E=Ad(e,i);let{mainAxis:T,crossAxis:A,alignmentAxis:N}=typeof E=="number"?{mainAxis:E,crossAxis:0,alignmentAxis:null}:{mainAxis:E.mainAxis||0,crossAxis:E.crossAxis||0,alignmentAxis:E.alignmentAxis};return h&&typeof N=="number"&&(A=h==="end"?N*-1:N),p?{x:A*v,y:T*g}:{x:T*g,y:A*v}}const PP=function(i){return i===void 0&&(i=0),{name:"offset",options:i,async fn(e){var t,n;const{x:a,y:o,placement:c,middlewareData:h}=e,p=await xP(e,i);return c===((t=h.offset)==null?void 0:t.placement)&&(n=h.arrow)!=null&&n.alignmentOffset?{}:{x:a+p.x,y:o+p.y,data:{...p,placement:c}}}}};function SD(i){const e=nr(i);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const a=qr(i),o=a?i.offsetWidth:t,c=a?i.offsetHeight:n,h=Kh(t)!==o||Kh(n)!==c;return h&&(t=o,n=c),{width:t,height:n,$:h}}function Hy(i){return wn(i)?i:i.contextElement}function jo(i){const e=Hy(i);if(!qr(e))return Yr(1);const t=e.getBoundingClientRect(),{width:n,height:a,$:o}=SD(e);let c=(o?Kh(t.width):t.width)/n,h=(o?Kh(t.height):t.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!h||!Number.isFinite(h))&&(h=1),{x:c,y:h}}const VP=Yr(0);function DD(i){const e=Un(i);return!Ly()||!e.visualViewport?VP:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function LP(i,e,t){return e===void 0&&(e=!1),!t||e&&t!==Un(i)?!1:e}function Vs(i,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const a=i.getBoundingClientRect(),o=Hy(i);let c=Yr(1);e&&(n?wn(n)&&(c=jo(n)):c=jo(i));const h=LP(o,t,n)?DD(o):Yr(0);let p=(a.left+h.x)/c.x,g=(a.top+h.y)/c.y,v=a.width/c.x,E=a.height/c.y;if(o){const T=Un(o),A=n&&wn(n)?Un(n):n;let N=T,U=Ng(N);for(;U&&n&&A!==N;){const I=jo(U),Q=U.getBoundingClientRect(),W=nr(U),K=Q.left+(U.clientLeft+parseFloat(W.paddingLeft))*I.x,ae=Q.top+(U.clientTop+parseFloat(W.paddingTop))*I.y;p*=I.x,g*=I.y,v*=I.x,E*=I.y,p+=K,g+=ae,N=Un(U),U=Ng(N)}}return Xh({width:v,height:E,x:p,y:g})}function zy(i,e){const t=Dd(i).scrollLeft;return e?e.left+t:Vs(jr(i)).left+t}function AD(i,e,t){t===void 0&&(t=!1);const n=i.getBoundingClientRect(),a=n.left+e.scrollLeft-(t?0:zy(i,n)),o=n.top+e.scrollTop;return{x:a,y:o}}function UP(i){let{elements:e,rect:t,offsetParent:n,strategy:a}=i;const o=a==="fixed",c=jr(n),h=e?Sd(e.floating):!1;if(n===c||h&&o)return t;let p={scrollLeft:0,scrollTop:0},g=Yr(1);const v=Yr(0),E=qr(n);if((E||!E&&!o)&&((gl(n)!=="body"||mc(c))&&(p=Dd(n)),qr(n))){const A=Vs(n);g=jo(n),v.x=A.x+n.clientLeft,v.y=A.y+n.clientTop}const T=c&&!E&&!o?AD(c,p,!0):Yr(0);return{width:t.width*g.x,height:t.height*g.y,x:t.x*g.x-p.scrollLeft*g.x+v.x+T.x,y:t.y*g.y-p.scrollTop*g.y+v.y+T.y}}function BP(i){return Array.from(i.getClientRects())}function HP(i){const e=jr(i),t=Dd(i),n=i.ownerDocument.body,a=Rs(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=Rs(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let c=-t.scrollLeft+zy(i);const h=-t.scrollTop;return nr(n).direction==="rtl"&&(c+=Rs(e.clientWidth,n.clientWidth)-a),{width:a,height:o,x:c,y:h}}function zP(i,e){const t=Un(i),n=jr(i),a=t.visualViewport;let o=n.clientWidth,c=n.clientHeight,h=0,p=0;if(a){o=a.width,c=a.height;const g=Ly();(!g||g&&e==="fixed")&&(h=a.offsetLeft,p=a.offsetTop)}return{width:o,height:c,x:h,y:p}}function YP(i,e){const t=Vs(i,!0,e==="fixed"),n=t.top+i.clientTop,a=t.left+i.clientLeft,o=qr(i)?jo(i):Yr(1),c=i.clientWidth*o.x,h=i.clientHeight*o.y,p=a*o.x,g=n*o.y;return{width:c,height:h,x:p,y:g}}function aT(i,e,t){let n;if(e==="viewport")n=zP(i,t);else if(e==="document")n=HP(jr(i));else if(wn(e))n=YP(e,t);else{const a=DD(i);n={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return Xh(n)}function RD(i,e){const t=Oa(i);return t===e||!wn(t)||al(t)?!1:nr(t).position==="fixed"||RD(t,e)}function FP(i,e){const t=e.get(i);if(t)return t;let n=tc(i,[],!1).filter(h=>wn(h)&&gl(h)!=="body"),a=null;const o=nr(i).position==="fixed";let c=o?Oa(i):i;for(;wn(c)&&!al(c);){const h=nr(c),p=Vy(c);!p&&h.position==="fixed"&&(a=null),(o?!p&&!a:!p&&h.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||mc(c)&&!p&&RD(i,c))?n=n.filter(v=>v!==c):a=h,c=Oa(c)}return e.set(i,n),n}function qP(i){let{element:e,boundary:t,rootBoundary:n,strategy:a}=i;const c=[...t==="clippingAncestors"?Sd(e)?[]:FP(e,this._c):[].concat(t),n],h=c[0],p=c.reduce((g,v)=>{const E=aT(e,v,a);return g.top=Rs(E.top,g.top),g.right=sl(E.right,g.right),g.bottom=sl(E.bottom,g.bottom),g.left=Rs(E.left,g.left),g},aT(e,h,a));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function jP(i){const{width:e,height:t}=SD(i);return{width:e,height:t}}function GP(i,e,t){const n=qr(e),a=jr(e),o=t==="fixed",c=Vs(i,!0,o,e);let h={scrollLeft:0,scrollTop:0};const p=Yr(0);function g(){p.x=zy(a)}if(n||!n&&!o)if((gl(e)!=="body"||mc(a))&&(h=Dd(e)),n){const A=Vs(e,!0,o,e);p.x=A.x+e.clientLeft,p.y=A.y+e.clientTop}else a&&g();o&&!n&&a&&g();const v=a&&!n&&!o?AD(a,h):Yr(0),E=c.left+h.scrollLeft-p.x-v.x,T=c.top+h.scrollTop-p.y-v.y;return{x:E,y:T,width:c.width,height:c.height}}function Km(i){return nr(i).position==="static"}function sT(i,e){if(!qr(i)||nr(i).position==="fixed")return null;if(e)return e(i);let t=i.offsetParent;return jr(i)===t&&(t=t.ownerDocument.body),t}function CD(i,e){const t=Un(i);if(Sd(i))return t;if(!qr(i)){let a=Oa(i);for(;a&&!al(a);){if(wn(a)&&!Km(a))return a;a=Oa(a)}return t}let n=sT(i,e);for(;n&&hP(n)&&Km(n);)n=sT(n,e);return n&&al(n)&&Km(n)&&!Vy(n)?t:n||dP(i)||t}const QP=async function(i){const e=this.getOffsetParent||CD,t=this.getDimensions,n=await t(i.floating);return{reference:GP(i.reference,await e(i.floating),i.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function KP(i){return nr(i).direction==="rtl"}const WP={convertOffsetParentRelativeRectToViewportRelativeRect:UP,getDocumentElement:jr,getClippingRect:qP,getOffsetParent:CD,getElementRects:QP,getClientRects:BP,getDimensions:jP,getScale:jo,isElement:wn,isRTL:KP};function ID(i,e){return i.x===e.x&&i.y===e.y&&i.width===e.width&&i.height===e.height}function XP(i,e){let t=null,n;const a=jr(i);function o(){var h;clearTimeout(n),(h=t)==null||h.disconnect(),t=null}function c(h,p){h===void 0&&(h=!1),p===void 0&&(p=1),o();const g=i.getBoundingClientRect(),{left:v,top:E,width:T,height:A}=g;if(h||e(),!T||!A)return;const N=Jf(E),U=Jf(a.clientWidth-(v+T)),I=Jf(a.clientHeight-(E+A)),Q=Jf(v),K={rootMargin:-N+"px "+-U+"px "+-I+"px "+-Q+"px",threshold:Rs(0,sl(1,p))||1};let ae=!0;function ie(ce){const M=ce[0].intersectionRatio;if(M!==p){if(!ae)return c();M?c(!1,M):n=setTimeout(()=>{c(!1,1e-7)},1e3)}M===1&&!ID(g,i.getBoundingClientRect())&&c(),ae=!1}try{t=new IntersectionObserver(ie,{...K,root:a.ownerDocument})}catch{t=new IntersectionObserver(ie,K)}t.observe(i)}return c(!0),o}function $P(i,e,t,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:p=!1}=n,g=Hy(i),v=a||o?[...g?tc(g):[],...tc(e)]:[];v.forEach(Q=>{a&&Q.addEventListener("scroll",t,{passive:!0}),o&&Q.addEventListener("resize",t)});const E=g&&h?XP(g,t):null;let T=-1,A=null;c&&(A=new ResizeObserver(Q=>{let[W]=Q;W&&W.target===g&&A&&(A.unobserve(e),cancelAnimationFrame(T),T=requestAnimationFrame(()=>{var K;(K=A)==null||K.observe(e)})),t()}),g&&!p&&A.observe(g),A.observe(e));let N,U=p?Vs(i):null;p&&I();function I(){const Q=Vs(i);U&&!ID(U,Q)&&t(),U=Q,N=requestAnimationFrame(I)}return t(),()=>{var Q;v.forEach(W=>{a&&W.removeEventListener("scroll",t),o&&W.removeEventListener("resize",t)}),E==null||E(),(Q=A)==null||Q.disconnect(),A=null,p&&cancelAnimationFrame(N)}}const ZP=PP,JP=NP,oT=kP,eV=(i,e,t)=>{const n=new Map,a={platform:WP,...t},o={...a.platform,_c:n};return MP(i,e,{...a,platform:o})};var tV=typeof document<"u",nV=function(){},vh=tV?oe.useLayoutEffect:nV;function Zh(i,e){if(i===e)return!0;if(typeof i!=typeof e)return!1;if(typeof i=="function"&&i.toString()===e.toString())return!0;let t,n,a;if(i&&e&&typeof i=="object"){if(Array.isArray(i)){if(t=i.length,t!==e.length)return!1;for(n=t;n--!==0;)if(!Zh(i[n],e[n]))return!1;return!0}if(a=Object.keys(i),t=a.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!{}.hasOwnProperty.call(e,a[n]))return!1;for(n=t;n--!==0;){const o=a[n];if(!(o==="_owner"&&i.$$typeof)&&!Zh(i[o],e[o]))return!1}return!0}return i!==i&&e!==e}function MD(i){return typeof window>"u"?1:(i.ownerDocument.defaultView||window).devicePixelRatio||1}function lT(i,e){const t=MD(i);return Math.round(e*t)/t}function Wm(i){const e=oe.useRef(i);return vh(()=>{e.current=i}),e}function rV(i){i===void 0&&(i={});const{placement:e="bottom",strategy:t="absolute",middleware:n=[],platform:a,elements:{reference:o,floating:c}={},transform:h=!0,whileElementsMounted:p,open:g}=i,[v,E]=oe.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[T,A]=oe.useState(n);Zh(T,n)||A(n);const[N,U]=oe.useState(null),[I,Q]=oe.useState(null),W=oe.useCallback(se=>{se!==ce.current&&(ce.current=se,U(se))},[]),K=oe.useCallback(se=>{se!==M.current&&(M.current=se,Q(se))},[]),ae=o||N,ie=c||I,ce=oe.useRef(null),M=oe.useRef(null),D=oe.useRef(v),R=p!=null,O=Wm(p),P=Wm(a),V=Wm(g),C=oe.useCallback(()=>{if(!ce.current||!M.current)return;const se={placement:e,strategy:t,middleware:T};P.current&&(se.platform=P.current),eV(ce.current,M.current,se).then(Te=>{const x={...Te,isPositioned:V.current!==!1};Re.current&&!Zh(D.current,x)&&(D.current=x,bD.flushSync(()=>{E(x)}))})},[T,e,t,P,V]);vh(()=>{g===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,E(se=>({...se,isPositioned:!1})))},[g]);const Re=oe.useRef(!1);vh(()=>(Re.current=!0,()=>{Re.current=!1}),[]),vh(()=>{if(ae&&(ce.current=ae),ie&&(M.current=ie),ae&&ie){if(O.current)return O.current(ae,ie,C);C()}},[ae,ie,C,O,R]);const we=oe.useMemo(()=>({reference:ce,floating:M,setReference:W,setFloating:K}),[W,K]),H=oe.useMemo(()=>({reference:ae,floating:ie}),[ae,ie]),J=oe.useMemo(()=>{const se={position:t,left:0,top:0};if(!H.floating)return se;const Te=lT(H.floating,v.x),x=lT(H.floating,v.y);return h?{...se,transform:"translate("+Te+"px, "+x+"px)",...MD(H.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:Te,top:x}},[t,h,H.floating,v.x,v.y]);return oe.useMemo(()=>({...v,update:C,refs:we,elements:H,floatingStyles:J}),[v,C,we,H,J])}const iV=i=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:i,fn(t){const{element:n,padding:a}=typeof i=="function"?i(t):i;return n&&e(n)?n.current!=null?oT({element:n.current,padding:a}).fn(t):{}:n?oT({element:n,padding:a}).fn(t):{}}}},aV=(i,e)=>({...ZP(i),options:[i,e]}),sV=(i,e)=>({...JP(i),options:[i,e]}),oV=(i,e)=>({...iV(i),options:[i,e]}),lV={...OT};let uT=!1,uV=0;const cT=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+uV++;function cV(){const[i,e]=oe.useState(()=>uT?cT():void 0);return $h(()=>{i==null&&e(cT())},[]),oe.useEffect(()=>{uT=!0},[]),i}const fV=lV.useId,OD=fV||cV,hV=oe.forwardRef(function(e,t){const{context:{placement:n,elements:{floating:a},middlewareData:{arrow:o,shift:c}},width:h=14,height:p=7,tipRadius:g=0,strokeWidth:v=0,staticOffset:E,stroke:T,d:A,style:{transform:N,...U}={},...I}=e,Q=OD(),[W,K]=oe.useState(!1);if($h(()=>{if(!a)return;nr(a).direction==="rtl"&&K(!0)},[a]),!a)return null;const[ae,ie]=n.split("-"),ce=ae==="top"||ae==="bottom";let M=E;(ce&&c!=null&&c.x||!ce&&c!=null&&c.y)&&(M=null);const D=v*2,R=D/2,O=h/2*(g/-8+1),P=p/2*g/4,V=!!A,C=M&&ie==="end"?"bottom":"top";let Re=M&&ie==="end"?"right":"left";M&&W&&(Re=ie==="end"?"left":"right");const we=(o==null?void 0:o.x)!=null?M||o.x:"",H=(o==null?void 0:o.y)!=null?M||o.y:"",J=A||"M0,0"+(" H"+h)+(" L"+(h-O)+","+(p-P))+(" Q"+h/2+","+p+" "+O+","+(p-P))+" Z",se={top:V?"rotate(180deg)":"",left:V?"rotate(90deg)":"rotate(-90deg)",bottom:V?"":"rotate(180deg)",right:V?"rotate(-90deg)":"rotate(90deg)"}[ae];return Ie.jsxs("svg",{...I,"aria-hidden":!0,ref:t,width:V?h:h+D,height:h,viewBox:"0 0 "+h+" "+(p>h?p:h),style:{position:"absolute",pointerEvents:"none",[Re]:we,[C]:H,[ae]:ce||V?"100%":"calc(100% - "+D/2+"px)",transform:[se,N].filter(Te=>!!Te).join(" "),...U},children:[D>0&&Ie.jsx("path",{clipPath:"url(#"+Q+")",fill:"none",stroke:T,strokeWidth:D+(A?0:1),d:J}),Ie.jsx("path",{stroke:D&&!A?I.fill:"none",d:J}),Ie.jsx("clipPath",{id:Q,children:Ie.jsx("rect",{x:-R,y:R*(V?-1:1),width:h+D,height:h})})]})});function dV(){const i=new Map;return{emit(e,t){var n;(n=i.get(e))==null||n.forEach(a=>a(t))},on(e,t){i.has(e)||i.set(e,new Set),i.get(e).add(t)},off(e,t){var n;(n=i.get(e))==null||n.delete(t)}}}const pV=oe.createContext(null),mV=oe.createContext(null),gV=()=>{var i;return((i=oe.useContext(pV))==null?void 0:i.id)||null},yV=()=>oe.useContext(mV);function vV(i){const{open:e=!1,onOpenChange:t,elements:n}=i,a=OD(),o=oe.useRef({}),[c]=oe.useState(()=>dV()),h=gV()!=null,[p,g]=oe.useState(n.reference),v=CP((A,N,U)=>{o.current.openEvent=A?N:void 0,c.emit("openchange",{open:A,event:N,reason:U,nested:h}),t==null||t(A,N,U)}),E=oe.useMemo(()=>({setPositionReference:g}),[]),T=oe.useMemo(()=>({reference:p||n.reference||null,floating:n.floating||null,domReference:n.reference}),[p,n.reference,n.floating]);return oe.useMemo(()=>({dataRef:o,open:e,onOpenChange:v,elements:T,events:c,floatingId:a,refs:E}),[e,v,T,c,a,E])}function _V(i){i===void 0&&(i={});const{nodeId:e}=i,t=vV({...i,elements:{reference:null,floating:null,...i.elements}}),n=i.rootContext||t,a=n.elements,[o,c]=oe.useState(null),[h,p]=oe.useState(null),v=(a==null?void 0:a.domReference)||o,E=oe.useRef(null),T=yV();$h(()=>{v&&(E.current=v)},[v]);const A=rV({...i,elements:{...a,...h&&{reference:h}}}),N=oe.useCallback(K=>{const ae=wn(K)?{getBoundingClientRect:()=>K.getBoundingClientRect(),getClientRects:()=>K.getClientRects(),contextElement:K}:K;p(ae),A.refs.setReference(ae)},[A.refs]),U=oe.useCallback(K=>{(wn(K)||K===null)&&(E.current=K,c(K)),(wn(A.refs.reference.current)||A.refs.reference.current===null||K!==null&&!wn(K))&&A.refs.setReference(K)},[A.refs]),I=oe.useMemo(()=>({...A.refs,setReference:U,setPositionReference:N,domReference:E}),[A.refs,U,N]),Q=oe.useMemo(()=>({...A.elements,domReference:v}),[A.elements,v]),W=oe.useMemo(()=>({...A,...n,refs:I,elements:Q,nodeId:e}),[A,I,Q,e,n]);return $h(()=>{n.dataRef.current.floatingContext=W;const K=T==null?void 0:T.nodesRef.current.find(ae=>ae.id===e);K&&(K.context=W)}),oe.useMemo(()=>({...A,context:W,refs:I,elements:Q}),[A,I,Q,W])}/*!
  react-datepicker v8.4.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var Pg=function(e,t){return Pg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},Pg(e,t)};function $t(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Pg(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Ke=function(){return Ke=Object.assign||function(t){for(var n,a=1,o=arguments.length;a<o;a++){n=arguments[a];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(t[c]=n[c])}return t},Ke.apply(this,arguments)};function Lr(i,e,t){if(t||arguments.length===2)for(var n=0,a=e.length,o;n<a;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))}var EV=function(i){var e=i.showTimeSelectOnly,t=e===void 0?!1:e,n=i.showTime,a=n===void 0?!1:n,o=i.className,c=i.children,h=t?"Choose Time":"Choose Date".concat(a?" and Time":"");return $.createElement("div",{className:o,role:"dialog","aria-label":h,"aria-modal":"true"},c)},wV=function(i,e){var t=oe.useRef(null),n=oe.useRef(i);n.current=i;var a=oe.useCallback(function(o){var c,h=o.composed&&o.composedPath&&o.composedPath().find(function(p){return p instanceof Node})||o.target;t.current&&!t.current.contains(h)&&(e&&h instanceof HTMLElement&&h.classList.contains(e)||(c=n.current)===null||c===void 0||c.call(n,o))},[e]);return oe.useEffect(function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[a]),t},Rd=function(i){var e=i.children,t=i.onClickOutside,n=i.className,a=i.containerRef,o=i.style,c=i.ignoreClass,h=wV(t,c);return $.createElement("div",{className:n,style:o,ref:function(p){h.current=p,a&&(a.current=p)}},e)},he;(function(i){i.ArrowUp="ArrowUp",i.ArrowDown="ArrowDown",i.ArrowLeft="ArrowLeft",i.ArrowRight="ArrowRight",i.PageUp="PageUp",i.PageDown="PageDown",i.Home="Home",i.End="End",i.Enter="Enter",i.Space=" ",i.Tab="Tab",i.Escape="Escape",i.Backspace="Backspace",i.X="x"})(he||(he={}));function kD(){var i=typeof window<"u"?window:globalThis;return i}var yc=12;function Je(i){if(i==null)return new Date;var e=typeof i=="string"?Xx(i):ye(i);return Cd(e)?e:new Date}function Xm(i,e,t,n,a){a===void 0&&(a=Je());for(var o=ll(t)||ll(Yy()),c=Array.isArray(e)?e:[e],h=0,p=c;h<p.length;h++){var g=p[h],v=qx(i,g,a,{locale:o});if(Cd(v)&&(!n||i===gt(v,g,t)))return v}return null}function Cd(i,e){return Fh(i)&&!Ps(i,new Date("1/1/1800"))}function gt(i,e,t){if(t==="en")return eT(i,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=t?ll(t):void 0;return t&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),n=n||ll(Yy()),eT(i,e,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Zn(i,e){var t=e.dateFormat,n=e.locale,a=Array.isArray(t)&&t.length>0?t[0]:t;return i&&gt(i,a,n)||""}var ND=" - ";function TV(i,e,t){if(!i)return"";var n=Zn(i,t),a=e?Zn(e,t):"";return"".concat(n).concat(ND).concat(a)}function bV(i,e){if(!(i!=null&&i.length))return"";var t=i[0]?Zn(i[0],e):"";if(i.length===1)return t;if(i.length===2&&i[1]){var n=Zn(i[1],e);return"".concat(t,", ").concat(n)}var a=i.length-1;return"".concat(t," (+").concat(a,")")}function $m(i,e){var t=e.hour,n=t===void 0?0:t,a=e.minute,o=a===void 0?0:a,c=e.second,h=c===void 0?0:c;return mh(gh(yh(i,h),o),n)}function SV(i){return ky(i)}function DV(i,e){return gt(i,"ddd",e)}function _h(i){return xs(i)}function ba(i,e,t){var n=ll(e||Yy());return Mi(i,{locale:n,weekStartsOn:t})}function Di(i){return uD(i)}function Lu(i){return Td(i)}function fT(i){return Mg(i)}function hT(){return xs(Je())}function dT(i){return oD(i)}function AV(i){return XN(i)}function RV(i){return lD(i)}function xr(i,e){return i&&e?Kx(i,e):!i&&!e}function En(i,e){return i&&e?Gx(i,e):!i&&!e}function Jh(i,e){return i&&e?Qx(i,e):!i&&!e}function Qe(i,e){return i&&e?KN(i,e):!i&&!e}function bs(i,e){return i&&e?W2(i,e):!i&&!e}function Uu(i,e,t){var n,a=xs(e),o=oD(t);try{n=ec(i,{start:a,end:o})}catch{n=!1}return n}function Yy(){var i=kD();return i.__localeId__}function ll(i){if(typeof i=="string"){var e=kD();return e.__localeData__?e.__localeData__[i]:void 0}else return i}function CV(i,e,t){return e(gt(i,"EEEE",t))}function IV(i,e){return gt(i,"EEEEEE",e)}function MV(i,e){return gt(i,"EEE",e)}function Fy(i,e){return gt(Jn(Je(),i),"LLLL",e)}function xD(i,e){return gt(Jn(Je(),i),"LLL",e)}function OV(i,e){return gt(Bo(Je(),i),"QQQ",e)}function er(i,e){var t=e===void 0?{}:e,n=t.minDate,a=t.maxDate,o=t.excludeDates,c=t.excludeDateIntervals,h=t.includeDates,p=t.includeDateIntervals,g=t.filterDate;return vc(i,{minDate:n,maxDate:a})||o&&o.some(function(v){return v instanceof Date?Qe(i,v):Qe(i,v.date)})||c&&c.some(function(v){var E=v.start,T=v.end;return ec(i,{start:E,end:T})})||h&&!h.some(function(v){return Qe(i,v)})||p&&!p.some(function(v){var E=v.start,T=v.end;return ec(i,{start:E,end:T})})||g&&!g(Je(i))||!1}function qy(i,e){var t=e===void 0?{}:e,n=t.excludeDates,a=t.excludeDateIntervals;return a&&a.length>0?a.some(function(o){var c=o.start,h=o.end;return ec(i,{start:c,end:h})}):n&&n.some(function(o){var c;return o instanceof Date?Qe(i,o):Qe(i,(c=o.date)!==null&&c!==void 0?c:new Date)})||!1}function PD(i,e){var t=e===void 0?{}:e,n=t.minDate,a=t.maxDate,o=t.excludeDates,c=t.includeDates,h=t.filterDate;return vc(i,{minDate:n?uD(n):void 0,maxDate:a?lD(a):void 0})||(o==null?void 0:o.some(function(p){return En(i,p instanceof Date?p:p.date)}))||c&&!c.some(function(p){return En(i,p)})||h&&!h(Je(i))||!1}function eh(i,e,t,n){var a=Ve(i),o=pn(i),c=Ve(e),h=pn(e),p=Ve(n);return a===c&&a===p?o<=t&&t<=h:a<c?p===a&&o<=t||p===c&&h>=t||p<c&&p>a:!1}function kV(i,e){var t=e===void 0?{}:e,n=t.minDate,a=t.maxDate,o=t.excludeDates,c=t.includeDates;return vc(i,{minDate:n,maxDate:a})||o&&o.some(function(h){return En(h instanceof Date?h:h.date,i)})||c&&!c.some(function(h){return En(h,i)})||!1}function th(i,e){var t=e===void 0?{}:e,n=t.minDate,a=t.maxDate,o=t.excludeDates,c=t.includeDates,h=t.filterDate;return vc(i,{minDate:n,maxDate:a})||(o==null?void 0:o.some(function(p){return Jh(i,p instanceof Date?p:p.date)}))||c&&!c.some(function(p){return Jh(i,p)})||h&&!h(Je(i))||!1}function nh(i,e,t){if(!e||!t||!Fh(e)||!Fh(t))return!1;var n=Ve(e),a=Ve(t);return n<=i&&a>=i}function Eh(i,e){var t=e===void 0?{}:e,n=t.minDate,a=t.maxDate,o=t.excludeDates,c=t.includeDates,h=t.filterDate,p=new Date(i,0,1);return vc(p,{minDate:n?Td(n):void 0,maxDate:a?cD(a):void 0})||(o==null?void 0:o.some(function(g){return xr(p,g instanceof Date?g:g.date)}))||c&&!c.some(function(g){return xr(p,g)})||h&&!h(Je(p))||!1}function rh(i,e,t,n){var a=Ve(i),o=Ds(i),c=Ve(e),h=Ds(e),p=Ve(n);return a===c&&a===p?o<=t&&t<=h:a<c?p===a&&o<=t||p===c&&h>=t||p<c&&p>a:!1}function vc(i,e){var t,n=e===void 0?{}:e,a=n.minDate,o=n.maxDate;return(t=a&&rl(i,a)<0||o&&rl(i,o)>0)!==null&&t!==void 0?t:!1}function pT(i,e){return e.some(function(t){return bi(t)===bi(i)&&Si(t)===Si(i)&&Ta(t)===Ta(i)})}function mT(i,e){var t=e===void 0?{}:e,n=t.excludeTimes,a=t.includeTimes,o=t.filterTime;return n&&pT(i,n)||a&&!pT(i,a)||o&&!o(i)||!1}function gT(i,e){var t=e.minTime,n=e.maxTime;if(!t||!n)throw new Error("Both minTime and maxTime props required");var a=Je();a=mh(a,bi(i)),a=gh(a,Si(i)),a=yh(a,Ta(i));var o=Je();o=mh(o,bi(t)),o=gh(o,Si(t)),o=yh(o,Ta(t));var c=Je();c=mh(c,bi(n)),c=gh(c,Si(n)),c=yh(c,Ta(n));var h;try{h=!ec(a,{start:o,end:c})}catch{h=!1}return h}function yT(i,e){var t=e===void 0?{}:e,n=t.minDate,a=t.includeDates,o=As(i,1);return n&&qh(n,o)>0||a&&a.every(function(c){return qh(c,o)>0})||!1}function vT(i,e){var t=e===void 0?{}:e,n=t.maxDate,a=t.includeDates,o=pr(i,1);return n&&qh(o,n)>0||a&&a.every(function(c){return qh(o,c)>0})||!1}function NV(i,e){var t=e===void 0?{}:e,n=t.minDate,a=t.includeDates,o=Td(i),c=_D(o);return n&&jh(n,c)>0||a&&a.every(function(h){return jh(h,c)>0})||!1}function xV(i,e){var t=e===void 0?{}:e,n=t.maxDate,a=t.includeDates,o=cD(i),c=Oy(o,1);return n&&jh(c,n)>0||a&&a.every(function(h){return jh(c,h)>0})||!1}function _T(i,e){var t=e===void 0?{}:e,n=t.minDate,a=t.includeDates,o=il(i,1);return n&&Gh(n,o)>0||a&&a.every(function(c){return Gh(c,o)>0})||!1}function PV(i,e){var t=e===void 0?{}:e,n=t.minDate,a=t.yearItemNumber,o=a===void 0?yc:a,c=Lu(il(i,o)),h=ma(c,o).endPeriod,p=n&&Ve(n);return p&&p>h||!1}function ET(i,e){var t=e===void 0?{}:e,n=t.maxDate,a=t.includeDates,o=wi(i,1);return n&&Gh(o,n)>0||a&&a.every(function(c){return Gh(o,c)>0})||!1}function VV(i,e){var t=e===void 0?{}:e,n=t.maxDate,a=t.yearItemNumber,o=a===void 0?yc:a,c=wi(i,o),h=ma(c,o).startPeriod,p=n&&Ve(n);return p&&p<h||!1}function VD(i){var e=i.minDate,t=i.includeDates;if(t&&e){var n=t.filter(function(a){return rl(a,e)>=0});return Kw(n)}else return t?Kw(t):e}function LD(i){var e=i.maxDate,t=i.includeDates;if(t&&e){var n=t.filter(function(a){return rl(a,e)<=0});return Qw(n)}else return t?Qw(t):e}function wT(i,e){var t;i===void 0&&(i=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var n=new Map,a=0,o=i.length;a<o;a++){var c=i[a];if(Ti(c)){var h=gt(c,"MM.dd.yyyy"),p=n.get(h)||[];p.includes(e)||(p.push(e),n.set(h,p))}else if(typeof c=="object"){var g=Object.keys(c),v=(t=g[0])!==null&&t!==void 0?t:"",E=c[v];if(typeof v=="string"&&Array.isArray(E))for(var T=0,A=E.length;T<A;T++){var N=E[T];if(N){var h=gt(N,"MM.dd.yyyy"),p=n.get(h)||[];p.includes(v)||(p.push(v),n.set(h,p))}}}}return n}function LV(i,e){return i.length!==e.length?!1:i.every(function(t,n){return t===e[n]})}function UV(i,e){i===void 0&&(i=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return i.forEach(function(n){var a=n.date,o=n.holidayName;if(Ti(a)){var c=gt(a,"MM.dd.yyyy"),h=t.get(c)||{className:"",holidayNames:[]};if(!("className"in h&&h.className===e&&LV(h.holidayNames,[o]))){h.className=e;var p=h.holidayNames;h.holidayNames=p?Lr(Lr([],p,!0),[o],!1):[o],t.set(c,h)}}}),t}function BV(i,e,t,n,a){for(var o=a.length,c=[],h=0;h<o;h++){var p=i,g=a[h];g&&(p=qN(p,bi(g)),p=Ig(p,Si(g)),p=QN(p,Ta(g)));var v=Ig(i,(t+1)*n);Ma(p,e)&&Ps(p,v)&&g!=null&&c.push(g)}return c}function TT(i){return i<10?"0".concat(i):"".concat(i)}function ma(i,e){e===void 0&&(e=yc);var t=Math.ceil(Ve(i)/e)*e,n=t-(e-1);return{startPeriod:n,endPeriod:t}}function HV(i){var e=new Date(i.getFullYear(),i.getMonth(),i.getDate()),t=new Date(i.getFullYear(),i.getMonth(),i.getDate(),24);return Math.round((+t-+e)/36e5)}function bT(i){var e=i.getSeconds(),t=i.getMilliseconds();return ye(i.getTime()-e*1e3-t)}function zV(i,e){return bT(i).getTime()===bT(e).getTime()}function ST(i){if(!Ti(i))throw new Error("Invalid date");var e=new Date(i);return e.setHours(0,0,0,0),e}function DT(i,e){if(!Ti(i)||!Ti(e))throw new Error("Invalid date received");var t=ST(i),n=ST(e);return Ps(t,n)}function UD(i){return i.key===he.Space}var YV=function(i){$t(e,i);function e(t){var n=i.call(this,t)||this;return n.inputRef=$.createRef(),n.onTimeChange=function(a){var o,c;n.setState({time:a});var h=n.props.date,p=h instanceof Date&&!isNaN(+h),g=p?h:new Date;if(a!=null&&a.includes(":")){var v=a.split(":"),E=v[0],T=v[1];g.setHours(Number(E)),g.setMinutes(Number(T))}(c=(o=n.props).onChange)===null||c===void 0||c.call(o,g)},n.renderTimeInput=function(){var a=n.state.time,o=n.props,c=o.date,h=o.timeString,p=o.customTimeInput;return p?oe.cloneElement(p,{date:c,value:a,onChange:n.onTimeChange}):$.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var g;(g=n.inputRef.current)===null||g===void 0||g.focus()},required:!0,value:a,onChange:function(g){n.onTimeChange(g.target.value||h)}})},n.state={time:n.props.timeString},n}return e.getDerivedStateFromProps=function(t,n){return t.timeString!==n.time?{time:t.timeString}:null},e.prototype.render=function(){return $.createElement("div",{className:"react-datepicker__input-time-container"},$.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),$.createElement("div",{className:"react-datepicker-time__input-container"},$.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(oe.Component),FV=function(i){$t(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.dayEl=oe.createRef(),t.handleClick=function(n){!t.isDisabled()&&t.props.onClick&&t.props.onClick(n)},t.handleMouseEnter=function(n){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(n)},t.handleOnKeyDown=function(n){var a,o,c=n.key;c===he.Space&&(n.preventDefault(),n.key=he.Enter),(o=(a=t.props).handleOnKeyDown)===null||o===void 0||o.call(a,n)},t.isSameDay=function(n){return Qe(t.props.day,n)},t.isKeyboardSelected=function(){var n;if(t.props.disabledKeyboardNavigation)return!1;var a=t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(c){return t.isSameDayOrWeek(c)}):t.isSameDayOrWeek(t.props.selected),o=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!a&&t.isSameDayOrWeek(t.props.preSelection)&&!o},t.isDisabled=function(n){return n===void 0&&(n=t.props.day),er(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return qy(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return Qe(t.props.day,ba(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(n){return t.props.showWeekPicker&&Qe(n,ba(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(n){return t.isSameDay(n)||t.isSameWeek(n)},t.getHighLightedClass=function(){var n=t.props,a=n.day,o=n.highlightDates;if(!o)return!1;var c=gt(a,"MM.dd.yyyy");return o.get(c)},t.getHolidaysClass=function(){var n,a=t.props,o=a.day,c=a.holidays;if(!c)return[void 0];var h=gt(o,"MM.dd.yyyy");return c.has(h)?[(n=c.get(h))===null||n===void 0?void 0:n.className]:[void 0]},t.isInRange=function(){var n=t.props,a=n.day,o=n.startDate,c=n.endDate;return!o||!c?!1:Uu(a,o,c)},t.isInSelectingRange=function(){var n,a=t.props,o=a.day,c=a.selectsStart,h=a.selectsEnd,p=a.selectsRange,g=a.selectsDisabledDaysInRange,v=a.startDate,E=a.endDate,T=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return!(c||h||p)||!T||!g&&t.isDisabled()?!1:c&&E&&(Ps(T,E)||bs(T,E))?Uu(o,T,E):h&&v&&(Ma(T,v)||bs(T,v))||p&&v&&!E&&(Ma(T,v)||bs(T,v))?Uu(o,v,T):!1},t.isSelectingRangeStart=function(){var n;if(!t.isInSelectingRange())return!1;var a=t.props,o=a.day,c=a.startDate,h=a.selectsStart,p=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return h?Qe(o,p):Qe(o,c)},t.isSelectingRangeEnd=function(){var n;if(!t.isInSelectingRange())return!1;var a=t.props,o=a.day,c=a.endDate,h=a.selectsEnd,p=a.selectsRange,g=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return h||p?Qe(o,g):Qe(o,c)},t.isRangeStart=function(){var n=t.props,a=n.day,o=n.startDate,c=n.endDate;return!o||!c?!1:Qe(o,a)},t.isRangeEnd=function(){var n=t.props,a=n.day,o=n.startDate,c=n.endDate;return!o||!c?!1:Qe(c,a)},t.isWeekend=function(){var n=j2(t.props.day);return n===0||n===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===pn(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(pn(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(Je())},t.isSelected=function(){var n;return t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(a){return t.isSameDayOrWeek(a)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(n){var a=t.props.dayClassName?t.props.dayClassName(n):void 0;return sn("react-datepicker__day",a,"react-datepicker__day--"+DV(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var n=t.props,a=n.day,o=n.ariaLabelPrefixWhenEnabled,c=o===void 0?"Choose":o,h=n.ariaLabelPrefixWhenDisabled,p=h===void 0?"Not available":h,g=t.isDisabled()||t.isExcluded()?p:c;return"".concat(g," ").concat(gt(a,"PPPP",t.props.locale))},t.getTitle=function(){var n=t.props,a=n.day,o=n.holidays,c=o===void 0?new Map:o,h=n.excludeDates,p=gt(a,"MM.dd.yyyy"),g=[];return c.has(p)&&g.push.apply(g,c.get(p).holidayNames),t.isExcluded()&&g.push(h==null?void 0:h.filter(function(v){return v instanceof Date?Qe(v,a):Qe(v==null?void 0:v.date,a)}).map(function(v){if(!(v instanceof Date))return v==null?void 0:v.message})),g.join(", ")},t.getTabIndex=function(){var n=t.props.selected,a=t.props.preSelection,o=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(n)&&Qe(a,n))?0:-1;return o},t.handleFocusDay=function(){var n;t.shouldFocusDay()&&((n=t.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(tT(t.props.day),t.props.day):tT(t.props.day)},t.render=function(){return $.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&$.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,n,a;return((n=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((a=document.activeElement)===null||a===void 0?void 0:a.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(oe.Component),qV=function(i){$t(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.weekNumberEl=oe.createRef(),t.handleClick=function(n){t.props.onClick&&t.props.onClick(n)},t.handleOnKeyDown=function(n){var a,o,c=n.key;c===he.Space&&(n.preventDefault(),n.key=he.Enter),(o=(a=t.props).handleOnKeyDown)===null||o===void 0||o.call(a,n)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Qe(t.props.date,t.props.selected)&&Qe(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Qe(t.props.date,t.props.selected)&&Qe(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(n){var a=!1;t.getTabIndex()===0&&!(n!=null&&n.isInputFocused)&&Qe(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(a=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,n=t.weekNumber,a=t.isWeekDisabled,o=t.ariaLabelPrefix,c=o===void 0?e.defaultProps.ariaLabelPrefix:o,h=t.onClick,p={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!h&&!a,"react-datepicker__week-number--selected":!!h&&Qe(this.props.date,this.props.selected)};return $.createElement("div",{ref:this.weekNumberEl,className:sn(p),"aria-label":"".concat(c," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},e}(oe.Component),jV=function(i){$t(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.isDisabled=function(n){return er(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(n,a){t.props.onDayClick&&t.props.onDayClick(n,a)},t.handleDayMouseEnter=function(n){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(n)},t.handleWeekClick=function(n,a,o){for(var c,h,p,g=new Date(n),v=0;v<7;v++){var E=new Date(n);E.setDate(E.getDate()+v);var T=!t.isDisabled(E);if(T){g=E;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(g,a,o),t.props.showWeekPicker&&t.handleDayClick(g,o),((c=t.props.shouldCloseOnSelect)!==null&&c!==void 0?c:e.defaultProps.shouldCloseOnSelect)&&((p=(h=t.props).setOpen)===null||p===void 0||p.call(h,!1))},t.formatWeekNumber=function(n){return t.props.formatWeekNumber?t.props.formatWeekNumber(n):SV(n)},t.isWeekDisabled=function(){for(var n=t.startOfWeek(),a=fr(n,6),o=new Date(n);o<=a;){if(!t.isDisabled(o))return!1;o=fr(o,1)}return!0},t.renderDays=function(){var n=t.startOfWeek(),a=[],o=t.formatWeekNumber(n);if(t.props.showWeekNumber){var c=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,n,o):void 0;a.push($.createElement(qV,Ke({key:"W"},e.defaultProps,t.props,{weekNumber:o,isWeekDisabled:t.isWeekDisabled(),date:n,onClick:c})))}return a.concat([0,1,2,3,4,5,6].map(function(h){var p=fr(n,h);return $.createElement(FV,Ke({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:p.valueOf(),day:p,onClick:t.handleDayClick.bind(t,p),onMouseEnter:t.handleDayMouseEnter.bind(t,p)}))}))},t.startOfWeek=function(){return ba(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Qe(t.startOfWeek(),t.props.selected)&&Qe(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":Qe(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return $.createElement("div",{className:sn(t)},this.renderDays())},e}(oe.Component),Mu,GV=6,Go={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Zm=(Mu={},Mu[Go.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Mu[Go.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Mu[Go.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Mu),ih=1;function AT(i,e){return i?Go.FOUR_COLUMNS:e?Go.TWO_COLUMNS:Go.THREE_COLUMNS}var QV=function(i){$t(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.MONTH_REFS=Lr([],Array(12),!0).map(function(){return oe.createRef()}),t.QUARTER_REFS=Lr([],Array(4),!0).map(function(){return oe.createRef()}),t.isDisabled=function(n){return er(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(n){return qy(n,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(n,a){var o,c;(c=(o=t.props).onDayClick)===null||c===void 0||c.call(o,n,a,t.props.orderInDisplay)},t.handleDayMouseEnter=function(n){var a,o;(o=(a=t.props).onDayMouseEnter)===null||o===void 0||o.call(a,n)},t.handleMouseLeave=function(){var n,a;(a=(n=t.props).onMouseLeave)===null||a===void 0||a.call(n)},t.isRangeStartMonth=function(n){var a=t.props,o=a.day,c=a.startDate,h=a.endDate;return!c||!h?!1:En(Jn(o,n),c)},t.isRangeStartQuarter=function(n){var a=t.props,o=a.day,c=a.startDate,h=a.endDate;return!c||!h?!1:Jh(Bo(o,n),c)},t.isRangeEndMonth=function(n){var a=t.props,o=a.day,c=a.startDate,h=a.endDate;return!c||!h?!1:En(Jn(o,n),h)},t.isRangeEndQuarter=function(n){var a=t.props,o=a.day,c=a.startDate,h=a.endDate;return!c||!h?!1:Jh(Bo(o,n),h)},t.isInSelectingRangeMonth=function(n){var a,o=t.props,c=o.day,h=o.selectsStart,p=o.selectsEnd,g=o.selectsRange,v=o.startDate,E=o.endDate,T=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return!(h||p||g)||!T?!1:h&&E?eh(T,E,n,c):p&&v||g&&v&&!E?eh(v,T,n,c):!1},t.isSelectingMonthRangeStart=function(n){var a;if(!t.isInSelectingRangeMonth(n))return!1;var o=t.props,c=o.day,h=o.startDate,p=o.selectsStart,g=Jn(c,n),v=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return p?En(g,v):En(g,h)},t.isSelectingMonthRangeEnd=function(n){var a;if(!t.isInSelectingRangeMonth(n))return!1;var o=t.props,c=o.day,h=o.endDate,p=o.selectsEnd,g=o.selectsRange,v=Jn(c,n),E=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return p||g?En(v,E):En(v,h)},t.isInSelectingRangeQuarter=function(n){var a,o=t.props,c=o.day,h=o.selectsStart,p=o.selectsEnd,g=o.selectsRange,v=o.startDate,E=o.endDate,T=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return!(h||p||g)||!T?!1:h&&E?rh(T,E,n,c):p&&v||g&&v&&!E?rh(v,T,n,c):!1},t.isWeekInMonth=function(n){var a=t.props.day,o=fr(n,6);return En(n,a)||En(o,a)},t.isCurrentMonth=function(n,a){return Ve(n)===Ve(Je())&&a===pn(Je())},t.isCurrentQuarter=function(n,a){return Ve(n)===Ve(Je())&&a===Ds(Je())},t.isSelectedMonth=function(n,a,o){return pn(o)===a&&Ve(n)===Ve(o)},t.isSelectMonthInList=function(n,a,o){return o.some(function(c){return t.isSelectedMonth(n,a,c)})},t.isSelectedQuarter=function(n,a,o){return Ds(n)===a&&Ve(n)===Ve(o)},t.isMonthSelected=function(){var n=t.props,a=n.day,o=n.selected,c=n.selectedDates,h=n.selectsMultiple,p=pn(a);return h?c==null?void 0:c.some(function(g){return t.isSelectedMonth(a,p,g)}):!!o&&t.isSelectedMonth(a,p,o)},t.renderWeeks=function(){for(var n=[],a=t.props.fixedHeight,o=0,c=!1,h=ba(Di(t.props.day),t.props.locale,t.props.calendarStartDay),p=function(N){return t.props.showWeekPicker?ba(N,t.props.locale,t.props.calendarStartDay):t.props.preSelection},g=function(N){return t.props.showWeekPicker?ba(N,t.props.locale,t.props.calendarStartDay):t.props.selected},v=t.props.selected?g(t.props.selected):void 0,E=t.props.preSelection?p(t.props.preSelection):void 0;n.push($.createElement(jV,Ke({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:o,day:h,month:pn(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:v,preSelection:E,showWeekNumber:t.props.showWeekNumbers}))),!c;){o++,h=Yh(h,1);var T=a&&o>=GV,A=!a&&!t.isWeekInMonth(h);if(T||A)if(t.props.peekNextMonth)c=!0;else break}return n},t.onMonthClick=function(n,a){var o=t.isMonthDisabledForLabelDate(a),c=o.isDisabled,h=o.labelDate;c||t.handleDayClick(Di(h),n)},t.onMonthMouseEnter=function(n){var a=t.isMonthDisabledForLabelDate(n),o=a.isDisabled,c=a.labelDate;o||t.handleDayMouseEnter(Di(c))},t.handleMonthNavigation=function(n,a){var o,c,h,p;(c=(o=t.props).setPreSelection)===null||c===void 0||c.call(o,a),(p=(h=t.MONTH_REFS[n])===null||h===void 0?void 0:h.current)===null||p===void 0||p.focus()},t.handleKeyboardNavigation=function(n,a,o){var c,h=t.props,p=h.selected,g=h.preSelection,v=h.setPreSelection,E=h.minDate,T=h.maxDate,A=h.showFourColumnMonthYearPicker,N=h.showTwoColumnMonthYearPicker;if(g){var U=AT(A,N),I=t.getVerticalOffset(U),Q=(c=Zm[U])===null||c===void 0?void 0:c.grid,W=function(M,D,R){var O,P,V=D,C=R;switch(M){case he.ArrowRight:V=pr(D,ih),C=R===11?0:R+ih;break;case he.ArrowLeft:V=As(D,ih),C=R===0?11:R-ih;break;case he.ArrowUp:V=As(D,I),C=!((O=Q==null?void 0:Q[0])===null||O===void 0)&&O.includes(R)?R+12-I:R-I;break;case he.ArrowDown:V=pr(D,I),C=!((P=Q==null?void 0:Q[Q.length-1])===null||P===void 0)&&P.includes(R)?R-12+I:R+I;break}return{newCalculatedDate:V,newCalculatedMonth:C}},K=function(M,D,R){for(var O=40,P=M,V=!1,C=0,Re=W(P,D,R),we=Re.newCalculatedDate,H=Re.newCalculatedMonth;!V;){if(C>=O){we=D,H=R;break}if(E&&we<E){P=he.ArrowRight;var J=W(P,we,H);we=J.newCalculatedDate,H=J.newCalculatedMonth}if(T&&we>T){P=he.ArrowLeft;var J=W(P,we,H);we=J.newCalculatedDate,H=J.newCalculatedMonth}if(kV(we,t.props)){var J=W(P,we,H);we=J.newCalculatedDate,H=J.newCalculatedMonth}else V=!0;C++}return{newCalculatedDate:we,newCalculatedMonth:H}};if(a===he.Enter){t.isMonthDisabled(o)||(t.onMonthClick(n,o),v==null||v(p));return}var ae=K(a,g,o),ie=ae.newCalculatedDate,ce=ae.newCalculatedMonth;switch(a){case he.ArrowRight:case he.ArrowLeft:case he.ArrowUp:case he.ArrowDown:t.handleMonthNavigation(ce,ie);break}}},t.getVerticalOffset=function(n){var a,o;return(o=(a=Zm[n])===null||a===void 0?void 0:a.verticalNavigationOffset)!==null&&o!==void 0?o:0},t.onMonthKeyDown=function(n,a){var o=t.props,c=o.disabledKeyboardNavigation,h=o.handleOnMonthKeyDown,p=n.key;p!==he.Tab&&n.preventDefault(),c||t.handleKeyboardNavigation(n,p,a),h&&h(n)},t.onQuarterClick=function(n,a){var o=Bo(t.props.day,a);th(o,t.props)||t.handleDayClick(fT(o),n)},t.onQuarterMouseEnter=function(n){var a=Bo(t.props.day,n);th(a,t.props)||t.handleDayMouseEnter(fT(a))},t.handleQuarterNavigation=function(n,a){var o,c,h,p;t.isDisabled(a)||t.isExcluded(a)||((c=(o=t.props).setPreSelection)===null||c===void 0||c.call(o,a),(p=(h=t.QUARTER_REFS[n-1])===null||h===void 0?void 0:h.current)===null||p===void 0||p.focus())},t.onQuarterKeyDown=function(n,a){var o,c,h=n.key;if(!t.props.disabledKeyboardNavigation)switch(h){case he.Enter:t.onQuarterClick(n,a),(c=(o=t.props).setPreSelection)===null||c===void 0||c.call(o,t.props.selected);break;case he.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(a===4?1:a+1,Oy(t.props.preSelection,1));break;case he.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(a===1?4:a-1,_D(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(n){var a,o=t.props,c=o.day,h=o.minDate,p=o.maxDate,g=o.excludeDates,v=o.includeDates,E=Jn(c,n);return{isDisabled:(a=(h||p||g||v)&&PD(E,t.props))!==null&&a!==void 0?a:!1,labelDate:E}},t.isMonthDisabled=function(n){var a=t.isMonthDisabledForLabelDate(n).isDisabled;return a},t.getMonthClassNames=function(n){var a=t.props,o=a.day,c=a.startDate,h=a.endDate,p=a.preSelection,g=a.monthClassName,v=g?g(Jn(o,n)):void 0,E=t.getSelection();return sn("react-datepicker__month-text","react-datepicker__month-".concat(n),v,{"react-datepicker__month-text--disabled":t.isMonthDisabled(n),"react-datepicker__month-text--selected":E?t.isSelectMonthInList(o,n,E):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&p&&t.isSelectedMonth(o,n,p)&&!t.isMonthSelected()&&!t.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":c&&h?eh(c,h,n,o):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(n),"react-datepicker__month-text--range-end":t.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":t.isCurrentMonth(o,n)})},t.getTabIndex=function(n){if(t.props.preSelection==null)return"-1";var a=pn(t.props.preSelection),o=t.isMonthDisabledForLabelDate(a).isDisabled,c=n===a&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return c},t.getQuarterTabIndex=function(n){if(t.props.preSelection==null)return"-1";var a=Ds(t.props.preSelection),o=th(t.props.day,t.props),c=n===a&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return c},t.getAriaLabel=function(n){var a=t.props,o=a.chooseDayAriaLabelPrefix,c=o===void 0?"Choose":o,h=a.disabledDayAriaLabelPrefix,p=h===void 0?"Not available":h,g=a.day,v=a.locale,E=Jn(g,n),T=t.isDisabled(E)||t.isExcluded(E)?p:c;return"".concat(T," ").concat(gt(E,"MMMM yyyy",v))},t.getQuarterClassNames=function(n){var a=t.props,o=a.day,c=a.startDate,h=a.endDate,p=a.selected,g=a.minDate,v=a.maxDate,E=a.excludeDates,T=a.includeDates,A=a.filterDate,N=a.preSelection,U=a.disabledKeyboardNavigation,I=(g||v||E||T||A)&&th(Bo(o,n),t.props);return sn("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":I,"react-datepicker__quarter-text--selected":p?t.isSelectedQuarter(o,n,p):void 0,"react-datepicker__quarter-text--keyboard-selected":!U&&N&&t.isSelectedQuarter(o,n,N)&&!I,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":c&&h?rh(c,h,n,o):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":t.isCurrentQuarter(o,n)})},t.getMonthContent=function(n){var a=t.props,o=a.showFullMonthYearPicker,c=a.renderMonthContent,h=a.locale,p=a.day,g=xD(n,h),v=Fy(n,h);return c?c(n,g,v,p):o?v:g},t.getQuarterContent=function(n){var a,o=t.props,c=o.renderQuarterContent,h=o.locale,p=OV(n,h);return(a=c==null?void 0:c(n,p))!==null&&a!==void 0?a:p},t.renderMonths=function(){var n,a=t.props,o=a.showTwoColumnMonthYearPicker,c=a.showFourColumnMonthYearPicker,h=a.day,p=a.selected,g=(n=Zm[AT(c,o)])===null||n===void 0?void 0:n.grid;return g==null?void 0:g.map(function(v,E){return $.createElement("div",{className:"react-datepicker__month-wrapper",key:E},v.map(function(T,A){return $.createElement("div",{ref:t.MONTH_REFS[T],key:A,onClick:function(N){t.onMonthClick(N,T)},onKeyDown:function(N){UD(N)&&(N.preventDefault(),N.key=he.Enter),t.onMonthKeyDown(N,T)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(T)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(T)}:void 0,tabIndex:Number(t.getTabIndex(T)),className:t.getMonthClassNames(T),"aria-disabled":t.isMonthDisabled(T),role:"option","aria-label":t.getAriaLabel(T),"aria-current":t.isCurrentMonth(h,T)?"date":void 0,"aria-selected":p?t.isSelectedMonth(h,T,p):void 0},t.getMonthContent(T))}))})},t.renderQuarters=function(){var n=t.props,a=n.day,o=n.selected,c=[1,2,3,4];return $.createElement("div",{className:"react-datepicker__quarter-wrapper"},c.map(function(h,p){return $.createElement("div",{key:p,ref:t.QUARTER_REFS[p],role:"option",onClick:function(g){t.onQuarterClick(g,h)},onKeyDown:function(g){t.onQuarterKeyDown(g,h)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(h)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(h)}:void 0,className:t.getQuarterClassNames(h),"aria-selected":o?t.isSelectedQuarter(a,h,o):void 0,tabIndex:Number(t.getQuarterTabIndex(h)),"aria-current":t.isCurrentQuarter(a,h)?"date":void 0},t.getQuarterContent(h))}))},t.getClassNames=function(){var n=t.props,a=n.selectingDate,o=n.selectsStart,c=n.selectsEnd,h=n.showMonthYearPicker,p=n.showQuarterYearPicker,g=n.showWeekPicker;return sn("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(o||c)},{"react-datepicker__monthPicker":h},{"react-datepicker__quarterPicker":p},{"react-datepicker__weekPicker":g})},t}return e.prototype.getSelection=function(){var t=this.props,n=t.selected,a=t.selectedDates,o=t.selectsMultiple;if(o)return a;if(n)return[n]},e.prototype.render=function(){var t=this.props,n=t.showMonthYearPicker,a=t.showQuarterYearPicker,o=t.day,c=t.ariaLabelPrefix,h=c===void 0?"Month ":c,p=h?h.trim()+" ":"";return $.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(p).concat(gt(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},n?this.renderMonths():a?this.renderQuarters():this.renderWeeks())},e}(oe.Component),KV=function(i){$t(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.isSelectedMonth=function(n){return t.props.month===n},t.renderOptions=function(){return t.props.monthNames.map(function(n,a){return $.createElement("div",{className:t.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:t.onChange.bind(t,a),"aria-selected":t.isSelectedMonth(a)?"true":void 0},t.isSelectedMonth(a)?$.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",n)})},t.onChange=function(n){return t.props.onChange(n)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return $.createElement(Rd,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(oe.Component),WV=function(i){$t(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(n){return n.map(function(a,o){return $.createElement("option",{key:a,value:o},a)})},t.renderSelectMode=function(n){return $.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(a){return t.onChange(parseInt(a.target.value))}},t.renderSelectOptions(n))},t.renderReadView=function(n,a){return $.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},$.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),$.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[t.props.month]))},t.renderDropdown=function(n){return $.createElement(KV,Ke({key:"dropdown"},t.props,{monthNames:n,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(n){var a=t.state.dropdownVisible,o=[t.renderReadView(!a,n)];return a&&o.unshift(t.renderDropdown(n)),o},t.onChange=function(n){t.toggleDropdown(),n!==t.props.month&&t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return xD(o,t.props.locale)}:function(o){return Fy(o,t.props.locale)}),a;switch(this.props.dropdownMode){case"scroll":a=this.renderScrollMode(n);break;case"select":a=this.renderSelectMode(n);break}return $.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},a)},e}(oe.Component);function XV(i,e){for(var t=[],n=Di(i),a=Di(e);!Ma(n,a);)t.push(Je(n)),n=pr(n,1);return t}var $V=function(i){$t(e,i);function e(t){var n=i.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(a){var o=kg(a),c=xr(n.props.date,a)&&En(n.props.date,a);return $.createElement("div",{className:c?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:n.onChange.bind(n,o),"aria-selected":c?"true":void 0},c?$.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",gt(a,n.props.dateFormat,n.props.locale))})},n.onChange=function(a){return n.props.onChange(a)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:XV(n.props.minDate,n.props.maxDate)},n}return e.prototype.render=function(){var t=sn({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return $.createElement(Rd,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(oe.Component),ZV=function(i){$t(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=Di(t.props.minDate),a=Di(t.props.maxDate),o=[];!Ma(n,a);){var c=kg(n);o.push($.createElement("option",{key:c,value:c},gt(n,t.props.dateFormat,t.props.locale))),n=pr(n,1)}return o},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return $.createElement("select",{value:kg(Di(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){var a=gt(t.props.date,t.props.dateFormat,t.props.locale);return $.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},$.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),$.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))},t.renderDropdown=function(){return $.createElement($V,Ke({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,a=[t.renderReadView(!n)];return n&&a.unshift(t.renderDropdown()),a},t.onChange=function(n){t.toggleDropdown();var a=Je(n);xr(t.props.date,a)&&En(t.props.date,a)||t.props.onChange(a)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return $.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(oe.Component),JV=function(i){$t(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,a,o;t.list&&(t.list.scrollTop=(o=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((a=(n=t.header)===null||n===void 0?void 0:n.clientHeight)!==null&&a!==void 0?a:0):t.list.clientHeight,t.centerLi))!==null&&o!==void 0?o:0)})},t.handleClick=function(n){var a,o;(t.props.minTime||t.props.maxTime)&&gT(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&mT(n,t.props)||(o=(a=t.props).onChange)===null||o===void 0||o.call(a,n)},t.isSelectedTime=function(n){return t.props.selected&&zV(t.props.selected,n)},t.isDisabledTime=function(n){return(t.props.minTime||t.props.maxTime)&&gT(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&mT(n,t.props)},t.liClasses=function(n){var a,o=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(n):void 0];return t.isSelectedTime(n)&&o.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(n)&&o.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(bi(n)*3600+Si(n)*60+Ta(n))%(((a=t.props.intervals)!==null&&a!==void 0?a:e.defaultProps.intervals)*60)!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},t.handleOnKeyDown=function(n,a){var o,c;n.key===he.Space&&(n.preventDefault(),n.key=he.Enter),(n.key===he.ArrowUp||n.key===he.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===he.ArrowDown||n.key===he.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===he.Enter&&t.handleClick(a),(c=(o=t.props).handleOnKeyDown)===null||c===void 0||c.call(o,n)},t.renderTimes=function(){for(var n,a=[],o=typeof t.props.format=="string"?t.props.format:"p",c=(n=t.props.intervals)!==null&&n!==void 0?n:e.defaultProps.intervals,h=t.props.selected||t.props.openToDate||Je(),p=_h(h),g=t.props.injectTimes&&t.props.injectTimes.sort(function(I,Q){return I.getTime()-Q.getTime()}),v=60*HV(h),E=v/c,T=0;T<E;T++){var A=Ig(p,T*c);if(a.push(A),g){var N=BV(p,A,T,c,g);a=a.concat(N)}}var U=a.reduce(function(I,Q){return Q.getTime()<=h.getTime()?Q:I},a[0]);return a.map(function(I){return $.createElement("li",{key:I.valueOf(),onClick:t.handleClick.bind(t,I),className:t.liClasses(I),ref:function(Q){I===U&&(t.centerLi=Q)},onKeyDown:function(Q){t.handleOnKeyDown(Q,I)},tabIndex:I===U?0:-1,role:"option","aria-selected":t.isSelectedTime(I)?"true":void 0,"aria-disabled":t.isDisabledTime(I)?"true":void 0},gt(I,o,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?$.createElement($.Fragment,null):$.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){t.header=n}},$.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},e.prototype.componentWillUnmount=function(){var t;(t=this.resizeObserver)===null||t===void 0||t.disconnect()},e.prototype.observeDatePickerHeightChanges=function(){var t=this,n=this.props.monthRef;this.updateContainerHeight(),n&&(this.resizeObserver=new ResizeObserver(function(){t.updateContainerHeight()}),this.resizeObserver.observe(n))},e.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,n,a=this.state.height;return $.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),$.createElement("div",{className:"react-datepicker__time"},$.createElement("div",{className:"react-datepicker__time-box"},$.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){t.list=o},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,n){return n.offsetTop-(t/2-n.clientHeight/2)},e}(oe.Component),RT=3,e4=function(i){$t(e,i);function e(t){var n=i.call(this,t)||this;return n.YEAR_REFS=Lr([],Array(n.props.yearItemNumber),!0).map(function(){return oe.createRef()}),n.isDisabled=function(a){return er(a,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(a){return qy(a,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var a;return(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection},n.updateFocusOnPaginate=function(a){var o=function(){var c,h;(h=(c=n.YEAR_REFS[a])===null||c===void 0?void 0:c.current)===null||h===void 0||h.focus()};window.requestAnimationFrame(o)},n.handleYearClick=function(a,o){n.props.onDayClick&&n.props.onDayClick(a,o)},n.handleYearNavigation=function(a,o){var c,h,p,g,v=n.props,E=v.date,T=v.yearItemNumber;if(!(E===void 0||T===void 0)){var A=ma(E,T).startPeriod;n.isDisabled(o)||n.isExcluded(o)||((h=(c=n.props).setPreSelection)===null||h===void 0||h.call(c,o),a-A<0?n.updateFocusOnPaginate(T-(A-a)):a-A>=T?n.updateFocusOnPaginate(Math.abs(T-(a-A))):(g=(p=n.YEAR_REFS[a-A])===null||p===void 0?void 0:p.current)===null||g===void 0||g.focus())}},n.isSameDay=function(a,o){return Qe(a,o)},n.isCurrentYear=function(a){return a===Ve(Je())},n.isRangeStart=function(a){return n.props.startDate&&n.props.endDate&&xr(Nr(Je(),a),n.props.startDate)},n.isRangeEnd=function(a){return n.props.startDate&&n.props.endDate&&xr(Nr(Je(),a),n.props.endDate)},n.isInRange=function(a){return nh(a,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(a){var o=n.props,c=o.selectsStart,h=o.selectsEnd,p=o.selectsRange,g=o.startDate,v=o.endDate;return!(c||h||p)||!n.selectingDate()?!1:c&&v?nh(a,n.selectingDate(),v):h&&g||p&&g&&!v?nh(a,g,n.selectingDate()):!1},n.isSelectingRangeStart=function(a){var o;if(!n.isInSelectingRange(a))return!1;var c=n.props,h=c.startDate,p=c.selectsStart,g=Nr(Je(),a);return p?xr(g,(o=n.selectingDate())!==null&&o!==void 0?o:null):xr(g,h??null)},n.isSelectingRangeEnd=function(a){var o;if(!n.isInSelectingRange(a))return!1;var c=n.props,h=c.endDate,p=c.selectsEnd,g=c.selectsRange,v=Nr(Je(),a);return p||g?xr(v,(o=n.selectingDate())!==null&&o!==void 0?o:null):xr(v,h??null)},n.isKeyboardSelected=function(a){if(!(n.props.date===void 0||n.props.selected==null||n.props.preSelection==null)){var o=n.props,c=o.minDate,h=o.maxDate,p=o.excludeDates,g=o.includeDates,v=o.filterDate,E=Lu(Nr(n.props.date,a)),T=(c||h||p||g||v)&&Eh(a,n.props);return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!Qe(E,Lu(n.props.selected))&&Qe(E,Lu(n.props.preSelection))&&!T}},n.isSelectedYear=function(a){var o=n.props,c=o.selectsMultiple,h=o.selected,p=o.selectedDates;return c?p==null?void 0:p.some(function(g){return a===Ve(g)}):!!h&&a===Ve(h)},n.onYearClick=function(a,o){var c=n.props.date;c!==void 0&&n.handleYearClick(Lu(Nr(c,o)),a)},n.onYearKeyDown=function(a,o){var c,h,p=a.key,g=n.props,v=g.date,E=g.yearItemNumber,T=g.handleOnKeyDown;if(p!==he.Tab&&a.preventDefault(),!n.props.disabledKeyboardNavigation)switch(p){case he.Enter:if(n.props.selected==null)break;n.onYearClick(a,o),(h=(c=n.props).setPreSelection)===null||h===void 0||h.call(c,n.props.selected);break;case he.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(o+1,wi(n.props.preSelection,1));break;case he.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(o-1,il(n.props.preSelection,1));break;case he.ArrowUp:{if(v===void 0||E===void 0||n.props.preSelection==null)break;var A=ma(v,E).startPeriod,N=RT,U=o-N;if(U<A){var I=E%N;o>=A&&o<A+I?N=I:N+=I,U=o-N}n.handleYearNavigation(U,il(n.props.preSelection,N));break}case he.ArrowDown:{if(v===void 0||E===void 0||n.props.preSelection==null)break;var Q=ma(v,E).endPeriod,N=RT,U=o+N;if(U>Q){var I=E%N;o<=Q&&o>Q-I?N=I:N+=I,U=o+N}n.handleYearNavigation(U,wi(n.props.preSelection,N));break}}T&&T(a)},n.getYearClassNames=function(a){var o=n.props,c=o.date,h=o.minDate,p=o.maxDate,g=o.excludeDates,v=o.includeDates,E=o.filterDate,T=o.yearClassName;return sn("react-datepicker__year-text","react-datepicker__year-".concat(a),c?T==null?void 0:T(Nr(c,a)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(a),"react-datepicker__year-text--disabled":(h||p||g||v||E)&&Eh(a,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(a),"react-datepicker__year-text--range-start":n.isRangeStart(a),"react-datepicker__year-text--range-end":n.isRangeEnd(a),"react-datepicker__year-text--in-range":n.isInRange(a),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(a),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(a),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(a),"react-datepicker__year-text--today":n.isCurrentYear(a)})},n.getYearTabIndex=function(a){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var o=Ve(n.props.preSelection),c=Eh(a,n.props);return a===o&&!c?"0":"-1"},n.getYearContent=function(a){return n.props.renderYearContent?n.props.renderYearContent(a):a},n}return e.prototype.render=function(){var t=this,n=[],a=this.props,o=a.date,c=a.yearItemNumber,h=a.onYearMouseEnter,p=a.onYearMouseLeave;if(o===void 0)return null;for(var g=ma(o,c),v=g.startPeriod,E=g.endPeriod,T=function(U){n.push($.createElement("div",{ref:A.YEAR_REFS[U-v],onClick:function(I){t.onYearClick(I,U)},onKeyDown:function(I){UD(I)&&(I.preventDefault(),I.key=he.Enter),t.onYearKeyDown(I,U)},tabIndex:Number(A.getYearTabIndex(U)),className:A.getYearClassNames(U),onMouseEnter:A.props.usePointerEvent?void 0:function(I){return h(I,U)},onPointerEnter:A.props.usePointerEvent?function(I){return h(I,U)}:void 0,onMouseLeave:A.props.usePointerEvent?void 0:function(I){return p(I,U)},onPointerLeave:A.props.usePointerEvent?function(I){return p(I,U)}:void 0,key:U,"aria-current":A.isCurrentYear(U)?"date":void 0},A.getYearContent(U)))},A=this,N=v;N<=E;N++)T(N);return $.createElement("div",{className:"react-datepicker__year"},$.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},e}(oe.Component);function t4(i,e,t,n){for(var a=[],o=0;o<2*e+1;o++){var c=i+e-o,h=!0;t&&(h=Ve(t)<=c),n&&h&&(h=Ve(n)>=c),h&&a.push(c)}return a}var n4=function(i){$t(e,i);function e(t){var n=i.call(this,t)||this;n.renderOptions=function(){var h=n.props.year,p=n.state.yearsList.map(function(E){return $.createElement("div",{className:h===E?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:E,onClick:n.onChange.bind(n,E),"aria-selected":h===E?"true":void 0},h===E?$.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",E)}),g=n.props.minDate?Ve(n.props.minDate):null,v=n.props.maxDate?Ve(n.props.maxDate):null;return(!v||!n.state.yearsList.find(function(E){return E===v}))&&p.unshift($.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},$.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!g||!n.state.yearsList.find(function(E){return E===g}))&&p.push($.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},$.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),p},n.onChange=function(h){n.props.onChange(h)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(h){var p=n.state.yearsList.map(function(g){return g+h});n.setState({yearsList:p})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var a=t.yearDropdownItemNumber,o=t.scrollableYearDropdown,c=a||(o?10:5);return n.state={yearsList:t4(n.props.year,c,n.props.minDate,n.props.maxDate)},n.dropdownRef=oe.createRef(),n}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var n=t.children?Array.from(t.children):null,a=n?n.find(function(o){return o.ariaSelected}):null;t.scrollTop=a&&a instanceof HTMLElement?a.offsetTop+(a.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=sn({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return $.createElement(Rd,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(oe.Component),r4=function(i){$t(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=t.props.minDate?Ve(t.props.minDate):1900,a=t.props.maxDate?Ve(t.props.maxDate):2100,o=[],c=n;c<=a;c++)o.push($.createElement("option",{key:c,value:c},c));return o},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return $.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){return $.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(a){return t.toggleDropdown(a)}},$.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),$.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return $.createElement(n4,Ke({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,a=[t.renderReadView(!n)];return n&&a.unshift(t.renderDropdown()),a},t.onChange=function(n){t.toggleDropdown(),n!==t.props.year&&t.props.onChange(n)},t.toggleDropdown=function(n){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,n)})},t.handleYearChange=function(n,a){var o;(o=t.onSelect)===null||o===void 0||o.call(t,n,a),t.setOpen()},t.onSelect=function(n,a){var o,c;(c=(o=t.props).onSelect)===null||c===void 0||c.call(o,n,a)},t.setOpen=function(){var n,a;(a=(n=t.props).setOpen)===null||a===void 0||a.call(n,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return $.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(oe.Component),i4=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],a4=function(i){var e=(i.className||"").split(/\s+/);return i4.some(function(t){return e.indexOf(t)>=0})},s4=function(i){$t(e,i);function e(t){var n=i.call(this,t)||this;return n.monthContainer=void 0,n.handleClickOutside=function(a){n.props.onClickOutside(a)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(a){var o,c;a4(a.target)&&((c=(o=n.props).onDropdownFocus)===null||c===void 0||c.call(o,a))},n.getDateInView=function(){var a=n.props,o=a.preSelection,c=a.selected,h=a.openToDate,p=VD(n.props),g=LD(n.props),v=Je(),E=h||c||o;return E||(p&&Ps(v,p)?p:g&&Ma(v,g)?g:v)},n.increaseMonth=function(){n.setState(function(a){var o=a.date;return{date:pr(o,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(a){var o=a.date;return{date:As(o,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(a,o,c){n.props.onSelect(a,o,c),n.props.setPreSelection&&n.props.setPreSelection(a)},n.handleDayMouseEnter=function(a){n.setState({selectingDate:a}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(a)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(a,o){n.setState({selectingDate:Nr(Je(),o)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(a,o)},n.handleYearMouseLeave=function(a,o){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(a,o)},n.handleYearChange=function(a){var o,c,h,p;(c=(o=n.props).onYearChange)===null||c===void 0||c.call(o,a),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(a),(p=(h=n.props).setOpen)===null||p===void 0||p.call(h,!0)),n.props.setPreSelection&&n.props.setPreSelection(a)},n.getEnabledPreSelectionDateForMonth=function(a){if(!er(a,n.props))return a;for(var o=Di(a),c=RV(a),h=WN(c,o),p=null,g=0;g<=h;g++){var v=fr(o,g);if(!er(v,n.props)){p=v;break}}return p},n.handleMonthChange=function(a){var o,c,h,p=(o=n.getEnabledPreSelectionDateForMonth(a))!==null&&o!==void 0?o:a;n.handleCustomMonthChange(p),n.props.adjustDateOnChange&&(n.props.onSelect(p),(h=(c=n.props).setOpen)===null||h===void 0||h.call(c,!0)),n.props.setPreSelection&&n.props.setPreSelection(p)},n.handleCustomMonthChange=function(a){var o,c;(c=(o=n.props).onMonthChange)===null||c===void 0||c.call(o,a),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(a){n.handleYearChange(a),n.handleMonthChange(a)},n.changeYear=function(a){n.setState(function(o){var c=o.date;return{date:Nr(c,Number(a))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(a){n.setState(function(o){var c=o.date;return{date:Jn(c,Number(a))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(a){n.setState(function(o){var c=o.date;return{date:Nr(Jn(c,pn(a)),Ve(a))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(a){a===void 0&&(a=n.state.date);var o=ba(a,n.props.locale,n.props.calendarStartDay),c=[];return n.props.showWeekNumbers&&c.push($.createElement("div",{key:"W",className:"react-datepicker__day-name"},n.props.weekLabel||"#")),c.concat([0,1,2,3,4,5,6].map(function(h){var p=fr(o,h),g=n.formatWeekday(p,n.props.locale),v=n.props.weekDayClassName?n.props.weekDayClassName(p):void 0;return $.createElement("div",{key:h,"aria-label":gt(p,"EEEE",n.props.locale),className:sn("react-datepicker__day-name",v)},g)}))},n.formatWeekday=function(a,o){return n.props.formatWeekDay?CV(a,n.props.formatWeekDay,o):n.props.useWeekdaysShort?MV(a,o):IV(a,o)},n.decreaseYear=function(){n.setState(function(a){var o,c=a.date;return{date:il(c,n.props.showYearPicker?(o=n.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var a,o,c;if(!n.props.renderCustomHeader){var h=(a=n.props.monthsShown)!==null&&a!==void 0?a:e.defaultProps.monthsShown,p=n.props.showPreviousMonths?h-1:0,g=(o=n.props.monthSelectedIn)!==null&&o!==void 0?o:p,v=As(n.state.date,g),E;switch(!0){case n.props.showMonthYearPicker:E=_T(n.state.date,n.props);break;case n.props.showYearPicker:E=PV(n.state.date,n.props);break;case n.props.showQuarterYearPicker:E=NV(n.state.date,n.props);break;default:E=yT(v,n.props);break}if(!(!((c=n.props.forceShowMonthNavigation)!==null&&c!==void 0?c:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&E||n.props.showTimeSelectOnly)){var T=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],A=["react-datepicker__navigation","react-datepicker__navigation--previous"],N=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(N=n.decreaseYear),E&&n.props.showDisabledMonthNavigation&&(A.push("react-datepicker__navigation--previous--disabled"),N=void 0);var U=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,I=n.props,Q=I.previousMonthButtonLabel,W=Q===void 0?e.defaultProps.previousMonthButtonLabel:Q,K=I.previousYearButtonLabel,ae=K===void 0?e.defaultProps.previousYearButtonLabel:K,ie=n.props,ce=ie.previousMonthAriaLabel,M=ce===void 0?typeof W=="string"?W:"Previous Month":ce,D=ie.previousYearAriaLabel,R=D===void 0?typeof ae=="string"?ae:"Previous Year":D;return $.createElement("button",{type:"button",className:A.join(" "),onClick:N,onKeyDown:n.props.handleOnKeyDown,"aria-label":U?R:M},$.createElement("span",{className:T.join(" ")},U?ae:W))}}},n.increaseYear=function(){n.setState(function(a){var o,c=a.date;return{date:wi(c,n.props.showYearPicker?(o=n.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var a;if(!n.props.renderCustomHeader){var o;switch(!0){case n.props.showMonthYearPicker:o=ET(n.state.date,n.props);break;case n.props.showYearPicker:o=VV(n.state.date,n.props);break;case n.props.showQuarterYearPicker:o=xV(n.state.date,n.props);break;default:o=vT(n.state.date,n.props);break}if(!(!((a=n.props.forceShowMonthNavigation)!==null&&a!==void 0?a:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&o||n.props.showTimeSelectOnly)){var c=["react-datepicker__navigation","react-datepicker__navigation--next"],h=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&c.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&c.push("react-datepicker__navigation--next--with-today-button");var p=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(p=n.increaseYear),o&&n.props.showDisabledMonthNavigation&&(c.push("react-datepicker__navigation--next--disabled"),p=void 0);var g=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,v=n.props,E=v.nextMonthButtonLabel,T=E===void 0?e.defaultProps.nextMonthButtonLabel:E,A=v.nextYearButtonLabel,N=A===void 0?e.defaultProps.nextYearButtonLabel:A,U=n.props,I=U.nextMonthAriaLabel,Q=I===void 0?typeof T=="string"?T:"Next Month":I,W=U.nextYearAriaLabel,K=W===void 0?typeof N=="string"?N:"Next Year":W;return $.createElement("button",{type:"button",className:c.join(" "),onClick:p,onKeyDown:n.props.handleOnKeyDown,"aria-label":g?K:Q},$.createElement("span",{className:h.join(" ")},g?N:T))}}},n.renderCurrentMonth=function(a){a===void 0&&(a=n.state.date);var o=["react-datepicker__current-month"];return n.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),$.createElement("h2",{className:o.join(" ")},gt(a,n.props.dateFormat,n.props.locale))},n.renderYearDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showYearDropdown||a))return $.createElement(r4,Ke({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:Ve(n.state.date)}))},n.renderMonthDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showMonthDropdown||a))return $.createElement(WV,Ke({},e.defaultProps,n.props,{month:pn(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showMonthYearDropdown||a))return $.createElement(ZV,Ke({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(a){n.props.onSelect(hT(),a),n.props.setPreSelection&&n.props.setPreSelection(hT())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return $.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDefaultHeader=function(a){var o=a.monthDate,c=a.i;return $.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(o),$.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(c!==0),n.renderMonthYearDropdown(c!==0),n.renderYearDropdown(c!==0)),$.createElement("div",{className:"react-datepicker__day-names"},n.header(o)))},n.renderCustomHeader=function(a){var o,c,h=a.monthDate,p=a.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var g=yT(n.state.date,n.props),v=vT(n.state.date,n.props),E=_T(n.state.date,n.props),T=ET(n.state.date,n.props),A=!n.props.showMonthYearPicker&&!n.props.showQuarterYearPicker&&!n.props.showYearPicker;return $.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(c=(o=n.props).renderCustomHeader)===null||c===void 0?void 0:c.call(o,Ke(Ke({},n.state),{customHeaderCount:p,monthDate:h,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:g,nextMonthButtonDisabled:v,prevYearButtonDisabled:E,nextYearButtonDisabled:T})),A&&$.createElement("div",{className:"react-datepicker__day-names"},n.header(h)))},n.renderYearHeader=function(a){var o=a.monthDate,c=n.props,h=c.showYearPicker,p=c.yearItemNumber,g=p===void 0?e.defaultProps.yearItemNumber:p,v=ma(o,g),E=v.startPeriod,T=v.endPeriod;return $.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},h?"".concat(E," - ").concat(T):Ve(o))},n.renderHeader=function(a){var o=a.monthDate,c=a.i,h=c===void 0?0:c,p={monthDate:o,i:h};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(p);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(p);default:return n.renderDefaultHeader(p)}},n.renderMonths=function(){var a,o;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var c=[],h=(a=n.props.monthsShown)!==null&&a!==void 0?a:e.defaultProps.monthsShown,p=n.props.showPreviousMonths?h-1:0,g=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?wi(n.state.date,p):As(n.state.date,p),v=(o=n.props.monthSelectedIn)!==null&&o!==void 0?o:p,E=0;E<h;++E){var T=E-v+p,A=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?wi(g,T):pr(g,T),N="month-".concat(E),U=E<h-1,I=E>0;c.push($.createElement("div",{key:N,ref:function(Q){n.monthContainer=Q??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:A,i:E}),$.createElement(QV,Ke({},e.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:A,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:E,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:U,monthShowsDuplicateDaysStart:I}))))}return c}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return $.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),$.createElement(e4,Ke({},e.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return $.createElement(JV,Ke({},e.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var a=n.props.selected?new Date(n.props.selected):void 0,o=a&&Cd(a)&&!!n.props.selected,c=o?"".concat(TT(a.getHours()),":").concat(TT(a.getMinutes())):"";if(n.props.showTimeInput)return $.createElement(YV,Ke({},e.defaultProps,n.props,{date:a,timeString:c,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var a,o=ma(n.state.date,(a=n.props.yearItemNumber)!==null&&a!==void 0?a:e.defaultProps.yearItemNumber),c=o.startPeriod,h=o.endPeriod,p;return n.props.showYearPicker?p="".concat(c," - ").concat(h):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?p=Ve(n.state.date):p="".concat(Fy(pn(n.state.date),n.props.locale)," ").concat(Ve(n.state.date)),$.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&p)},n.renderChildren=function(){if(n.props.children)return $.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=oe.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:yc}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},e.prototype.componentDidUpdate=function(t){var n=this;if(this.props.preSelection&&(!Qe(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var a=!En(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return a&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!Qe(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||EV;return $.createElement(Rd,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},$.createElement("div",{style:{display:"contents"},ref:this.containerRef},$.createElement(t,{className:sn("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e}(oe.Component),o4=function(i){var e=i.icon,t=i.className,n=t===void 0?"":t,a=i.onClick,o="react-datepicker__calendar-icon";if(typeof e=="string")return $.createElement("i",{className:"".concat(o," ").concat(e," ").concat(n),"aria-hidden":"true",onClick:a});if($.isValidElement(e)){var c=e;return $.cloneElement(c,{className:"".concat(c.props.className||""," ").concat(o," ").concat(n),onClick:function(h){typeof c.props.onClick=="function"&&c.props.onClick(h),typeof a=="function"&&a(h)}})}return $.createElement("svg",{className:"".concat(o," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},$.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},BD=function(i){$t(e,i);function e(t){var n=i.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return IP.createPortal(this.props.children,this.el)},e}(oe.Component),l4="[tabindex], a, button, input, select, textarea",u4=function(i){return(i instanceof HTMLAnchorElement||!i.disabled)&&i.tabIndex!==-1},HD=function(i){$t(e,i);function e(t){var n=i.call(this,t)||this;return n.getTabChildren=function(){var a;return Array.prototype.slice.call((a=n.tabLoopRef.current)===null||a===void 0?void 0:a.querySelectorAll(l4),1,-1).filter(u4)},n.handleFocusStart=function(){var a=n.getTabChildren();a&&a.length>1&&a[a.length-1].focus()},n.handleFocusEnd=function(){var a=n.getTabChildren();a&&a.length>1&&a[0].focus()},n.tabLoopRef=oe.createRef(),n}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?$.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},$.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,$.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(oe.Component);function c4(i){var e=function(t){var n,a=typeof t.hidePopper=="boolean"?t.hidePopper:!0,o=oe.useRef(null),c=_V(Ke({open:!a,whileElementsMounted:$P,placement:t.popperPlacement,middleware:Lr([sV({padding:15}),aV(10),oV({element:o})],(n=t.popperModifiers)!==null&&n!==void 0?n:[],!0)},t.popperProps)),h=Ke(Ke({},t),{hidePopper:a,popperProps:Ke(Ke({},c),{arrowRef:o})});return $.createElement(i,Ke({},h))};return e}var f4=function(i){$t(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this.props,n=t.className,a=t.wrapperClassName,o=t.hidePopper,c=o===void 0?e.defaultProps.hidePopper:o,h=t.popperComponent,p=t.targetComponent,g=t.enableTabLoop,v=t.popperOnKeyDown,E=t.portalId,T=t.portalHost,A=t.popperProps,N=t.showArrow,U=void 0;if(!c){var I=sn("react-datepicker-popper",n);U=$.createElement(HD,{enableTabLoop:g},$.createElement("div",{ref:A.refs.setFloating,style:A.floatingStyles,className:I,"data-placement":A.placement,onKeyDown:v},h,N&&$.createElement(hV,{ref:A.arrowRef,context:A.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(U=oe.createElement(this.props.popperContainer,{},U)),E&&!c&&(U=$.createElement(BD,{portalId:E,portalHost:T},U));var Q=sn("react-datepicker-wrapper",a);return $.createElement($.Fragment,null,$.createElement("div",{ref:A.refs.setReference,className:Q},p),U)},e}(oe.Component),h4=c4(f4),CT="react-datepicker-ignore-onclickoutside";function d4(i,e){return i&&e?pn(i)!==pn(e)||Ve(i)!==Ve(e):i!==e}var Jm="Date input not valid.",IT=function(i){$t(e,i);function e(t){var n=i.call(this,t)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:Je()},n.modifyHolidays=function(){var a;return(a=n.props.holidays)===null||a===void 0?void 0:a.reduce(function(o,c){var h=new Date(c.date);return Cd(h)?Lr(Lr([],o,!0),[Ke(Ke({},c),{date:h})],!1):o},[])},n.calcInitialState=function(){var a,o=n.getPreSelection(),c=VD(n.props),h=LD(n.props),p=c&&Ps(o,_h(c))?c:h&&Ma(o,dT(h))?h:o;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(a=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&a!==void 0?a:p,highlightDates:wT(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.resetHiddenStatus=function(){n.setState(Ke(Ke({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(Ke(Ke({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var a,o;(o=(a=n.input)===null||a===void 0?void 0:a.focus)===null||o===void 0||o.call(a,{preventScroll:!0})},n.setBlur=function(){var a,o;(o=(a=n.input)===null||a===void 0?void 0:a.blur)===null||o===void 0||o.call(a),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(a,o){o===void 0&&(o=!1),n.setState({open:a,preSelection:a&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:eg},function(){a||n.setState(function(c){return{focused:o?c.focused:!1}},function(){!o&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return Ti(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(a){var o,c,h=n.state.wasHidden,p=h?n.state.open:!0;h&&n.resetHiddenStatus(),n.state.preventFocus||((c=(o=n.props).onFocus)===null||c===void 0||c.call(o,a),p&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.handleBlur=function(a){var o,c;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((c=(o=n.props).onBlur)===null||c===void 0||c.call(o,a)),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(a){var o,c;n.props.inline||n.setOpen(!1),(c=(o=n.props).onClickOutside)===null||c===void 0||c.call(o,a),n.props.withPortal&&a.preventDefault()},n.handleChange=function(){for(var a,o,c,h,p,g=[],v=0;v<arguments.length;v++)g[v]=arguments[v];var E=g[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,g),!E||typeof E.isDefaultPrevented!="function"||E.isDefaultPrevented()))){n.setState({inputValue:(E==null?void 0:E.target)instanceof HTMLInputElement?E.target.value:null,lastPreSelectChange:p4});var T=n.props,A=T.selectsRange,N=T.startDate,U=T.endDate,I=(a=n.props.dateFormat)!==null&&a!==void 0?a:e.defaultProps.dateFormat,Q=(o=n.props.strictParsing)!==null&&o!==void 0?o:e.defaultProps.strictParsing,W=(E==null?void 0:E.target)instanceof HTMLInputElement?E.target.value:"";if(A){var K=W.split(I.includes("-")?ND:"-",2).map(function(P){return P.trim()}),ae=K[0],ie=K[1],ce=Xm(ae??"",I,n.props.locale,Q),M=Xm(ie??"",I,n.props.locale,Q),D=(N==null?void 0:N.getTime())!==(ce==null?void 0:ce.getTime()),R=(U==null?void 0:U.getTime())!==(M==null?void 0:M.getTime());if(!D&&!R||ce&&er(ce,n.props)||M&&er(M,n.props))return;(h=(c=n.props).onChange)===null||h===void 0||h.call(c,[ce,M],E)}else{var O=Xm(W,I,n.props.locale,Q,(p=n.props.selected)!==null&&p!==void 0?p:void 0);(O||!W)&&n.setSelected(O,E,!0)}}},n.handleSelect=function(a,o,c){if(!n.props.readOnly){if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(o),n.setSelected(a,o,!1,c),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect)n.setPreSelection(a);else if(!n.props.inline){n.props.selectsRange||n.setOpen(!1);var h=n.props,p=h.startDate,g=h.endDate;p&&!g&&(n.props.swapRange||!DT(a,p))&&n.setOpen(!1)}}},n.setSelected=function(a,o,c,h){var p,g,v=a;if(n.props.showYearPicker){if(v!==null&&Eh(Ve(v),n.props))return}else if(n.props.showMonthYearPicker){if(v!==null&&PD(v,n.props))return}else if(v!==null&&er(v,n.props))return;var E=n.props,T=E.onChange,A=E.selectsRange,N=E.startDate,U=E.endDate,I=E.selectsMultiple,Q=E.selectedDates,W=E.minTime,K=E.swapRange;if(!bs(n.props.selected,v)||n.props.allowSameDay||A||I)if(v!==null&&(n.props.selected&&(!c||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(v=$m(v,{hour:bi(n.props.selected),minute:Si(n.props.selected),second:Ta(n.props.selected)})),!c&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&W&&(v=$m(v,{hour:W.getHours(),minute:W.getMinutes(),second:W.getSeconds()})),n.props.inline||n.setState({preSelection:v}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:h})),A){var ae=!N&&!U,ie=N&&!U,ce=N&&U;ae?T==null||T([v,null],o):ie&&(v===null?T==null||T([null,null],o):DT(v,N)?K?T==null||T([v,N],o):T==null||T([v,null],o):T==null||T([N,v],o)),ce&&(T==null||T([v,null],o))}else if(I){if(v!==null)if(!(Q!=null&&Q.length))T==null||T([v],o);else{var M=Q.some(function(R){return Qe(R,v)});if(M){var D=Q.filter(function(R){return!Qe(R,v)});T==null||T(D,o)}else T==null||T(Lr(Lr([],Q,!0),[v],!1),o)}}else T==null||T(v,o);c||((g=(p=n.props).onSelect)===null||g===void 0||g.call(p,v,o),n.setState({inputValue:null}))},n.setPreSelection=function(a){if(!n.props.readOnly){var o=Ti(n.props.minDate),c=Ti(n.props.maxDate),h=!0;if(a){var p=_h(a);if(o&&c)h=Uu(a,n.props.minDate,n.props.maxDate);else if(o){var g=_h(n.props.minDate);h=Ma(a,g)||bs(p,g)}else if(c){var v=dT(n.props.maxDate);h=Ps(a,v)||bs(p,v)}}h&&n.setState({preSelection:a})}},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(a){var o,c;if(!(n.props.selectsRange||n.props.selectsMultiple)){var h=n.props.selected?n.props.selected:n.getPreSelection(),p=n.props.selected?a:$m(h,{hour:bi(a),minute:Si(a)});n.setState({preSelection:p}),(c=(o=n.props).onChange)===null||c===void 0||c.call(o,p),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var a,o;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(o=(a=n.props).onInputClick)===null||o===void 0||o.call(a)},n.onInputKeyDown=function(a){var o,c,h,p,g,v;(c=(o=n.props).onKeyDown)===null||c===void 0||c.call(o,a);var E=a.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(E===he.ArrowDown||E===he.ArrowUp||E===he.Enter)&&((h=n.onInputClick)===null||h===void 0||h.call(n));return}if(n.state.open){if(E===he.ArrowDown||E===he.ArrowUp){a.preventDefault();var T=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',A=((p=n.calendar)===null||p===void 0?void 0:p.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(T);A instanceof HTMLElement&&A.focus({preventScroll:!0});return}var N=Je(n.state.preSelection);E===he.Enter?(a.preventDefault(),a.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===eg?(n.handleSelect(N,a),!n.props.shouldCloseOnSelect&&n.setPreSelection(N)):n.setOpen(!1)):E===he.Escape?(a.preventDefault(),a.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):E===he.Tab&&n.setOpen(!1),n.inputOk()||(v=(g=n.props).onInputError)===null||v===void 0||v.call(g,{code:1,msg:Jm})}},n.onPortalKeyDown=function(a){var o=a.key;o===he.Escape&&(a.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(a){var o,c,h,p,g,v,E=n.props,T=E.minDate,A=E.maxDate,N=E.disabledKeyboardNavigation,U=E.showWeekPicker,I=E.shouldCloseOnSelect,Q=E.locale,W=E.calendarStartDay,K=E.adjustDateOnChange,ae=E.inline;if((c=(o=n.props).onKeyDown)===null||c===void 0||c.call(o,a),!N){var ie=a.key,ce=a.shiftKey,M=Je(n.state.preSelection),D=function(we,H){var J=H;switch(we){case he.ArrowRight:J=U?Yh(H,1):fr(H,1);break;case he.ArrowLeft:J=U?nT(H):Wx(H);break;case he.ArrowUp:J=nT(H);break;case he.ArrowDown:J=Yh(H,1);break;case he.PageUp:J=ce?il(H,1):As(H,1);break;case he.PageDown:J=ce?wi(H,1):pr(H,1);break;case he.Home:J=ba(H,Q,W);break;case he.End:J=AV(H);break}return J},R=function(we,H){for(var J=40,se=we,Te=!1,x=0,ee=D(we,H);!Te;){if(x>=J){ee=H;break}T&&ee<T&&(se=he.ArrowRight,ee=er(T,n.props)?D(se,ee):T),A&&ee>A&&(se=he.ArrowLeft,ee=er(A,n.props)?D(se,ee):A),er(ee,n.props)?((se===he.PageUp||se===he.Home)&&(se=he.ArrowRight),(se===he.PageDown||se===he.End)&&(se=he.ArrowLeft),ee=D(se,ee)):Te=!0,x++}return ee};if(ie===he.Enter){a.preventDefault(),n.handleSelect(M,a),!I&&n.setPreSelection(M);return}else if(ie===he.Escape){a.preventDefault(),n.setOpen(!1),n.inputOk()||(p=(h=n.props).onInputError)===null||p===void 0||p.call(h,{code:1,msg:Jm});return}var O=null;switch(ie){case he.ArrowLeft:case he.ArrowRight:case he.ArrowUp:case he.ArrowDown:case he.PageUp:case he.PageDown:case he.Home:case he.End:O=R(ie,M);break}if(!O){(v=(g=n.props).onInputError)===null||v===void 0||v.call(g,{code:1,msg:Jm});return}if(a.preventDefault(),n.setState({lastPreSelectChange:eg}),K&&n.setSelected(O),n.setPreSelection(O),ae){var P=pn(M),V=pn(O),C=Ve(M),Re=Ve(O);P!==V||C!==Re?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}},n.onPopperKeyDown=function(a){var o=a.key;o===he.Escape&&(a.preventDefault(),n.sendFocusBackToInput(),n.setOpen(!1))},n.onClearClick=function(a){a&&a.preventDefault&&a.preventDefault(),n.sendFocusBackToInput();var o=n.props,c=o.selectsRange,h=o.onChange;c?h==null||h([null,null],a):h==null||h(null,a),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(a){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(a.target===document||a.target===document.documentElement||a.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(a)&&n.setOpen(!1)},n.renderCalendar=function(){var a,o;return!n.props.inline&&!n.isCalendarOpen()?null:$.createElement(s4,Ke({showMonthYearDropdown:void 0,ref:function(c){n.calendar=c}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(a=n.props.dateFormatCalendar)!==null&&a!==void 0?a:e.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:UV(n.modifyHolidays()),outsideClickIgnoreClass:CT,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(o=n.props.dropdownMode)!==null&&o!==void 0?o:e.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var a=n.props,o=a.dateFormat,c=o===void 0?e.defaultProps.dateFormat:o,h=a.locale,p=n.props.showTimeInput||n.props.showTimeSelect,g=p?"PPPPp":"PPPP",v;return n.props.selectsRange?v="Selected start date: ".concat(Zn(n.props.startDate,{dateFormat:g,locale:h}),". ").concat(n.props.endDate?"End date: "+Zn(n.props.endDate,{dateFormat:g,locale:h}):""):n.props.showTimeSelectOnly?v="Selected time: ".concat(Zn(n.props.selected,{dateFormat:c,locale:h})):n.props.showYearPicker?v="Selected year: ".concat(Zn(n.props.selected,{dateFormat:"yyyy",locale:h})):n.props.showMonthYearPicker?v="Selected month: ".concat(Zn(n.props.selected,{dateFormat:"MMMM yyyy",locale:h})):n.props.showQuarterYearPicker?v="Selected quarter: ".concat(Zn(n.props.selected,{dateFormat:"yyyy, QQQ",locale:h})):v="Selected date: ".concat(Zn(n.props.selected,{dateFormat:g,locale:h})),$.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},v)},n.renderDateInput=function(){var a,o,c,h=sn(n.props.className,(a={},a[CT]=n.state.open,a)),p=n.props.customInput||$.createElement("input",{type:"text"}),g=n.props.customInputRef||"ref",v=n.props,E=v.dateFormat,T=E===void 0?e.defaultProps.dateFormat:E,A=v.locale,N=typeof n.props.value=="string"?n.props.value:typeof n.state.inputValue=="string"?n.state.inputValue:n.props.selectsRange?TV(n.props.startDate,n.props.endDate,{dateFormat:T,locale:A}):n.props.selectsMultiple?bV((c=n.props.selectedDates)!==null&&c!==void 0?c:[],{dateFormat:T,locale:A}):Zn(n.props.selected,{dateFormat:T,locale:A});return oe.cloneElement(p,(o={},o[g]=function(U){n.input=U},o.value=N,o.onBlur=n.handleBlur,o.onChange=n.handleChange,o.onClick=n.onInputClick,o.onFocus=n.handleFocus,o.onKeyDown=n.onInputKeyDown,o.id=n.props.id,o.name=n.props.name,o.form=n.props.form,o.autoFocus=n.props.autoFocus,o.placeholder=n.props.placeholderText,o.disabled=n.props.disabled,o.autoComplete=n.props.autoComplete,o.className=sn(p.props.className,h),o.title=n.props.title,o.readOnly=n.props.readOnly,o.required=n.props.required,o.tabIndex=n.props.tabIndex,o["aria-describedby"]=n.props.ariaDescribedBy,o["aria-invalid"]=n.props.ariaInvalid,o["aria-labelledby"]=n.props.ariaLabelledBy,o["aria-required"]=n.props.ariaRequired,o))},n.renderClearButton=function(){var a=n.props,o=a.isClearable,c=a.disabled,h=a.selected,p=a.startDate,g=a.endDate,v=a.clearButtonTitle,E=a.clearButtonClassName,T=E===void 0?"":E,A=a.ariaLabelClose,N=A===void 0?"Close":A,U=a.selectedDates,I=a.readOnly;return o&&!I&&(h!=null||p!=null||g!=null||U!=null&&U.length)?$.createElement("button",{type:"button",className:sn("react-datepicker__close-icon",T,{"react-datepicker__close-icon--disabled":c}),disabled:c,"aria-label":N,onClick:n.onClearClick,title:v,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:yc,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,n){var a,o,c,h;t.inline&&d4(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:wT(this.props.highlightDates)}),!n.focused&&!bs(t.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((o=(a=this.props).onCalendarOpen)===null||o===void 0||o.call(a)),n.open===!0&&this.state.open===!1&&((h=(c=this.props).onCalendarClose)===null||h===void 0||h.call(c)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,n=t.showIcon,a=t.icon,o=t.calendarIconClassname,c=t.calendarIconClassName,h=t.toggleCalendarOnIconClick,p=this.state.open;return o&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),$.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&$.createElement(o4,Ke({icon:a,className:sn(c,!c&&o,p&&"react-datepicker-ignore-onclickoutside")},h?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var n=this.state.open?$.createElement(HD,{enableTabLoop:this.props.enableTabLoop},$.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(n=$.createElement(BD,Ke({portalId:this.props.portalId},this.props),n)),$.createElement("div",null,this.renderInputContainer(),n)}return $.createElement(h4,Ke({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(oe.Component),p4="input",eg="navigate";function m4({user:i}){const[e,t]=oe.useState(""),[n,a]=oe.useState(new Date),[o,c]=oe.useState(new Date),[h,p]=oe.useState([]),[g,v]=oe.useState("all"),E=o.toISOString().split("T")[0];oe.useEffect(()=>{const I=kN(Lw($f,"tasks"),Yw("userId","==",i.uid),Yw("date","==",E)),Q=BN(I,W=>{const K=W.docs.map(ae=>({id:ae.id,...ae.data()}));p(K)});return()=>Q()},[i.uid,E]);const T=async()=>{e.trim()===""||!n||(await UN(Lw($f,"tasks"),{userId:i.uid,text:e,completed:!1,date:E,startTime:n.toISOString(),completionTime:null,duration:null}),t(""),a(new Date))},A=async I=>{await LN(Rg($f,"tasks",I))},N=async I=>{const Q=new Date,W=Rg($f,"tasks",I.id);if(I.completed)await jw(W,{completed:!1,completionTime:null,duration:null});else{const K=Q-new Date(I.startTime),ae=Math.floor(K/6e4),ie=Math.floor(K%6e4/1e3);await jw(W,{completed:!0,completionTime:Q.toISOString(),duration:`${ae}m ${ie}s`})}},U=h.filter(I=>g==="completed"?I.completed:g==="active"?!I.completed:!0);return Ie.jsx("div",{className:"app-container",children:Ie.jsxs("div",{className:"todo-box",children:[Ie.jsx("h2",{children:"📅 Mrs Mommo's To-Do List"}),Ie.jsxs("div",{className:"input-group",children:[Ie.jsx(IT,{selected:o,onChange:I=>c(I),dateFormat:"yyyy-MM-dd",className:"todo-input"}),Ie.jsx(IT,{selected:n,onChange:I=>a(I),showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:15,timeCaption:"Start Time",dateFormat:"h:mm aa",className:"todo-input"}),Ie.jsx("input",{type:"text",value:e,placeholder:"Enter a task",onChange:I=>t(I.target.value),className:"todo-input"})]}),Ie.jsx("button",{onClick:T,className:"todo-add-button",children:"Add Task"}),Ie.jsx("div",{className:"filter-buttons",children:["all","active","completed"].map(I=>Ie.jsx("button",{onClick:()=>v(I),className:`filter-button ${g===I?"active":""}`,children:I.charAt(0).toUpperCase()+I.slice(1)},I))}),Ie.jsxs("table",{className:"task-table",children:[Ie.jsx("thead",{children:Ie.jsxs("tr",{children:[Ie.jsx("th",{children:"✔️"}),Ie.jsx("th",{children:"Task"}),Ie.jsx("th",{children:"Start"}),Ie.jsx("th",{children:"Completed"}),Ie.jsx("th",{children:"Duration"}),Ie.jsx("th",{children:"🗑️"})]})}),Ie.jsx("tbody",{children:U.map(I=>Ie.jsxs("tr",{children:[Ie.jsx("td",{children:Ie.jsx("input",{type:"checkbox",checked:I.completed,onChange:()=>N(I)})}),Ie.jsx("td",{className:I.completed?"completed":"",children:I.text}),Ie.jsx("td",{children:new Date(I.startTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),Ie.jsx("td",{children:I.completed?new Date(I.completionTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"--"}),Ie.jsx("td",{children:I.completed?I.duration:"--"}),Ie.jsx("td",{children:Ie.jsx("button",{onClick:()=>A(I.id),className:"delete-button","aria-label":"Delete task",children:"❌"})})]},I.id))})]})]})})}function g4(){const[i,e]=oe.useState(null),[t,n]=oe.useState(""),[a,o]=oe.useState(""),[c,h]=oe.useState(!1);oe.useEffect(()=>{const v=uI(Xf,E=>{e(E||null)});return()=>v()},[]);const p=async()=>{try{c?await aI(Xf,t,a):await sI(Xf,t,a)}catch(v){alert(v.message)}},g=()=>{cI(Xf)};return i?Ie.jsxs("div",{children:[Ie.jsxs("div",{className:"header",children:[Ie.jsxs("span",{children:["👋 Welcome, ",i.email]}),Ie.jsx("button",{onClick:g,className:"logout-button",children:"Logout"})]}),Ie.jsx(m4,{user:i})]}):Ie.jsxs("div",{className:"auth-container",children:[Ie.jsx("h2",{children:c?"Create an Account":"Login"}),Ie.jsx("input",{type:"email",placeholder:"Email",className:"auth-input",value:t,onChange:v=>n(v.target.value)}),Ie.jsx("input",{type:"password",placeholder:"Password",className:"auth-input",value:a,onChange:v=>o(v.target.value)}),Ie.jsx("button",{onClick:p,className:"auth-button",children:c?"Sign Up":"Login"}),Ie.jsxs("p",{children:[c?"Already have an account?":"Don't have an account?",Ie.jsx("button",{onClick:()=>h(!c),className:"toggle-button",children:c?"Login":"Sign up"})]})]})}T1.createRoot(document.getElementById("root")).render(Ie.jsx(oe.StrictMode,{children:Ie.jsx(g4,{})}));
